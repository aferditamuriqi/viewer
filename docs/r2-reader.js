var R2Reader=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=19)}([function(t,e,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)s(i,n)&&(t[n]=i[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,i,n,s){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),s);else for(var o=0;o<n;o++)t[s+o]=e[i+o]},flattenChunks:function(t){var e,i,n,s,o,a;for(n=0,e=0,i=t.length;e<i;e++)n+=t[e].length;for(a=new Uint8Array(n),s=0,e=0,i=t.length;e<i;e++)o=t[e],a.set(o,s),s+=o.length;return a}},a={arraySet:function(t,e,i,n,s){for(var o=0;o<n;o++)t[s+o]=e[i+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(n)},function(t,e,i){(function(i){var n,s=function t(e,i,n){null===e&&(e=Function.prototype);var s=Object.getOwnPropertyDescriptor(e,i);if(void 0===s){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in s)return s.value;var a=s.get;return void 0!==a?a.call(n):void 0},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();
/*!
 * Materialize v1.0.0 (http://materializecss.com)
 * Copyright 2014-2017 Materialize
 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
 */function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*! cash-dom 1.3.5, https://github.com/kenwheeler/cash @license MIT */window.cash=function(){var t,e=document,i=window,n=Array.prototype,s=n.slice,o=n.filter,a=n.push,r=function(){},l=function(t){return"function"==typeof t&&t.call},h=function(t){return"string"==typeof t},d=/^#[\w-]*$/,c=/^\.[\w-]*$/,u=/<.+>/,p=/^\w+$/;function f(t,i){i=i||e;var n=c.test(t)?i.getElementsByClassName(t.slice(1)):p.test(t)?i.getElementsByTagName(t):i.querySelectorAll(t);return n}function v(i){if(!t){var n=(t=e.implementation.createHTMLDocument(null)).createElement("base");n.href=e.location.href,t.head.appendChild(n)}return t.body.innerHTML=i,t.body.childNodes}function m(t){"loading"!==e.readyState?t():e.addEventListener("DOMContentLoaded",t)}function g(t,n){if(!t)return this;if(t.cash&&t!==i)return t;var s,o=t,a=0;if(h(t))o=d.test(t)?e.getElementById(t.slice(1)):u.test(t)?v(t):f(t,n);else if(l(t))return m(t),this;if(!o)return this;if(o.nodeType||o===i)this[0]=o,this.length=1;else for(s=this.length=o.length;a<s;a++)this[a]=o[a];return this}function y(t,e){return new g(t,e)}var _=y.fn=y.prototype=g.prototype={cash:!0,length:0,push:a,splice:n.splice,map:n.map,init:g};function w(t,e){for(var i=t.length,n=0;n<i&&!1!==e.call(t[n],t[n],n,t);n++);}function k(t,e){var i=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!i&&i.call(t,e)}function b(t){return h(t)?k:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function E(t){return y(s.call(t).filter(function(t,e,i){return i.indexOf(t)===e}))}Object.defineProperty(_,"constructor",{value:y}),y.parseHTML=v,y.noop=r,y.isFunction=l,y.isString=h,y.extend=_.extend=function(t){t=t||{};var e=s.call(arguments),i=e.length,n=1;for(1===e.length&&(t=this,n=0);n<i;n++)if(e[n])for(var o in e[n])e[n].hasOwnProperty(o)&&(t[o]=e[n][o]);return t},y.extend({merge:function(t,e){for(var i=+e.length,n=t.length,s=0;s<i;n++,s++)t[n]=e[s];return t.length=n,t},each:w,matches:k,unique:E,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var C=y.uid="_cash"+Date.now();function x(t){return t[C]=t[C]||{}}function S(t,e,i){return x(t)[e]=i}function M(t,e){var i=x(t);return void 0===i[e]&&(i[e]=t.dataset?t.dataset[e]:y(t).attr("data-"+e)),i[e]}_.extend({data:function(t,e){if(h(t))return void 0===e?M(this[0],t):this.each(function(i){return S(i,t,e)});for(var i in t)this.data(i,t[i]);return this},removeData:function(t){return this.each(function(e){return function(t,e){var i=x(t);i?delete i[e]:t.dataset?delete t.dataset[e]:y(t).removeAttr("data-"+name)}(e,t)})}});var T=/\S+/g;function L(t){return h(t)&&t.match(T)}function O(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function D(t,e,i){t.classList?t.classList.add(e):i.indexOf(" "+e+" ")&&(t.className+=" "+e)}function B(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}_.extend({addClass:function(t){var e=L(t);return e?this.each(function(t){var i=" "+t.className+" ";w(e,function(e){D(t,e,i)})}):this},attr:function(t,e){if(t){if(h(t))return void 0===e?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each(function(i){i.setAttribute?i.setAttribute(t,e):i[t]=e});for(var i in t)this.attr(i,t[i]);return this}},hasClass:function(t){var e=!1,i=L(t);return i&&i.length&&this.each(function(t){return!(e=O(t,i[0]))}),e},prop:function(t,e){if(h(t))return void 0===e?this[0][t]:this.each(function(i){i[t]=e});for(var i in t)this.prop(i,t[i]);return this},removeAttr:function(t){return this.each(function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]})},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=L(t);return e?this.each(function(t){w(e,function(e){B(t,e)})}):this},removeProp:function(t){return this.each(function(e){delete e[t]})},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var i=L(t);return i?this.each(function(t){var e=" "+t.className+" ";w(i,function(i){O(t,i)?B(t,i):D(t,i,e)})}):this}}),_.extend({add:function(t,e){return E(y.merge(this,y(t,e)))},each:function(t){return w(this,t),this},eq:function(t){return y(this.get(t))},filter:function(t){if(!t)return this;var e=l(t)?t:b(t);return y(o.call(this,function(i){return e(i,t)}))},first:function(){return this.eq(0)},get:function(t){return void 0===t?s.call(this):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?y(t)[0]:this[0],i=t?this:y(e).parent().children();return s.call(i).indexOf(e)},last:function(){return this.eq(-1)}});var A,I,R=(A=/(?:^\w|[A-Z]|\b\w)/g,I=/[\s-_]+/g,function(t){return t.replace(A,function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()}).replace(I,"")}),N=function(){var t={},e=document,i=e.createElement("div"),n=i.style;return function(e){if(e=R(e),t[e])return t[e];var i=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+["webkit","moz","ms","o"].join(i+" ")+i).split(" ");return w(s,function(i){if(i in n)return t[i]=e=t[e]=i,!1}),t[e]}}();function P(t,e){return parseInt(i.getComputedStyle(t[0],null)[e],10)||0}function $(t,e,i){var n,s=M(t,"_cashEvents"),o=s&&s[e];o&&(i?(t.removeEventListener(e,i),(n=o.indexOf(i))>=0&&o.splice(n,1)):(w(o,function(i){t.removeEventListener(e,i)}),o=[]))}function H(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function z(t){var e=t.type;if(!e)return null;switch(e.toLowerCase()){case"select-one":return function(t){var e=t.selectedIndex;return e>=0?t.options[e].value:null}(t);case"select-multiple":return function(t){var e=[];return w(t.options,function(t){t.selected&&e.push(t.value)}),e.length?e:null}(t);case"radio":case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function F(t,e,i){var n=h(e);n||!e.length?w(t,n?function(t){return t.insertAdjacentHTML(i?"afterbegin":"beforeend",e)}:function(t,n){return function(t,e,i){if(i){var n=t.childNodes[0];t.insertBefore(e,n)}else t.appendChild(e)}(t,0===n?e:e.cloneNode(!0),i)}):w(e,function(e){return F(t,e,i)})}y.prefixedProp=N,y.camelCase=R,_.extend({css:function(t,e){if(h(t))return t=N(t),arguments.length>1?this.each(function(i){return i.style[t]=e}):i.getComputedStyle(this[0])[t];for(var n in t)this.css(n,t[n]);return this}}),w(["Width","Height"],function(t){var e=t.toLowerCase();_[e]=function(){return this[0].getBoundingClientRect()[e]},_["inner"+t]=function(){return this[0]["client"+t]},_["outer"+t]=function(e){return this[0]["offset"+t]+(e?P(this,"margin"+("Width"===t?"Left":"Top"))+P(this,"margin"+("Width"===t?"Right":"Bottom")):0)}}),_.extend({off:function(t,e){return this.each(function(i){return $(i,t,e)})},on:function(t,e,i,n){var s;if(!h(t)){for(var o in t)this.on(o,e,t[o]);return this}return l(e)&&(i=e,e=null),"ready"===t?(m(i),this):(e&&(s=i,i=function(t){for(var i=t.target;!k(i,e);){if(i===this||null===i)return i=!1;i=i.parentNode}i&&s.call(i,t)}),this.each(function(e){var s=i;n&&(s=function(){i.apply(this,arguments),$(e,t,s)}),function(t,e,i){var n=M(t,"_cashEvents")||S(t,"_cashEvents",{});n[e]=n[e]||[],n[e].push(i),t.addEventListener(e,i)}(e,t,s)}))},one:function(t,e,i){return this.on(t,e,i,!0)},ready:m,trigger:function(t,e){if(document.createEvent){var i=document.createEvent("HTMLEvents");return i.initEvent(t,!0,!1),i=this.extend(i,e),this.each(function(t){return t.dispatchEvent(i)})}}}),_.extend({serialize:function(){var t="";return w(this[0].elements||this,function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var i=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var n=z(e);null!==n&&w(n,function(e){t+=H(i,e)});break;default:var s=z(e);null!==s&&(t+=H(i,s))}}}),t.substr(1)},val:function(t){return void 0===t?z(this[0]):this.each(function(e){return e.value=t})}}),_.extend({after:function(t){return y(t).insertAfter(this),this},append:function(t){return F(this,t),this},appendTo:function(t){return F(y(t),this),this},before:function(t){return y(t).insertBefore(this),this},clone:function(){return y(this.map(function(t){return t.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each(function(t){return t.innerHTML=e})},insertAfter:function(t){var e=this;return y(t).each(function(t,i){var n=t.parentNode,s=t.nextSibling;e.each(function(t){n.insertBefore(0===i?t:t.cloneNode(!0),s)})}),this},insertBefore:function(t){var e=this;return y(t).each(function(t,i){var n=t.parentNode;e.each(function(e){n.insertBefore(0===i?e:e.cloneNode(!0),t)})}),this},prepend:function(t){return F(this,t,!0),this},prependTo:function(t){return F(y(t),this,!0),this},remove:function(){return this.each(function(t){if(t.parentNode)return t.parentNode.removeChild(t)})},text:function(t){return void 0===t?this[0].textContent:this.each(function(e){return e.textContent=t})}});var W=e.documentElement;return _.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+i.pageYOffset-W.clientTop,left:t.left+i.pageXOffset-W.clientLeft}},offsetParent:function(){return y(this[0].offsetParent)}}),_.extend({children:function(t){var e=[];return this.each(function(t){a.apply(e,t.children)}),e=E(e),t?e.filter(function(e){return k(e,t)}):e},closest:function(t){return!t||this.length<1?y():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,i=b(t);return this.each(function(n){return!(e=i(n,t))}),e},find:function(t){if(!t||t.nodeType)return y(t&&this.has(t).length?t:null);var e=[];return this.each(function(i){a.apply(e,f(t,i))}),E(e)},has:function(t){var e=h(t)?function(e){return 0!==f(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return y(this[0].nextElementSibling)},not:function(t){if(!t)return this;var e=b(t);return this.filter(function(i){return!e(i,t)})},parent:function(){var t=[];return this.each(function(e){e&&e.parentNode&&t.push(e.parentNode)}),E(t)},parents:function(t){var i,n=[];return this.each(function(s){for(i=s;i&&i.parentNode&&i!==e.body.parentNode;)i=i.parentNode,(!t||t&&k(i,t))&&n.push(i)}),E(n)},prev:function(){return y(this[0].previousElementSibling)},siblings:function(t){var e=this.parent().children(t),i=this[0];return e.filter(function(t){return t!==i})}}),y}();var h=function(){function t(e,i,n){l(this,t),i instanceof Element||console.error(Error(i+" is not an HTML Element"));var s=e.getInstance(i);s&&s.destroy(),this.el=i,this.$el=cash(i)}return o(t,null,[{key:"init",value:function(t,e,i){var n=null;if(e instanceof Element)n=new t(e,i);else if(e&&(e.jquery||e.cash||e instanceof NodeList)){for(var s=[],o=0;o<e.length;o++)s.push(new t(e[o],i));n=s}return n}}]),t}();!function(t){t.Package?M={}:t.M={},M.jQueryLoaded=!!t.jQuery}(window),void 0===(n=function(){return M}.apply(e,[]))||(t.exports=n),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;document.addEventListener("keydown",function(t){M.keyDown=!0,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!0)},!0),document.addEventListener("keyup",function(t){M.keyDown=!1,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!1)},!0),document.addEventListener("focus",function(t){M.keyDown&&document.body.classList.add("keyboard-focused")},!0),document.addEventListener("blur",function(t){document.body.classList.remove("keyboard-focused")},!0),M.initializeJqueryWrapper=function(t,e,i){jQuery.fn[e]=function(n){if(t.prototype[n]){var s=Array.prototype.slice.call(arguments,1);if("get"===n.slice(0,3)){var o=this.first()[0][i];return o[n].apply(o,s)}return this.each(function(){var t=this[i];t[n].apply(t,s)})}if("object"==typeof n||!n)return t.init(this,arguments[0]),this;jQuery.error("Method "+n+" does not exist on jQuery."+e)}},M.AutoInit=function(t){var e=t||document.body,i={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var n in i){M[n].init(i[n])}},M.objectSelectorString=function(t){return((t.prop("tagName")||"")+(t.attr("id")||"")+(t.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),i=e.add(e.parents()),n=!1;return i.each(function(){if("fixed"===$(this).css("position"))return n=!0,!1}),n},M.checkWithinContainer=function(t,e,i){var n={top:!1,right:!1,bottom:!1,left:!1},s=t.getBoundingClientRect(),o=t===document.body?Math.max(s.bottom,window.innerHeight):s.bottom,a=t.scrollLeft,r=t.scrollTop,l=e.left-a,h=e.top-r;return(l<s.left+i||l<i)&&(n.left=!0),(l+e.width>s.right-i||l+e.width>window.innerWidth-i)&&(n.right=!0),(h<s.top+i||h<i)&&(n.top=!0),(h+e.height>o-i||h+e.height>window.innerHeight-i)&&(n.bottom=!0),n},M.checkPossibleAlignments=function(t,e,i,n){var s={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(e).overflow,a=e.getBoundingClientRect(),r=Math.min(a.height,window.innerHeight),l=Math.min(a.width,window.innerWidth),h=t.getBoundingClientRect(),d=e.scrollLeft,c=e.scrollTop,u=i.left-d,p=i.top-c,f=i.top+h.height-c;return s.spaceOnRight=o?window.innerWidth-(h.left+i.width):l-(u+i.width),s.spaceOnRight<0&&(s.left=!1),s.spaceOnLeft=o?h.right-i.width:u-i.width+h.width,s.spaceOnLeft<0&&(s.right=!1),s.spaceOnBottom=o?window.innerHeight-(h.top+i.height+n):r-(p+i.height+n),s.spaceOnBottom<0&&(s.top=!1),s.spaceOnTop=o?h.bottom-(i.height+n):f-(i.height-n),s.spaceOnTop<0&&(s.bottom=!1),s},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=(e=t.getAttribute("href"))?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};
/**
 * Get time in ms
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 * @type {function}
 * @return {number}
 */
var d=Date.now||function(){return(new Date).getTime()};
/**
 * Returns a function, that, when invoked, will only be triggered at most once
 * during a given window of time. Normally, the throttled function will run
 * as much as it can, without ever going more than once per `wait` duration;
 * but if you'd like to disable the execution on the leading edge, pass
 * `{leading: false}`. To disable execution on the trailing edge, ditto.
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 * @param {function} func
 * @param {number} wait
 * @param {Object=} options
 * @returns {Function}
 */M.throttle=function(t,e,i){var n=void 0,s=void 0,o=void 0,a=null,r=0;i||(i={});var l=function(){r=!1===i.leading?0:d(),a=null,o=t.apply(n,s),n=s=null};return function(){var h=d();r||!1!==i.leading||(r=h);var c=e-(h-r);return n=this,s=arguments,c<=0?(clearTimeout(a),a=null,r=h,o=t.apply(n,s),n=s=null):a||!1===i.trailing||(a=setTimeout(l,c)),o}};var c={scope:{}};c.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){if(i.get||i.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},c.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==i&&null!=i?i:t},c.global=c.getGlobal(this),c.SYMBOL_PREFIX="jscomp_symbol_",c.initSymbol=function(){c.initSymbol=function(){},c.global.Symbol||(c.global.Symbol=c.Symbol)},c.symbolCounter_=0,c.Symbol=function(t){return c.SYMBOL_PREFIX+(t||"")+c.symbolCounter_++},c.initSymbolIterator=function(){c.initSymbol();var t=c.global.Symbol.iterator;t||(t=c.global.Symbol.iterator=c.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&c.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return c.arrayIterator(this)}}),c.initSymbolIterator=function(){}},c.arrayIterator=function(t){var e=0;return c.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},c.iteratorPrototype=function(t){return c.initSymbolIterator(),(t={next:t})[c.global.Symbol.iterator]=function(){return this},t},c.array=c.array||{},c.iteratorFromArray=function(t,e){c.initSymbolIterator(),t instanceof String&&(t+="");var i=0,n={next:function(){if(i<t.length){var s=i++;return{value:e(s,t[s]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},c.polyfill=function(t,e,i,n){if(e){for(i=c.global,t=t.split("."),n=0;n<t.length-1;n++){var s=t[n];s in i||(i[s]={}),i=i[s]}(e=e(n=i[t=t[t.length-1]]))!=n&&null!=e&&c.defineProperty(i,t,{configurable:!0,writable:!0,value:e})}},c.polyfill("Array.prototype.keys",function(t){return t||function(){return c.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3");var u=this;M.anime=function(){function t(t){if(!O.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var i=t.length,n=2<=arguments.length?arguments[1]:void 0,s=[],o=0;o<i;o++)if(o in t){var a=t[o];e.call(n,a,o,t)&&s.push(a)}return s}function i(t){return t.reduce(function(t,e){return t.concat(O.arr(e)?i(e):e)},[])}function n(e){return O.arr(e)?e:(O.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function s(t,e){return t.some(function(t){return t===e})}function o(t){var e,i={};for(e in t)i[e]=t[e];return i}function a(t,e){var i,n=o(t);for(i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function r(t,e){var i,n=o(t);for(i in e)n[i]=O.und(t[i])?e[i]:t[i];return n}function l(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function h(t,e){return O.fnc(t)?t(e.target,e.id,e.total):t}function d(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function c(t,e){return O.dom(t)&&s(L,e)?"transform":O.dom(t)&&(t.getAttribute(e)||O.svg(t)&&t[e])?"attribute":O.dom(t)&&"transform"!==e&&d(t,e)?"css":null!=t[e]?"object":void 0}function p(t,i){switch(c(t,i)){case"transform":return function(t,i){var n=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(i),n=-1<i.indexOf("scale")?1:0+n;if(!(t=t.style.transform))return n;for(var s=[],o=[],a=[],r=/(\w+)\((.+?)\)/g;s=r.exec(t);)o.push(s[1]),a.push(s[2]);return(t=e(a,function(t,e){return o[e]===i})).length?t[0]:n}(t,i);case"css":return d(t,i);case"attribute":return t.getAttribute(i)}return t[i]||0}function f(t,e){var i=/^(\*=|\+=|-=)/.exec(t);if(!i)return t;var n=l(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(i[0],"")),i[0][0]){case"+":return e+t+n;case"-":return e-t+n;case"*":return e*t+n}}function v(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function m(t){t=t.points;for(var e,i=0,n=0;n<t.numberOfItems;n++){var s=t.getItem(n);0<n&&(i+=v(e,s)),e=s}return i}function g(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return v({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return m(t);case"polygon":var e=t.points;return m(t)+v(e.getItem(e.numberOfItems-1),e.getItem(0))}}function y(t,e){function i(i){return i=void 0===i?0:i,t.el.getPointAtLength(1<=e+i?e+i:0)}var n=i(),s=i(-1),o=i(1);switch(t.property){case"x":return n.x;case"y":return n.y;case"angle":return 180*Math.atan2(o.y-s.y,o.x-s.x)/Math.PI}}function _(t,e){var i,n=/-?\d*\.?\d+/g;if(i=O.pth(t)?t.totalLength:t,O.col(i))if(O.rgb(i)){var s=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(i);i=s?"rgba("+s[1]+",1)":i}else i=O.hex(i)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);t=parseInt(e[1],16);var i=parseInt(e[2],16),e=parseInt(e[3],16);return"rgba("+t+","+i+","+e+",1)"}(i):O.hsl(i)?function(t){function e(t,e,i){return 0>i&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:.5>i?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(i[1])/360;var n=parseInt(i[2])/100,s=parseInt(i[3])/100,i=i[4]||1;if(0==n)s=n=t=s;else{var o=.5>s?s*(1+n):s+n-s*n,a=2*s-o,s=e(a,o,t+1/3),n=e(a,o,t);t=e(a,o,t-1/3)}return"rgba("+255*s+","+255*n+","+255*t+","+i+")"}(i):void 0;else s=(s=l(i))?i.substr(0,i.length-s.length):i,i=e&&!/\s/g.test(i)?s+e:s;return{original:i+="",numbers:i.match(n)?i.match(n).map(Number):[0],strings:O.str(t)||e?i.split(n):[]}}function w(t){return e(t=t?i(O.arr(t)?t.map(n):n(t)):[],function(t,e,i){return i.indexOf(t)===e})}function k(t,e){var i=o(e);if(O.arr(t)){var s=t.length;2!==s||O.obj(t[0])?O.fnc(e.duration)||(i.duration=e.duration/s):t={value:t}}return n(t).map(function(t,i){return i=i?0:e.delay,t=O.obj(t)&&!O.pth(t)?t:{value:t},O.und(t.delay)&&(t.delay=i),t}).map(function(t){return r(t,i)})}function b(t,e){var i;return t.tweens.map(function(n){var s=(n=function(t,e){var i,n={};for(i in t){var s=h(t[i],e);O.arr(s)&&1===(s=s.map(function(t){return h(t,e)})).length&&(s=s[0]),n[i]=s}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(n,e)).value,o=p(e.target,t.name),a=i?i.to.original:o,a=O.arr(s)?s[0]:a,r=f(O.arr(s)?s[1]:s,a),o=l(r)||l(a)||l(o);return n.from=_(a,o),n.to=_(r,o),n.start=i?i.end:t.offset,n.end=n.start+n.delay+n.duration,n.easing=function(t){return O.arr(t)?D.apply(this,t):B[t]}(n.easing),n.elasticity=(1e3-Math.min(Math.max(n.elasticity,1),999))/1e3,n.isPath=O.pth(s),n.isColor=O.col(n.from.original),n.isColor&&(n.round=1),i=n})}function E(t,e,i,n){var s="delay"===t;return e.length?(s?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):s?n.delay:i.offset+n.delay+n.duration}function C(t){var n,s=a(M,t),o=a(T,t),l=function(t){var e=w(t);return e.map(function(t,i){return{target:t,id:i,total:e.length}})}(t.targets),h=[],d=r(s,o);for(n in t)d.hasOwnProperty(n)||"targets"===n||h.push({name:n,offset:d.offset,tweens:k(t[n],o)});return t=function(t,n){return e(i(t.map(function(t){return n.map(function(e){var i=c(t.target,e.name);if(i){var n=b(e,t);e={type:i,property:e.name,animatable:t,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else e=void 0;return e})})),function(t){return!O.und(t)})}(l,h),r(s,{children:[],animatables:l,animations:t,duration:E("duration",t,s,o),delay:E("delay",t,s,o)})}function x(t){function i(){return window.Promise&&new Promise(function(t){return u=t})}function n(t){return f.reversed?f.duration-t:t}function s(t){for(var i=0,n={},s=f.animations,o=s.length;i<o;){var a=s[i],r=a.animatable,l=a.tweens,h=l.length-1,c=l[h];h&&(c=e(l,function(e){return t<e.end})[0]||c);for(var l=Math.min(Math.max(t-c.start-c.delay,0),c.duration)/c.duration,u=isNaN(l)?1:c.easing(l,c.elasticity),l=c.to.strings,p=c.round,h=[],v=void 0,v=c.to.numbers.length,m=0;m<v;m++){var g=void 0,g=c.to.numbers[m],_=c.from.numbers[m],g=c.isPath?y(c.value,u*g):_+u*(g-_);p&&(c.isColor&&2<m||(g=Math.round(g*p)/p)),h.push(g)}if(c=l.length)for(v=l[0],u=0;u<c;u++)p=l[u+1],m=h[u],isNaN(m)||(v=p?v+(m+p):v+(m+" "));else v=h[0];A[a.type](r.target,a.property,v,n,r.id),a.currentValue=v,i++}if(i=Object.keys(n).length)for(s=0;s<i;s++)S||(S=d(document.body,"transform")?"transform":"-webkit-transform"),f.animatables[s].target.style[S]=n[s].join(" ");f.currentTime=t,f.progress=t/f.duration*100}function o(t){f[t]&&f[t](f)}function a(){f.remaining&&!0!==f.remaining&&f.remaining--}function r(t){var e=f.duration,r=f.offset,d=r+f.delay,v=f.currentTime,m=f.reversed,g=n(t);if(f.children.length){var y=f.children,_=y.length;if(g>=f.currentTime)for(var w=0;w<_;w++)y[w].seek(g);else for(;_--;)y[_].seek(g)}(g>=d||!e)&&(f.began||(f.began=!0,o("begin")),o("run")),g>r&&g<e?s(g):(g<=r&&0!==v&&(s(0),m&&a()),(g>=e&&v!==e||!e)&&(s(e),m||a())),o("update"),t>=e&&(f.remaining?(h=l,"alternate"===f.direction&&(f.reversed=!f.reversed)):(f.pause(),f.completed||(f.completed=!0,o("complete"),"Promise"in window&&(u(),p=i()))),c=0)}t=void 0===t?{}:t;var l,h,c=0,u=null,p=i(),f=C(t);return f.reset=function(){var t=f.direction,e=f.loop;for(f.currentTime=0,f.progress=0,f.paused=!0,f.began=!1,f.completed=!1,f.reversed="reverse"===t,f.remaining="alternate"===t&&1===e?2:e,s(0),t=f.children.length;t--;)f.children[t].reset()},f.tick=function(t){l=t,h||(h=l),r((c+l-h)*x.speed)},f.seek=function(t){r(n(t))},f.pause=function(){var t=I.indexOf(f);-1<t&&I.splice(t,1),f.paused=!0},f.play=function(){f.paused&&(f.paused=!1,h=0,c=n(f.currentTime),I.push(f),R||N())},f.reverse=function(){f.reversed=!f.reversed,h=0,c=n(f.currentTime)},f.restart=function(){f.pause(),f.reset(),f.play()},f.finished=p,f.reset(),f.autoplay&&f.play(),f}var S,M={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},T={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},L="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),O={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return O.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||O.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return O.hex(t)||O.rgb(t)||O.hsl(t)}},D=function(){function t(t,e,i){return(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t}return function(e,i,n,s){if(0<=e&&1>=e&&0<=n&&1>=n){var o=new Float32Array(11);if(e!==i||n!==s)for(var a=0;11>a;++a)o[a]=t(.1*a,e,n);return function(a){if(e===i&&n===s)return a;if(0===a)return 0;if(1===a)return 1;for(var r=0,l=1;10!==l&&o[l]<=a;++l)r+=.1;var l=r+(a-o[--l])/(o[l+1]-o[l])*.1,h=3*(1-3*n+3*e)*l*l+2*(3*n-6*e)*l+3*e;if(.001<=h){for(r=0;4>r&&0!=(h=3*(1-3*n+3*e)*l*l+2*(3*n-6*e)*l+3*e);++r)var d=t(l,e,n)-a,l=l-d/h;a=l}else if(0===h)a=l;else{var l=r,r=r+.1,c=0;do{0<(h=t(d=l+(r-l)/2,e,n)-a)?r=d:l=d}while(1e-7<Math.abs(h)&&10>++c);a=d}return t(a,i,s)}}}}(),B=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,i="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),n={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,i){return 1-t(1-e,i)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,i){return.5>e?t(2*e,i)/2:1-t(-2*e+2,i)/2}]},s={linear:D(.25,.25,.75,.75)},o={};for(e in n)o.type=e,n[o.type].forEach(function(t){return function(e,n){s["ease"+t.type+i[n]]=O.fnc(e)?e:D.apply(u,e)}}(o)),o={type:o.type};return s}(),A={css:function(t,e,i){return t.style[e]=i},attribute:function(t,e,i){return t.setAttribute(e,i)},object:function(t,e,i){return t[e]=i},transform:function(t,e,i,n,s){n[s]||(n[s]=[]),n[s].push(e+"("+i+")")}},I=[],R=0,N=function(){function t(){R=requestAnimationFrame(e)}function e(e){var i=I.length;if(i){for(var n=0;n<i;)I[n]&&I[n].tick(e),n++;t()}else cancelAnimationFrame(R),R=0}return t}();return x.version="2.2.0",x.speed=1,x.running=I,x.remove=function(t){t=w(t);for(var e=I.length;e--;)for(var i=I[e],n=i.animations,o=n.length;o--;)s(t,n[o].animatable.target)&&(n.splice(o,1),n.length||i.pause())},x.getValue=p,x.path=function(e,i){var n=O.str(e)?t(e)[0]:e,s=i||100;return function(t){return{el:n,property:t,totalLength:g(n)*(s/100)}}},x.setDashoffset=function(t){var e=g(t);return t.setAttribute("stroke-dasharray",e),e},x.bezier=D,x.easings=B,x.timeline=function(t){var e=x(t);return e.pause(),e.duration=0,e.add=function(i){return e.children.forEach(function(t){t.began=!0,t.completed=!0}),n(i).forEach(function(i){var n=r(i,a(T,t||{}));n.targets=n.targets||t.targets,i=e.duration;var s=n.offset;n.autoplay=!1,n.direction=e.direction,n.offset=O.und(s)?i:f(s,i),e.began=!0,e.completed=!0,e.seek(n.offset),(n=x(n)).began=!0,n.completed=!0,n.duration>i&&(e.duration=n.duration),e.children.push(n)}),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},x.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},x}(),function(t,e){"use strict";var i={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));n.el.M_Collapsible=n,n.options=t.extend({},d.defaults,i),n.$headers=n.$el.children("li").children(".collapsible-header"),n.$headers.attr("tabindex",0),n._setupEventHandlers();var s=n.$el.children("li.active").children(".collapsible-body");return n.options.accordion?s.first().css("display","block"):s.css("display","block"),n}return r(d,h),o(d,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(e){e.addEventListener("keydown",t._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){var t=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(e){e.removeEventListener("keydown",t._handleCollapsibleKeydownBound)})}},{key:"_handleCollapsibleClick",value:function(e){var i=t(e.target).closest(".collapsible-header");if(e.target&&i.length){var n=i.closest(".collapsible");if(n[0]===this.el){var s=i.closest("li"),o=n.children("li"),a=s[0].classList.contains("active"),r=o.index(s);a?this.close(r):this.open(r)}}}},{key:"_handleCollapsibleKeydown",value:function(t){13===t.keyCode&&this._handleCollapsibleClickBound(t)}},{key:"_animateIn",value:function(t){var i=this,n=this.$el.children("li").eq(t);if(n.length){var s=n.children(".collapsible-body");e.remove(s[0]),s.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=s.css("padding-top"),a=s.css("padding-bottom"),r=s[0].scrollHeight;s.css({paddingTop:0,paddingBottom:0}),e({targets:s[0],height:r,paddingTop:o,paddingBottom:a,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(t){s.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof i.options.onOpenEnd&&i.options.onOpenEnd.call(i,n[0])}})}}},{key:"_animateOut",value:function(t){var i=this,n=this.$el.children("li").eq(t);if(n.length){var s=n.children(".collapsible-body");e.remove(s[0]),s.css("overflow","hidden"),e({targets:s[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){s.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof i.options.onCloseEnd&&i.options.onCloseEnd.call(i,n[0])}})}}},{key:"open",value:function(e){var i=this,n=this.$el.children("li").eq(e);if(n.length&&!n[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,n[0]),this.options.accordion){var s=this.$el.children("li");this.$el.children("li.active").each(function(e){var n=s.index(t(e));i.close(n)})}n[0].classList.add("active"),this._animateIn(e)}}},{key:"close",value:function(t){var e=this.$el.children("li").eq(t);e.length&&e[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,e[0]),e[0].classList.remove("active"),this._animateOut(t))}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Collapsible}},{key:"defaults",get:function(){return i}}]),d}();M.Collapsible=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"collapsible","M_Collapsible")}(cash,M.anime),function(t,e){"use strict";var i={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));return n.el.M_Dropdown=n,d._dropdowns.push(n),n.id=M.getIdFromTrigger(e),n.dropdownEl=document.getElementById(n.id),n.$dropdownEl=t(n.dropdownEl),n.options=t.extend({},d.defaults,i),n.isOpen=!1,n.isScrollable=!1,n.isTouchMoving=!1,n.focusedIndex=-1,n.filterQuery=[],n.options.container?t(n.options.container).append(n.dropdownEl):n.$el.after(n.dropdownEl),n._makeDropdownFocusable(),n._resetFilterQueryBound=n._resetFilterQuery.bind(n),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),n._handleDocumentTouchmoveBound=n._handleDocumentTouchmove.bind(n),n._handleDropdownClickBound=n._handleDropdownClick.bind(n),n._handleDropdownKeydownBound=n._handleDropdownKeydown.bind(n),n._handleTriggerKeydownBound=n._handleTriggerKeydown.bind(n),n._setupEventHandlers(),n}return r(d,h),o(d,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),d._dropdowns.splice(d._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(t){t.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(e){var i=e.toElement||e.relatedTarget,n=!!t(i).closest(".dropdown-content").length,s=!1,o=t(i).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(s=!0),s||n||this.close()}},{key:"_handleDocumentClick",value:function(e){var i=this,n=t(e.target);this.options.closeOnClick&&n.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout(function(){i.close()},0):!n.closest(".dropdown-trigger").length&&n.closest(".dropdown-content").length||setTimeout(function(){i.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(t){t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ENTER||this.isOpen||(t.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(e){t(e.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(e){if("function"==typeof this.options.onItemClick){var i=t(e.target).closest("li")[0];this.options.onItemClick.call(this,i)}}},{key:"_handleDropdownKeydown",value:function(e){if(e.which===M.keys.TAB)e.preventDefault(),this.close();else if(e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||!this.isOpen)if(e.which===M.keys.ENTER&&this.isOpen){var i=this.dropdownEl.children[this.focusedIndex],n=t(i).find("a, button").first();n.length?n[0].click():i&&i.click()}else e.which===M.keys.ESC&&this.isOpen&&(e.preventDefault(),this.close());else{e.preventDefault();var s=e.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,a=!1;do{if(o+=s,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){a=!0;break}}while(o<this.dropdownEl.children.length&&o>=0);a&&(this.focusedIndex=o,this._focusFocusedItem())}var r=String.fromCharCode(e.which).toLowerCase();if(r&&-1===[9,13,27,38,40].indexOf(e.which)){this.filterQuery.push(r);var l=this.filterQuery.join(""),h=t(this.dropdownEl).find("li").filter(function(e){return 0===t(e).text().toLowerCase().indexOf(l)})[0];h&&(this.focusedIndex=t(h).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,t(this.dropdownEl).children().each(function(t){t.getAttribute("tabindex")||t.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var t=this.el.getBoundingClientRect(),e=this.dropdownEl.getBoundingClientRect(),i=e.height,n=e.width,s=t.left-e.left,o=t.top-e.top,a={left:s,top:o,height:i,width:n},r=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,l=M.checkPossibleAlignments(this.el,r,a,this.options.coverTrigger?0:t.height),h="top",d=this.options.alignment;if(o+=this.options.coverTrigger?0:t.height,this.isScrollable=!1,l.top||(l.bottom?h="bottom":(this.isScrollable=!0,l.spaceOnTop>l.spaceOnBottom?(h="bottom",i+=l.spaceOnTop,o-=l.spaceOnTop):i+=l.spaceOnBottom)),!l[d]){var c="left"===d?"right":"left";l[c]?d=c:l.spaceOnLeft>l.spaceOnRight?(d="right",n+=l.spaceOnLeft,s-=l.spaceOnLeft):(d="left",n+=l.spaceOnRight)}return"bottom"===h&&(o=o-e.height+(this.options.coverTrigger?t.height:0)),"right"===d&&(s=s-e.width+t.width),{x:s,y:o,verticalAlignment:h,horizontalAlignment:d,height:i,width:n}}},{key:"_animateIn",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(e){t.options.autoFocus&&t.dropdownEl.focus(),"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOut",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(e){t._resetDropdownStyles(),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_placeDropdown",value:function(){var t=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=t+"px";var e=this._getDropdownPosition();this.dropdownEl.style.left=e.x+"px",this.dropdownEl.style.top=e.y+"px",this.dropdownEl.style.height=e.height+"px",this.dropdownEl.style.width=e.width+"px",this.dropdownEl.style.transformOrigin=("left"===e.horizontalAlignment?"0":"100%")+" "+("top"===e.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Dropdown}},{key:"defaults",get:function(){return i}}]),d}();n._dropdowns=[],M.Dropdown=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"dropdown","M_Dropdown")}(cash,M.anime),function(t,e){"use strict";var i={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));return n.el.M_Modal=n,n.options=t.extend({},d.defaults,i),n.isOpen=!1,n.id=n.$el.attr("id"),n._openingTrigger=void 0,n.$overlay=t('<div class="modal-overlay"></div>'),n.el.tabIndex=0,n._nthModalOpened=0,d._count++,n._setupEventHandlers(),n}return r(d,h),o(d,[{key:"destroy",value:function(){d._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===d._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===d._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var i=t(e.target).closest(".modal-trigger");if(i.length){var n=M.getIdFromTrigger(i[0]),s=document.getElementById(n).M_Modal;s&&s.open(i),e.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){t(e.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(t){this.el.contains(t.target)||this._nthModalOpened!==d._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var i=this;t.extend(this.el.style,{display:"block",opacity:0}),t.extend(this.$overlay[0].style,{display:"block",opacity:0}),e({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var n={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof i.options.onOpenEnd&&i.options.onOpenEnd.call(i,i.el,i._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(t.extend(n,{bottom:0,opacity:1}),e(n)):(t.extend(n,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),e(n))}},{key:"_animateOut",value:function(){var i=this;e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var n={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){i.el.style.display="none",i.$overlay.remove(),"function"==typeof i.options.onCloseEnd&&i.options.onCloseEnd.call(i,i.el)}};this.el.classList.contains("bottom-sheet")?(t.extend(n,{bottom:"-100%",opacity:0}),e(n)):(t.extend(n,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),e(n))}},{key:"open",value:function(t){if(!this.isOpen)return this.isOpen=!0,d._modalsOpen++,this._nthModalOpened=d._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*d._modalsOpen,this.el.style.zIndex=1e3+2*d._modalsOpen+1,this._openingTrigger=t?t[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,d._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===d._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Modal}},{key:"defaults",get:function(){return i}}]),d}();n._modalsOpen=0,n._count=0,M.Modal=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"modal","M_Modal")}(cash,M.anime),function(t,e){"use strict";var i={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));return n.el.M_Materialbox=n,n.options=t.extend({},d.defaults,i),n.overlayActive=!1,n.doneAnimating=!0,n.placeholder=t("<div></div>").addClass("material-placeholder"),n.originalWidth=0,n.originalHeight=0,n.originInlineStyles=n.$el.attr("style"),n.caption=n.el.getAttribute("data-caption")||"",n.$el.before(n.placeholder),n.placeholder.append(n.$el),n._setupEventHandlers(),n}return r(d,h),o(d,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,t(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(t){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(t){27===t.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=t();for(var e=this.placeholder[0].parentNode;null!==e&&!t(e).is(document);){var i=t(e);"visible"!==i.css("overflow")&&(i.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=i:this.ancestorsChanged=this.ancestorsChanged.add(i)),e=e.parentNode}}},{key:"_animateImageIn",value:function(){var t=this,i={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){t.doneAnimating=!0,"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(i.maxWidth=this.newWidth),"none"!==this.maxHeight&&(i.maxHeight=this.newHeight),e(i)}},{key:"_animateImageOut",value:function(){var t=this,i={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.placeholder.css({height:"",width:"",position:"",top:"",left:""}),t.attrWidth&&t.$el.attr("width",t.attrWidth),t.attrHeight&&t.$el.attr("height",t.attrHeight),t.$el.removeAttr("style"),t.originInlineStyles&&t.$el.attr("style",t.originInlineStyles),t.$el.removeClass("active"),t.doneAnimating=!0,t.ancestorsChanged.length&&t.ancestorsChanged.css("overflow",""),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};e(i)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var i=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=t('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){i.doneAnimating&&i.close()}),this.$el.before(this.$overlay);var n=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*n.left+"px",top:-1*n.top+"px"}),e.remove(this.el),e.remove(this.$overlay[0]),e({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&e.remove(this.$photoCaption[0]),this.$photoCaption=t('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),t("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),e({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var s=0,o=this.originalWidth/this.windowWidth,a=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>a?(s=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*s):(s=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*s,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var t=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),e.remove(this.el),e.remove(this.$overlay[0]),""!==this.caption&&e.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.overlayActive=!1,t.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&e({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.$photoCaption.remove()}})}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Materialbox}},{key:"defaults",get:function(){return i}}]),d}();M.Materialbox=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"materialbox","M_Materialbox")}(cash,M.anime),function(t){"use strict";var e={responsiveThreshold:0},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return s.el.M_Parallax=s,s.options=t.extend({},n.defaults,i),s._enabled=window.innerWidth>s.options.responsiveThreshold,s.$img=s.$el.find("img").first(),s.$img.each(function(){this.complete&&t(this).trigger("load")}),s._updateParallax(),s._setupEventHandlers(),s._setupStyles(),n._parallaxes.push(s),s}return r(n,h),o(n,[{key:"destroy",value:function(){n._parallaxes.splice(n._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===n._parallaxes.length&&(n._handleScrollThrottled=M.throttle(n._handleScroll,5),window.addEventListener("scroll",n._handleScrollThrottled),n._handleWindowResizeThrottled=M.throttle(n._handleWindowResize,5),window.addEventListener("resize",n._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===n._parallaxes.length&&(window.removeEventListener("scroll",n._handleScrollThrottled),window.removeEventListener("resize",n._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var t=this.$el.height()>0?this.el.parentNode.offsetHeight:500,e=this.$img[0].offsetHeight-t,i=this.$el.offset().top+t,n=this.$el.offset().top,s=M.getDocumentScrollTop(),o=window.innerHeight,a=e*((s+o-n)/(t+o));this._enabled?i>s&&n<s+o&&(this.$img[0].style.transform="translate3D(-50%, "+a+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Parallax}},{key:"_handleScroll",value:function(){for(var t=0;t<n._parallaxes.length;t++){var e=n._parallaxes[t];e._updateParallax.call(e)}}},{key:"_handleWindowResize",value:function(){for(var t=0;t<n._parallaxes.length;t++){var e=n._parallaxes[t];e._enabled=window.innerWidth>e.options.responsiveThreshold}}},{key:"defaults",get:function(){return e}}]),n}();i._parallaxes=[],M.Parallax=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"parallax","M_Parallax")}(cash),function(t,e){"use strict";var i={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));return n.el.M_Tabs=n,n.options=t.extend({},d.defaults,i),n.$tabLinks=n.$el.children("li.tab").children("a"),n.index=0,n._setupActiveTabLink(),n.options.swipeable?n._setupSwipeableTabs():n._setupNormalTabs(),n._setTabsAndTabWidth(),n._createIndicator(),n._setupEventHandlers(),n}return r(d,h),o(d,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(e){var i=this,n=t(e.target).closest("li.tab"),s=t(e.target).closest("a");if(s.length&&s.parent().hasClass("tab"))if(n.hasClass("disabled"))e.preventDefault();else if(!s.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=s,this.$content=t(M.escapeHash(s[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var a=this.index;this.index=Math.max(this.$tabLinks.index(s),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){"function"==typeof i.options.onShow&&i.options.onShow.call(i,i.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(a),e.preventDefault()}}},{key:"_createIndicator",value:function(){var t=this,e=document.createElement("li");e.classList.add("indicator"),this.el.appendChild(e),this._indicator=e,setTimeout(function(){t._indicator.style.left=t._calcLeftPos(t.$activeTabLink)+"px",t._indicator.style.right=t._calcRightPos(t.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=t(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=t(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var e=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var i=t();this.$tabLinks.each(function(e){var n=t(M.escapeHash(e.hash));n.addClass("carousel-item"),i=i.add(n)});var n=t('<div class="tabs-content carousel carousel-slider"></div>');i.first().before(n),n.append(i),i[0].style.display="";var s=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(n[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(i){var n=e.index;e.index=t(i).index(),e.$activeTabLink.removeClass("active"),e.$activeTabLink=e.$tabLinks.eq(e.index),e.$activeTabLink.addClass("active"),e._animateIndicator(n),"function"==typeof e.options.onShow&&e.options.onShow.call(e,e.$content[0])}}),this._tabsCarousel.set(s)}},{key:"_teardownSwipeableTabs",value:function(){var t=this._tabsCarousel.$el;this._tabsCarousel.destroy(),t.after(t.children()),t.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(e){if(e.hash){var i=t(M.escapeHash(e.hash));i.length&&(i[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(e){if(e.hash){var i=t(M.escapeHash(e.hash));i.length&&(i[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(t){return Math.floor(t.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(t){var i=0,n=0;this.index-t>=0?i=90:n=90;var s={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:i},right:{value:this._calcRightPos(this.$activeTabLink),delay:n},duration:this.options.duration,easing:"easeOutQuad"};e.remove(this._indicator),e(s)}},{key:"select",value:function(t){var e=this.$tabLinks.filter('[href="#'+t+'"]');e.length&&e.trigger("click")}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tabs}},{key:"defaults",get:function(){return i}}]),d}();M.Tabs=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tabs","M_Tabs")}(cash,M.anime),function(t,e){"use strict";var i={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));return n.el.M_Tooltip=n,n.options=t.extend({},d.defaults,i),n.isOpen=!1,n.isHovered=!1,n.isFocused=!1,n._appendTooltipEl(),n._setupEventHandlers(),n}return r(d,h),o(d,[{key:"destroy",value:function(){t(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var t=document.createElement("div");t.classList.add("material-tooltip"),this.tooltipEl=t;var e=document.createElement("div");e.classList.add("tooltip-content"),e.innerHTML=this.options.html,t.appendChild(e),document.body.appendChild(t)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(e){this.isOpen||(e=void 0===e||void 0,this.isOpen=!0,this.options=t.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(e))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var t=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){t.isHovered||t.isFocused||t._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(t){var e=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){(e.isHovered||e.isFocused||t)&&e._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var e,i=this.el,n=this.tooltipEl,s=i.offsetHeight,o=i.offsetWidth,a=n.offsetHeight,r=n.offsetWidth,l=this.options.margin,h=void 0,d=void 0;this.xMovement=0,this.yMovement=0,h=i.getBoundingClientRect().top+M.getDocumentScrollTop(),d=i.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(h+=-a-l,d+=o/2-r/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(h+=s/2-a/2,d+=o+l,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(h+=s/2-a/2,d+=-r-l,this.xMovement=-this.options.transitionMovement):(h+=s+l,d+=o/2-r/2,this.yMovement=this.options.transitionMovement),e=this._repositionWithinScreen(d,h,r,a),t(n).css({top:e.y+"px",left:e.x+"px"})}},{key:"_repositionWithinScreen",value:function(t,e,i,n){var s=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),a=t-s,r=e-o,l={left:a,top:r,width:i,height:n},h=this.options.margin+this.options.transitionMovement,d=M.checkWithinContainer(document.body,l,h);return d.left?a=h:d.right&&(a-=a+i-window.innerWidth),d.top?r=h:d.bottom&&(r-=r+n-window.innerHeight),{x:a+s,y:r+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var t={},e=this.el.getAttribute("data-tooltip"),i=this.el.getAttribute("data-position");return e&&(t.html=e),i&&(t.position=i),t}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tooltip}},{key:"defaults",get:function(){return i}}]),d}();M.Tooltip=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tooltip","M_Tooltip")}(cash,M.anime),function(t){"use strict";var e=e||{},i=document.querySelectorAll.bind(document);function n(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=i+":"+t[i]+";");return e}var s={duration:750,show:function(t,e){if(2===t.button)return!1;var i=e||this,o=document.createElement("div");o.className="waves-ripple",i.appendChild(o);var a,r,l,h,d,c=(h={top:0,left:0},d=(a=i)&&a.ownerDocument,r=d.documentElement,void 0!==a.getBoundingClientRect&&(h=a.getBoundingClientRect()),l=function(t){return null!==(e=t)&&e===e.window?t:9===t.nodeType&&t.defaultView;var e}(d),{top:h.top+l.pageYOffset-r.clientTop,left:h.left+l.pageXOffset-r.clientLeft}),u=t.pageY-c.top,p=t.pageX-c.left,f="scale("+i.clientWidth/100*10+")";"touches"in t&&(u=t.touches[0].pageY-c.top,p=t.touches[0].pageX-c.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",f),o.setAttribute("data-x",p),o.setAttribute("data-y",u);var v={top:u+"px",left:p+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",n(v)),o.className=o.className.replace("waves-notransition",""),v["-webkit-transform"]=f,v["-moz-transform"]=f,v["-ms-transform"]=f,v["-o-transform"]=f,v.transform=f,v.opacity="1",v["-webkit-transition-duration"]=s.duration+"ms",v["-moz-transition-duration"]=s.duration+"ms",v["-o-transition-duration"]=s.duration+"ms",v["transition-duration"]=s.duration+"ms",v["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",v["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",v["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",v["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",n(v))},hide:function(t){o.touchup(t);var e=this,i=(e.clientWidth,null),a=e.getElementsByClassName("waves-ripple");if(!(a.length>0))return!1;var r=(i=a[a.length-1]).getAttribute("data-x"),l=i.getAttribute("data-y"),h=i.getAttribute("data-scale"),d=350-(Date.now()-Number(i.getAttribute("data-hold")));d<0&&(d=0),setTimeout(function(){var t={top:l+"px",left:r+"px",opacity:"0","-webkit-transition-duration":s.duration+"ms","-moz-transition-duration":s.duration+"ms","-o-transition-duration":s.duration+"ms","transition-duration":s.duration+"ms","-webkit-transform":h,"-moz-transform":h,"-ms-transform":h,"-o-transform":h,transform:h};i.setAttribute("style",n(t)),setTimeout(function(){try{e.removeChild(i)}catch(t){return!1}},s.duration)},d)},wrapInput:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("input"===i.tagName.toLowerCase()){var n=i.parentNode;if("i"===n.tagName.toLowerCase()&&-1!==n.className.indexOf("waves-effect"))continue;var s=document.createElement("i");s.className=i.className+" waves-input-wrapper";var o=i.getAttribute("style");o||(o=""),s.setAttribute("style",o),i.className="waves-button-input",i.removeAttribute("style"),n.replaceChild(s,i),s.appendChild(i)}}}},o={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?o.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){o.touches>0&&(o.touches-=1)},500):"mousedown"===t.type&&o.touches>0&&(e=!1),e},touchup:function(t){o.allowEvent(t)}};function a(e){var i=function(t){if(!1===o.allowEvent(t))return null;for(var e=null,i=t.target||t.srcElement;null!==i.parentNode;){if(!(i instanceof SVGElement)&&-1!==i.className.indexOf("waves-effect")){e=i;break}i=i.parentNode}return e}(e);null!==i&&(s.show(e,i),"ontouchstart"in t&&(i.addEventListener("touchend",s.hide,!1),i.addEventListener("touchcancel",s.hide,!1)),i.addEventListener("mouseup",s.hide,!1),i.addEventListener("mouseleave",s.hide,!1),i.addEventListener("dragend",s.hide,!1))}e.displayEffect=function(e){"duration"in(e=e||{})&&(s.duration=e.duration),s.wrapInput(i(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",a,!1),document.body.addEventListener("mousedown",a,!1)},e.attach=function(e){"input"===e.tagName.toLowerCase()&&(s.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",a,!1),e.addEventListener("mousedown",a,!1)},t.Waves=e,document.addEventListener("DOMContentLoaded",function(){e.displayEffect()},!1)}(window),function(t,e){"use strict";var i={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},n=function(){function n(e){l(this,n),this.options=t.extend({},n.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===n._toasts.length&&n._createContainer(),n._toasts.push(this);var i=this._createToast();i.M_Toast=this,this.el=i,this.$el=t(i),this._animateIn(),this._setTimer()}return o(n,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,n._container.appendChild(e),e}},{key:"_animateIn",value:function(){e({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()},20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var i=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+i+"px)",this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof t.options.completeCallback&&t.options.completeCallback(),t.$el.remove(),n._toasts.splice(n._toasts.indexOf(t),1),0===n._toasts.length&&n._removeContainer()}})}}],[{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",n._onDragStart),t.addEventListener("touchmove",n._onDragMove),t.addEventListener("touchend",n._onDragEnd),t.addEventListener("mousedown",n._onDragStart),document.addEventListener("mousemove",n._onDragMove),document.addEventListener("mouseup",n._onDragEnd),document.body.appendChild(t),n._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",n._onDragMove),document.removeEventListener("mouseup",n._onDragEnd),t(n._container).remove(),n._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&t(e.target).closest(".toast").length){var i=t(e.target).closest(".toast")[0].M_Toast;i.panning=!0,n._draggedToast=i,i.el.classList.add("panning"),i.el.style.transition="",i.startingXPos=n._xPos(e),i.time=Date.now(),i.xPos=n._xPos(e)}}},{key:"_onDragMove",value:function(t){if(n._draggedToast){t.preventDefault();var e=n._draggedToast;e.deltaX=Math.abs(e.xPos-n._xPos(t)),e.xPos=n._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();var i=e.xPos-e.startingXPos,s=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+i+"px)",e.el.style.opacity=1-Math.abs(i/s)}}},{key:"_onDragEnd",value:function(){if(n._draggedToast){var t=n._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,i=t.el.offsetWidth*t.options.activationPercent;Math.abs(e)>i||t.velocityX>1?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),n._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in n._toasts)n._toasts[t].dismiss()}},{key:"defaults",get:function(){return i}}]),n}();n._toasts=[],n._container=null,n._draggedToast=null,M.Toast=n,M.toast=function(t){return new n(t)}}(cash,M.anime),function(t,e){"use strict";var i={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));return n.el.M_Sidenav=n,n.id=n.$el.attr("id"),n.options=t.extend({},d.defaults,i),n.isOpen=!1,n.isFixed=n.el.classList.contains("sidenav-fixed"),n.isDragged=!1,n.lastWindowWidth=window.innerWidth,n.lastWindowHeight=window.innerHeight,n._createOverlay(),n._createDragTarget(),n._setupEventHandlers(),n._setupClasses(),n._setupFixed(),d._sidenavs.push(n),n}return r(d,h),o(d,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var t=d._sidenavs.indexOf(this);t>=0&&d._sidenavs.splice(t,1)}},{key:"_createOverlay",value:function(){var t=document.createElement("div");this._closeBound=this.close.bind(this),t.classList.add("sidenav-overlay"),t.addEventListener("click",this._closeBound),document.body.appendChild(t),this._overlay=t}},{key:"_setupEventHandlers",value:function(){0===d._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===d._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var i=t(e.target).closest(".sidenav-trigger");if(e.target&&i.length){var n=M.getIdFromTrigger(i[0]),s=document.getElementById(n).M_Sidenav;s&&s.open(i),e.preventDefault()}}},{key:"_startDrag",value:function(t){var i=t.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=i,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,e.remove(this.el),e.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(t){var e=t.targetTouches[0].clientX,i=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==i&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(t){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,i=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===i&&(e=0);var n=e,s="translateX(-100%)";"right"===this.options.edge&&(s="translateX(100%)",n=-n),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=s+" translateX("+n+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(t){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,i=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==i&&(e=0);var n=-e;"right"===this.options.edge&&(n=-n),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+n+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(e){t(e.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var t=document.createElement("div");t.classList.add("drag-target"),document.body.appendChild(t),this.dragTarget=t}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(e.remove(this.el),e({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var t="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+t+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var t=this,i="left"===this.options.edge?-1:1;this.isDragged&&(i="left"===this.options.edge?i+this.percentOpen:i-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*i+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOverlayIn",value:function(){var i=0;this.isDragged?i=this.percentOpen:t(this._overlay).css({display:"block"}),e.remove(this._overlay),e({targets:this._overlay,opacity:[i,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var t=this,i="left"===this.options.edge?-1:1,n=0;this.isDragged&&(n="left"===this.options.edge?i+this.percentOpen:i-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*n+"%",105*i+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_animateOverlayOut",value:function(){var i=this;e.remove(this._overlay),e({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t(i._overlay).css("display","none")}})}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Sidenav}},{key:"defaults",get:function(){return i}}]),d}();n._sidenavs=[],M.Sidenav=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"sidenav","M_Sidenav")}(cash,M.anime),function(t,e){"use strict";var i={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));return n.el.M_ScrollSpy=n,n.options=t.extend({},d.defaults,i),d._elements.push(n),d._count++,d._increment++,n.tickId=-1,n.id=d._increment,n._setupEventHandlers(),n._handleWindowScroll(),n}return r(d,h),o(d,[{key:"destroy",value:function(){d._elements.splice(d._elements.indexOf(this),1),d._elementsInView.splice(d._elementsInView.indexOf(this),1),d._visibleElements.splice(d._visibleElements.indexOf(this.$el),1),d._count--,this._removeEventHandlers(),t(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var t=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=t.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===d._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===d._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(i){for(var n=t(i.target),s=d._elements.length-1;s>=0;s--){var o=d._elements[s];if(n.is('a[href="#'+o.$el.attr("id")+'"]')){i.preventDefault();var a=o.$el.offset().top+1;e({targets:[document.documentElement,document.body],scrollTop:a-o.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){d._ticks++;for(var t=M.getDocumentScrollTop(),e=M.getDocumentScrollLeft(),i=e+window.innerWidth,n=t+window.innerHeight,s=d._findElements(t,i,n,e),o=0;o<s.length;o++){var a=s[o];a.tickId<0&&a._enter(),a.tickId=d._ticks}for(var r=0;r<d._elementsInView.length;r++){var l=d._elementsInView[r],h=l.tickId;h>=0&&h!==d._ticks&&(l._exit(),l.tickId=-1)}d._elementsInView=s}},{key:"_enter",value:function(){d._visibleElements=d._visibleElements.filter(function(t){return 0!=t.height()}),d._visibleElements[0]?(t(this.options.getActiveElement(d._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),d._visibleElements[0][0].M_ScrollSpy&&this.id<d._visibleElements[0][0].M_ScrollSpy.id?d._visibleElements.unshift(this.$el):d._visibleElements.push(this.$el)):d._visibleElements.push(this.$el),t(this.options.getActiveElement(d._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var e=this;d._visibleElements=d._visibleElements.filter(function(t){return 0!=t.height()}),d._visibleElements[0]&&(t(this.options.getActiveElement(d._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),d._visibleElements=d._visibleElements.filter(function(t){return t.attr("id")!=e.$el.attr("id")}),d._visibleElements[0]&&t(this.options.getActiveElement(d._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_ScrollSpy}},{key:"_findElements",value:function(t,e,i,n){for(var s=[],o=0;o<d._elements.length;o++){var a=d._elements[o],r=t+a.options.scrollOffset||200;if(a.$el.height()>0){var l=a.$el.offset().top,h=a.$el.offset().left,c=h+a.$el.width(),u=l+a.$el.height();!(h>e||c<n||l>i||u<r)&&s.push(a)}}return s}},{key:"defaults",get:function(){return i}}]),d}();n._elements=[],n._elementsInView=[],n._visibleElements=[],n._count=0,n._increment=0,n._ticks=0,M.ScrollSpy=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(t){"use strict";var e={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,e,i){return t.indexOf(i)-e.indexOf(i)}},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return s.el.M_Autocomplete=s,s.options=t.extend({},n.defaults,i),s.isOpen=!1,s.count=0,s.activeIndex=-1,s.oldVal,s.$inputField=s.$el.closest(".input-field"),s.$active=t(),s._mousedown=!1,s._setupDropdown(),s._setupEventHandlers(),s}return r(n,h),o(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var e=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),t(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(i){e.selectOption(t(i))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(t){"keyup"===t.type&&(n._keydown=!1),this.count=0;var e=this.el.value.toLowerCase();13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&(this.oldVal===e||!M.tabPressed&&"focus"===t.type||this.open(),this.oldVal=e)}},{key:"_handleInputKeydown",value:function(e){n._keydown=!0;var i=e.keyCode,s=void 0,o=t(this.container).children("li").length;i===M.keys.ENTER&&this.activeIndex>=0?(s=t(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(s),e.preventDefault()):i!==M.keys.ARROW_UP&&i!==M.keys.ARROW_DOWN||(e.preventDefault(),i===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,i===M.keys.ARROW_DOWN&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=t(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(t){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(t){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(t){this._mousedown=!1}},{key:"_highlight",value:function(t,e){var i=e.find("img"),n=e.text().toLowerCase().indexOf(""+t.toLowerCase()),s=n+t.length-1,o=e.text().slice(0,n),a=e.text().slice(n,s+1),r=e.text().slice(s+1);e.html("<span>"+o+"<span class='highlight'>"+a+"</span>"+r+"</span>"),i.length&&e.prepend(i)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){t(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(t){var e=t.text().trim();this.el.value=e,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,e)}},{key:"_renderDropdown",value:function(e,i){var n=this;this._resetAutocomplete();var s=[];for(var o in e)if(e.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(i)){if(this.count>=this.options.limit)break;var a={data:e[o],key:o};s.push(a),this.count++}if(this.options.sortFunction){s.sort(function(t,e){return n.options.sortFunction(t.key.toLowerCase(),e.key.toLowerCase(),i.toLowerCase())})}for(var r=0;r<s.length;r++){var l=s[r],h=t("<li></li>");l.data?h.append('<img src="'+l.data+'" class="right circle"><span>'+l.key+"</span>"):h.append("<span>"+l.key+"</span>"),t(this.container).append(h),this._highlight(i,h)}}},{key:"open",value:function(){var t=this.el.value.toLowerCase();this._resetAutocomplete(),t.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,t)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(t){var e=this.el.value.toLowerCase();this.options.data=t,this.isOpen&&this._renderDropdown(t,e)}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Autocomplete}},{key:"defaults",get:function(){return e}}]),n}();i._keydown=!1,M.Autocomplete=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"autocomplete","M_Autocomplete")}(cash),function(t){M.updateTextFields=function(){t("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each(function(e,i){var n=t(this);e.value.length>0||t(e).is(":focus")||e.autofocus||null!==n.attr("placeholder")?n.siblings("label").addClass("active"):e.validity?n.siblings("label").toggleClass("active",!0===e.validity.badInput):n.siblings("label").removeClass("active")})},M.validate_field=function(t){var e=null!==t.attr("data-length"),i=parseInt(t.attr("data-length")),n=t[0].value.length;0!==n||!1!==t[0].validity.badInput||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&n<=i||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))},M.textareaAutoResize=function(e){if(e instanceof Element&&(e=t(e)),e.length){var i=t(".hiddendiv").first();i.length||(i=t('<div class="hiddendiv common"></div>'),t("body").append(i));var n=e.css("font-family"),s=e.css("font-size"),o=e.css("line-height"),a=e.css("padding-top"),r=e.css("padding-right"),l=e.css("padding-bottom"),h=e.css("padding-left");s&&i.css("font-size",s),n&&i.css("font-family",n),o&&i.css("line-height",o),a&&i.css("padding-top",a),r&&i.css("padding-right",r),l&&i.css("padding-bottom",l),h&&i.css("padding-left",h),e.data("original-height")||e.data("original-height",e.height()),"off"===e.attr("wrap")&&i.css("overflow-wrap","normal").css("white-space","pre"),i.text(e[0].value+"\n");var d=i.html().replace(/\n/g,"<br>");i.html(d),e[0].offsetWidth>0&&e[0].offsetHeight>0?i.css("width",e.width()+"px"):i.css("width",window.innerWidth/2+"px"),e.data("original-height")<=i.innerHeight()?e.css("height",i.innerHeight()+"px"):e[0].value.length<e.data("previous-length")&&e.css("height",e.data("original-height")+"px"),e.data("previous-length",e[0].value.length)}else console.error("No textarea element found")},t(document).ready(function(){var e="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";t(document).on("change",e,function(){0===this.value.length&&null===t(this).attr("placeholder")||t(this).siblings("label").addClass("active"),M.validate_field(t(this))}),t(document).ready(function(){M.updateTextFields()}),t(document).on("reset",function(i){var n=t(i.target);n.is("form")&&(n.find(e).removeClass("valid").removeClass("invalid"),n.find(e).each(function(e){this.value.length&&t(this).siblings("label").removeClass("active")}),setTimeout(function(){n.find("select").each(function(){this.M_FormSelect&&t(this).trigger("change")})},0))}),document.addEventListener("focus",function(i){t(i.target).is(e)&&t(i.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(i){var n=t(i.target);if(n.is(e)){var s=".prefix";0===n[0].value.length&&!0!==n[0].validity.badInput&&null===n.attr("placeholder")&&(s+=", label"),n.siblings(s).removeClass("active"),M.validate_field(n)}},!0);t(document).on("keyup","input[type=radio], input[type=checkbox]",function(e){if(e.which===M.keys.TAB)return t(this).addClass("tabbed"),void t(this).one("blur",function(e){t(this).removeClass("tabbed")})});t(".materialize-textarea").each(function(){var e=t(this);e.data("original-height",e.height()),e.data("previous-length",this.value.length),M.textareaAutoResize(e)}),t(document).on("keyup",".materialize-textarea",function(){M.textareaAutoResize(t(this))}),t(document).on("keydown",".materialize-textarea",function(){M.textareaAutoResize(t(this))}),t(document).on("change",'.file-field input[type="file"]',function(){for(var e=t(this).closest(".file-field").find("input.file-path"),i=t(this)[0].files,n=[],s=0;s<i.length;s++)n.push(i[s].name);e[0].value=n.join(", "),e.trigger("change")})})}(cash),function(t,e){"use strict";var i={indicators:!0,height:400,duration:500,interval:6e3},n=function(n){function d(i,n){l(this,d);var s=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,i,n));return s.el.M_Slider=s,s.options=t.extend({},d.defaults,n),s.$slider=s.$el.find(".slides"),s.$slides=s.$slider.children("li"),s.activeIndex=s.$slides.filter(function(e){return t(e).hasClass("active")}).first().index(),-1!=s.activeIndex&&(s.$active=s.$slides.eq(s.activeIndex)),s._setSliderHeight(),s.$slides.find(".caption").each(function(t){s._animateCaptionIn(t,0)}),s.$slides.find("img").each(function(e){var i="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";t(e).attr("src")!==i&&(t(e).css("background-image",'url("'+t(e).attr("src")+'")'),t(e).attr("src",i))}),s._setupIndicators(),s.$active?s.$active.css("display","block"):(s.$slides.first().addClass("active"),e({targets:s.$slides.first()[0],opacity:1,duration:s.options.duration,easing:"easeOutQuad"}),s.activeIndex=0,s.$active=s.$slides.eq(s.activeIndex),s.options.indicators&&s.$indicators.eq(s.activeIndex).addClass("active")),s.$active.find("img").each(function(t){e({targets:s.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:s.options.duration,easing:"easeOutQuad"})}),s._setupEventHandlers(),s.start(),s}return r(d,h),o(d,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(e){e.addEventListener("click",t._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var t=this;this.options.indicators&&this.$indicators.each(function(e){e.removeEventListener("click",t._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(e){var i=t(e.target).index();this.set(i)}},{key:"_handleInterval",value:function(){var t=this.$slider.find(".active").index();this.$slides.length===t+1?t=0:t+=1,this.set(t)}},{key:"_animateCaptionIn",value:function(i,n){var s={targets:i,opacity:0,duration:n,easing:"easeOutQuad"};t(i).hasClass("center-align")?s.translateY=-100:t(i).hasClass("right-align")?s.translateX=100:t(i).hasClass("left-align")&&(s.translateX=-100),e(s)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var e=this;this.options.indicators&&(this.$indicators=t('<ul class="indicators"></ul>'),this.$slides.each(function(i,n){var s=t('<li class="indicator-item"></li>');e.$indicators.append(s[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(t){var i=this;if(t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.activeIndex!=t){this.$active=this.$slides.eq(this.activeIndex);var n=this.$active.find(".caption");this.$active.removeClass("active"),e({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){i.$slides.not(".active").each(function(t){e({targets:t,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(n[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(t).addClass("active")),e({targets:this.$slides.eq(t)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),e({targets:this.$slides.eq(t).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(t).addClass("active"),this.activeIndex=t,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var t=this.activeIndex+1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}},{key:"prev",value:function(){var t=this.activeIndex-1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Slider}},{key:"defaults",get:function(){return i}}]),d}();M.Slider=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"slider","M_Slider")}(cash,M.anime),function(t,e){t(document).on("click",".card",function(i){if(t(this).children(".card-reveal").length){var n=t(i.target).closest(".card");void 0===n.data("initialOverflow")&&n.data("initialOverflow",void 0===n.css("overflow")?"":n.css("overflow"));var s=t(this).find(".card-reveal");t(i.target).is(t(".card-reveal .card-title"))||t(i.target).is(t(".card-reveal .card-title i"))?e({targets:s[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(e){var i=e.animatables[0].target;t(i).css({display:"none"}),n.css("overflow",n.data("initialOverflow"))}}):(t(i.target).is(t(".card .activator"))||t(i.target).is(t(".card .activator i")))&&(n.css("overflow","hidden"),s.css({display:"block"}),e({targets:s[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(t){"use strict";var e={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return s.el.M_Chips=s,s.options=t.extend({},n.defaults,i),s.$el.addClass("chips input-field"),s.chipsData=[],s.$chips=t(),s._setupInput(),s.hasAutocomplete=Object.keys(s.options.autocompleteOptions).length>0,s.$input.attr("id")||s.$input.attr("id",M.guid()),s.options.data.length&&(s.chipsData=s.options.data,s._renderChips(s.chipsData)),s.hasAutocomplete&&s._setupAutocomplete(),s._setPlaceholder(),s._setupLabel(),s._setupEventHandlers(),s}return r(n,h),o(n,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",n._handleChipsKeydown),document.addEventListener("keyup",n._handleChipsKeyup),this.el.addEventListener("blur",n._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",n._handleChipsKeydown),document.removeEventListener("keyup",n._handleChipsKeyup),this.el.removeEventListener("blur",n._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(e){var i=t(e.target).closest(".chip"),n=t(e.target).is(".close");if(i.length){var s=i.index();n?(this.deleteChip(s),this.$input[0].focus()):this.selectChip(s)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(t){if(n._keydown=!0,13===t.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;t.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==t.keyCode&&37!==t.keyCode||""!==this.$input[0].value||!this.chipsData.length||(t.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(e){if(e.tag){var i=document.createElement("div"),n=document.createElement("i");if(i.classList.add("chip"),i.textContent=e.tag,i.setAttribute("tabindex",0),t(n).addClass("material-icons close"),n.textContent="close",e.image){var s=document.createElement("img");s.setAttribute("src",e.image),i.insertBefore(s,i.firstChild)}return i.appendChild(n),i}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var t=0;t<this.chipsData.length;t++){var e=this._renderChip(this.chipsData[t]);this.$el.append(e),this.$chips.add(e)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var t=this;this.options.autocompleteOptions.onAutocomplete=function(e){t.addChip({tag:e}),t.$input[0].value="",t.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=t("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?t(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&t(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(t){if(t.hasOwnProperty("tag")&&""!==t.tag){for(var e=!1,i=0;i<this.chipsData.length;i++)if(this.chipsData[i].tag===t.tag){e=!0;break}return!e}return!1}},{key:"addChip",value:function(e){if(this._isValid(e)&&!(this.chipsData.length>=this.options.limit)){var i=this._renderChip(e);this.$chips.add(i),this.chipsData.push(e),t(this.$input).before(i),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,i)}}},{key:"deleteChip",value:function(e){var i=this.$chips.eq(e);this.$chips.eq(e).remove(),this.$chips=this.$chips.filter(function(e){return t(e).index()>=0}),this.chipsData.splice(e,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,i[0])}},{key:"selectChip",value:function(t){var e=this.$chips.eq(t);this._selectedChip=e,e[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,e[0])}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Chips}},{key:"_handleChipsKeydown",value:function(e){n._keydown=!0;var i=t(e.target).closest(".chips"),s=e.target&&i.length;if(!t(e.target).is("input, textarea")&&s){var o=i[0].M_Chips;if(8===e.keyCode||46===e.keyCode){e.preventDefault();var a=o.chipsData.length;if(o._selectedChip){var r=o._selectedChip.index();o.deleteChip(r),o._selectedChip=null,a=Math.max(r-1,0)}o.chipsData.length&&o.selectChip(a)}else if(37===e.keyCode){if(o._selectedChip){var l=o._selectedChip.index()-1;if(l<0)return;o.selectChip(l)}}else if(39===e.keyCode&&o._selectedChip){var h=o._selectedChip.index()+1;h>=o.chipsData.length?o.$input[0].focus():o.selectChip(h)}}}},{key:"_handleChipsKeyup",value:function(t){n._keydown=!1}},{key:"_handleChipsBlur",value:function(e){n._keydown||(t(e.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return e}}]),n}();i._keydown=!1,M.Chips=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"chips","M_Chips"),t(document).ready(function(){t(document.body).on("click",".chip .close",function(){var e=t(this).closest(".chips");e.length&&e[0].M_Chips||t(this).closest(".chip").remove()})})}(cash),function(t){"use strict";var e={top:0,bottom:1/0,offset:0,onPositionChange:null},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return s.el.M_Pushpin=s,s.options=t.extend({},n.defaults,i),s.originalOffset=s.el.offsetTop,n._pushpins.push(s),s._setupEventHandlers(),s._updatePosition(),s}return r(n,h),o(n,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var t=n._pushpins.indexOf(this);n._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",n._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",n._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Pushpin}},{key:"_updateElements",value:function(){for(var t in n._pushpins){n._pushpins[t]._updatePosition()}}},{key:"defaults",get:function(){return e}}]),n}();i._pushpins=[],M.Pushpin=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"pushpin","M_Pushpin")}(cash),function(t,e){"use strict";var i={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};t.fn.reverse=[].reverse;var n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));return n.el.M_FloatingActionButton=n,n.options=t.extend({},d.defaults,i),n.isOpen=!1,n.$anchor=n.$el.children("a").first(),n.$menu=n.$el.children("ul").first(),n.$floatingBtns=n.$el.find("ul .btn-floating"),n.$floatingBtnsReverse=n.$el.find("ul .btn-floating").reverse(),n.offsetY=0,n.offsetX=0,n.$el.addClass("direction-"+n.options.direction),"top"===n.options.direction?n.offsetY=40:"right"===n.options.direction?n.offsetX=-40:"bottom"===n.options.direction?n.offsetY=-40:n.offsetX=40,n._setupEventHandlers(),n}return r(d,h),o(d,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var i=0;this.$floatingBtnsReverse.each(function(n){e({targets:n,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:i,easing:"easeInOutQuad"}),i+=40})}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each(function(i){e.remove(i),e({targets:i,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var e,i=this,n=window.innerWidth,s=window.innerHeight,o=this.el.getBoundingClientRect(),a=t('<div class="fab-backdrop"></div>'),r=this.$anchor.css("background-color");this.$anchor.append(a),this.offsetX=o.left-n/2+o.width/2,this.offsetY=s-o.bottom,e=n/a[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),a.css({"background-color":r}),setTimeout(function(){i.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),i.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){i.$el.css({overflow:"hidden","background-color":r}),a.css({transform:"scale("+e+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),i.$menu.children("li").children("a").css({opacity:1}),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),window.addEventListener("scroll",i._handleCloseBound,!0),document.body.addEventListener("click",i._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,i=window.innerHeight,n=this.$el.find(".fab-backdrop"),s=this.$anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=i-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),n.css({transform:"scale(0)","background-color":s}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){n.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout(function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FloatingActionButton}},{key:"defaults",get:function(){return i}}]),d}();M.FloatingActionButton=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(t){"use strict";var e={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"‹",nextMonth:"›",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));s.el.M_Datepicker=s,s.options=t.extend({},n.defaults,i),i&&i.hasOwnProperty("i18n")&&"object"==typeof i.i18n&&(s.options.i18n=t.extend({},n.defaults.i18n,i.i18n)),s.options.minDate&&s.options.minDate.setHours(0,0,0,0),s.options.maxDate&&s.options.maxDate.setHours(0,0,0,0),s.id=M.guid(),s._setupVariables(),s._insertHTMLIntoDOM(),s._setupModal(),s._setupEventHandlers(),s.options.defaultDate||(s.options.defaultDate=new Date(Date.parse(s.el.value)));var o=s.options.defaultDate;return n._isDate(o)?s.options.setDefaultDate?(s.setDate(o,!0),s.setInputValue()):s.gotoDate(o):s.gotoDate(new Date),s.isOpen=!1,s}return r(n,h),o(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var t=this.calendarEl.querySelector(".orig-select-year");t&&M.FormSelect.getInstance(t).destroy();var e=this.calendarEl.querySelector(".orig-select-month");e&&M.FormSelect.getInstance(e).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(t(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"toString",value:function(t){var e=this;return t=t||this.options.format,n._isDate(this.date)?t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map(function(t){return e.formats[t]?e.formats[t]():t}).join(""):""}},{key:"setDate",value:function(t,e){if(!t)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),n._isDate(t)){var i=this.options.minDate,s=this.options.maxDate;n._isDate(i)&&t<i?t=i:n._isDate(s)&&t>s&&(t=s),this.date=new Date(t.getTime()),this._renderDateDisplay(),n._setToStartOfDay(this.date),this.gotoDate(this.date),e||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var t=n._isDate(this.date)?this.date:new Date,e=this.options.i18n,i=e.weekdaysShort[t.getDay()],s=e.monthsShort[t.getMonth()],o=t.getDate();this.yearTextEl.innerHTML=t.getFullYear(),this.dateTextEl.innerHTML=i+", "+s+" "+o}},{key:"gotoDate",value:function(t){var e=!0;if(n._isDate(t)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),s=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();s.setMonth(s.getMonth()+1),s.setDate(s.getDate()-1),e=o<i.getTime()||s.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(t,e,i){var s=this.options,o=new Date,a=n._getDaysInMonth(t,e),r=new Date(t,e,1).getDay(),l=[],h=[];n._setToStartOfDay(o),s.firstDay>0&&(r-=s.firstDay)<0&&(r+=7);for(var d=0===e?11:e-1,c=11===e?0:e+1,u=0===e?t-1:t,p=11===e?t+1:t,f=n._getDaysInMonth(u,d),v=a+r,m=v;m>7;)m-=7;v+=7-m;for(var g=!1,y=0,_=0;y<v;y++){var w=new Date(t,e,y-r+1),k=!!n._isDate(this.date)&&n._compareDates(w,this.date),b=n._compareDates(w,o),E=-1!==s.events.indexOf(w.toDateString()),C=y<r||y>=a+r,x=y-r+1,S=e,M=t,T=s.startRange&&n._compareDates(s.startRange,w),L=s.endRange&&n._compareDates(s.endRange,w),O=s.startRange&&s.endRange&&s.startRange<w&&w<s.endRange;C&&(y<r?(x=f+x,S=d,M=u):(x-=a,S=c,M=p));var D={day:x,month:S,year:M,hasEvent:E,isSelected:k,isToday:b,isDisabled:s.minDate&&w<s.minDate||s.maxDate&&w>s.maxDate||s.disableWeekends&&n._isWeekend(w)||s.disableDayFn&&s.disableDayFn(w),isEmpty:C,isStartRange:T,isEndRange:L,isInRange:O,showDaysInNextAndPreviousMonths:s.showDaysInNextAndPreviousMonths};h.push(this.renderDay(D)),7==++_&&(l.push(this.renderRow(h,s.isRTL,g)),h=[],_=0,g=!1)}return this.renderTable(s,l,i)}},{key:"renderDay",value:function(t){var e=[],i="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),i="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+i+'"><button class="datepicker-day-button" type="button" data-year="'+t.year+'" data-month="'+t.month+'" data-day="'+t.day+'">'+t.day+"</button></td>"}},{key:"renderRow",value:function(t,e,i){return'<tr class="datepicker-row'+(i?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"}},{key:"renderTable",value:function(t,e,i){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+i+'">'+this.renderHead(t)+this.renderBody(e)+"</table></div>"}},{key:"renderHead",value:function(t){var e=void 0,i=[];for(e=0;e<7;e++)i.push('<th scope="col"><abbr title="'+this.renderDayName(t,e)+'">'+this.renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?i.reverse():i).join("")+"</tr></thead>"}},{key:"renderBody",value:function(t){return"<tbody>"+t.join("")+"</tbody>"}},{key:"renderTitle",value:function(e,i,n,s,o,a){var r,l,h=void 0,d=void 0,c=void 0,u=this.options,p=n===u.minYear,f=n===u.maxYear,v='<div id="'+a+'" class="datepicker-controls" role="heading" aria-live="assertive">',m=!0,g=!0;for(c=[],h=0;h<12;h++)c.push('<option value="'+(n===o?h-i:12+h-i)+'"'+(h===s?' selected="selected"':"")+(p&&h<u.minMonth||f&&h>u.maxMonth?'disabled="disabled"':"")+">"+u.i18n.months[h]+"</option>");for(r='<select class="datepicker-select orig-select-month" tabindex="-1">'+c.join("")+"</select>",t.isArray(u.yearRange)?(h=u.yearRange[0],d=u.yearRange[1]+1):(h=n-u.yearRange,d=1+n+u.yearRange),c=[];h<d&&h<=u.maxYear;h++)h>=u.minYear&&c.push('<option value="'+h+'" '+(h===n?'selected="selected"':"")+">"+h+"</option>");l='<select class="datepicker-select orig-select-year" tabindex="-1">'+c.join("")+"</select>";v+='<button class="month-prev'+(m?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',v+='<div class="selects-container">',u.showMonthAfterYear?v+=l+r:v+=r+l,v+="</div>",p&&(0===s||u.minMonth>=s)&&(m=!1),f&&(11===s||u.maxMonth<=s)&&(g=!1);return(v+='<button class="month-next'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(t){if(this.isOpen||t){var e,i=this.options,n=i.minYear,s=i.maxYear,o=i.minMonth,a=i.maxMonth,r="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=s&&(this._y=s,!isNaN(a)&&this._m>a&&(this._m=a)),e="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var l=0;l<1;l++)this._renderDateDisplay(),r+=this.renderTitle(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,e)+this.render(this.calendars[l].year,this.calendars[l].month,e);this.destroySelects(),this.calendarEl.innerHTML=r;var h=this.calendarEl.querySelector(".orig-select-year"),d=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(h,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(d,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),h.addEventListener("change",this._handleYearChange.bind(this)),d.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var e=this;this.$modalEl=t(n._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return e.date.getDate()},dd:function(){var t=e.date.getDate();return(t<10?"0":"")+t},ddd:function(){return e.options.i18n.weekdaysShort[e.date.getDay()]},dddd:function(){return e.options.i18n.weekdays[e.date.getDay()]},m:function(){return e.date.getMonth()+1},mm:function(){var t=e.date.getMonth()+1;return(t<10?"0":"")+t},mmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},mmmm:function(){return e.options.i18n.months[e.date.getMonth()]},yy:function(){return(""+e.date.getFullYear()).slice(2)},yyyy:function(){return e.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(e){if(this.isOpen){var i=t(e.target);i.hasClass("is-disabled")||(!i.hasClass("datepicker-day-button")||i.hasClass("is-empty")||i.parent().hasClass("is-disabled")?i.closest(".month-prev").length?this.prevMonth():i.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(e.target.getAttribute("data-year"),e.target.getAttribute("data-month"),e.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(t){this.gotoMonth(t.target.value)}},{key:"_handleYearChange",value:function(t){this.gotoYear(t.target.value)}},{key:"gotoMonth",value:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())}},{key:"gotoYear",value:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(t){var e=void 0;t.firedBy!==this&&(e=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),n._isDate(e)&&this.setDate(e))}},{key:"renderDayName",value:function(t,e,i){for(e+=t.firstDay;e>=7;)e-=7;return i?t.i18n.weekdaysAbbrev[e]:t.i18n.weekdays[e]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"_isDate",value:function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())}},{key:"_isWeekend",value:function(t){var e=t.getDay();return 0===e||6===e}},{key:"_setToStartOfDay",value:function(t){n._isDate(t)&&t.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(t,e){return[31,n._isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"_isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"_compareDates",value:function(t,e){return t.getTime()===e.getTime()}},{key:"_setToStartOfDay",value:function(t){n._isDate(t)&&t.setHours(0,0,0,0)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Datepicker}},{key:"defaults",get:function(){return e}}]),n}();i._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"datepicker","M_Datepicker")}(cash),function(t){"use strict";var e={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return s.el.M_Timepicker=s,s.options=t.extend({},n.defaults,i),s.id=M.guid(),s._insertHTMLIntoDOM(),s._setupModal(),s._setupVariables(),s._setupEventHandlers(),s._clockSetup(),s._pickerSetup(),s}return r(n,h),o(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),t(this.spanHours).on("click",this.showView.bind(this,"hours")),t(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(t){t.preventDefault();var e=this.plate.getBoundingClientRect(),i=e.left,s=e.top;this.x0=i+this.options.dialRadius,this.y0=s+this.options.dialRadius,this.moved=!1;var o=n._Pos(t);this.dx=o.x-this.x0,this.dy=o.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(t){t.preventDefault();var e=n._Pos(t),i=e.x-this.x0,s=e.y-this.y0;this.moved=!0,this.setHand(i,s,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(e){var i=this;e.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var s=n._Pos(e),o=s.x-this.x0,a=s.y-this.y0;this.moved&&o===this.dx&&a===this.dy&&this.setHand(o,a),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(t(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){i.done()},this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=t(n._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var e=document.querySelector(this.options.container);this.options.container&&e?this.$modalEl.appendTo(e):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t),t.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var e=t('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&e.css({visibility:""});var i=t('<div class="confirmation-btns"></div>');t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(i).on("click",this.close.bind(this)),t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(i).on("click",this.done.bind(this)),i.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=t('<div class="am-btn">AM</div>'),this.$pmBtn=t('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var t=this.options.dialRadius,e=this.options.tickRadius,i=2*t,s=n._createSVGEl("svg");s.setAttribute("class","timepicker-svg"),s.setAttribute("width",i),s.setAttribute("height",i);var o=n._createSVGEl("g");o.setAttribute("transform","translate("+t+","+t+")");var a=n._createSVGEl("circle");a.setAttribute("class","timepicker-canvas-bearing"),a.setAttribute("cx",0),a.setAttribute("cy",0),a.setAttribute("r",4);var r=n._createSVGEl("line");r.setAttribute("x1",0),r.setAttribute("y1",0);var l=n._createSVGEl("circle");l.setAttribute("class","timepicker-canvas-bg"),l.setAttribute("r",e),o.appendChild(r),o.appendChild(l),o.appendChild(a),s.appendChild(o),this._canvas.appendChild(s),this.hand=r,this.bg=l,this.bearing=a,this.g=o}},{key:"_buildHoursView",value:function(){var e=t('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var i=1;i<13;i+=1){var n=e.clone(),s=i/6*Math.PI,o=this.options.outerRadius;n.css({left:this.options.dialRadius+Math.sin(s)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(s)*o-this.options.tickRadius+"px"}),n.html(0===i?"00":i),this.hoursView.appendChild(n[0])}else for(var a=0;a<24;a+=1){var r=e.clone(),l=a/6*Math.PI,h=a>0&&a<13?this.options.innerRadius:this.options.outerRadius;r.css({left:this.options.dialRadius+Math.sin(l)*h-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(l)*h-this.options.tickRadius+"px"}),r.html(0===a?"00":a),this.hoursView.appendChild(r[0])}}},{key:"_buildMinutesView",value:function(){for(var e=t('<div class="timepicker-tick"></div>'),i=0;i<60;i+=5){var s=e.clone(),o=i/30*Math.PI;s.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),s.html(n._addLeadingZero(i)),this.minutesView.appendChild(s[0])}}},{key:"_handleAmPmClick",value:function(e){var i=t(e.target);this.amOrPm=i.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var t=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==t[1]&&(t[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",t[1]=t[1].replace("AM","").replace("PM","")),"now"===t[0]){var e=new Date(+new Date+this.options.fromNow);t=[e.getHours(),e.getMinutes()],this.options.twelveHour&&(this.amOrPm=t[0]>=12&&t[0]<24?"PM":"AM")}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=n._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(e,i){"minutes"===e&&t(this.hoursView).css("visibility");var n="hours"===e,s=n?this.hoursView:this.minutesView,o=n?this.minutesView:this.hoursView;this.currentView=e,t(this.spanHours).toggleClass("text-primary",n),t(this.spanMinutes).toggleClass("text-primary",!n),o.classList.add("timepicker-dial-out"),t(s).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(i),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){t(o).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(e){var i=this.currentView,n=this[i],s="hours"===i,o=n*(Math.PI/(s?6:30)),a=s&&n>0&&n<13?this.options.innerRadius:this.options.outerRadius,r=Math.sin(o)*a,l=-Math.cos(o)*a,h=this;e?(t(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){t(h.canvas).removeClass("timepicker-canvas-out"),h.setHand(r,l)},e)):this.setHand(r,l)}},{key:"setHand",value:function(t,e,i){var s=this,o=Math.atan2(t,-e),a="hours"===this.currentView,r=Math.PI/(a||i?6:30),l=Math.sqrt(t*t+e*e),h=a&&l<(this.options.outerRadius+this.options.innerRadius)/2,d=h?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(d=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var c=Math.round(o/r);o=c*r,this.options.twelveHour?a?0===c&&(c=12):(i&&(c*=5),60===c&&(c=0)):a?(12===c&&(c=0),c=h?0===c?12:c:0===c?0:c+12):(i&&(c*=5),60===c&&(c=0)),this[this.currentView]!==c&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){s.vibrateTimer=null},100))),this[this.currentView]=c,a?this.spanHours.innerHTML=c:this.spanMinutes.innerHTML=n._addLeadingZero(c);var u=Math.sin(o)*(d-this.options.tickRadius),p=-Math.cos(o)*(d-this.options.tickRadius),f=Math.sin(o)*d,v=-Math.cos(o)*d;this.hand.setAttribute("x2",u),this.hand.setAttribute("y2",p),this.bg.setAttribute("cx",f),this.bg.setAttribute("cy",v)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(t,e){var i=this.el.value,s=e?"":n._addLeadingZero(this.hours)+":"+n._addLeadingZero(this.minutes);this.time=s,!e&&this.options.twelveHour&&(s=s+" "+this.amOrPm),this.el.value=s,s!==i&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"_addLeadingZero",value:function(t){return(t<10?"0":"")+t}},{key:"_createSVGEl",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},{key:"_Pos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY}}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Timepicker}},{key:"defaults",get:function(){return e}}]),n}();i._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"timepicker","M_Timepicker")}(cash),function(t){"use strict";var e={},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return s.el.M_CharacterCounter=s,s.options=t.extend({},n.defaults,i),s.isInvalid=!1,s.isValidLength=!1,s._setupCounter(),s._setupEventHandlers(),s}return r(n,h),o(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),t(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){t(this.counterEl).remove()}},{key:"updateCounter",value:function(){var e=+this.$el.attr("data-length"),i=this.el.value.length;this.isValidLength=i<=e;var n=i;e&&(n+="/"+e,this._validateInput()),t(this.counterEl).html(n)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_CharacterCounter}},{key:"defaults",get:function(){return e}}]),n}();M.CharacterCounter=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"characterCounter","M_CharacterCounter")}(cash),function(t){"use strict";var e={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return s.el.M_Carousel=s,s.options=t.extend({},n.defaults,i),s.hasMultipleSlides=s.$el.find(".carousel-item").length>1,s.showIndicators=s.options.indicators&&s.hasMultipleSlides,s.noWrap=s.options.noWrap||!s.hasMultipleSlides,s.pressed=!1,s.dragged=!1,s.offset=s.target=0,s.images=[],s.itemWidth=s.$el.find(".carousel-item").first().innerWidth(),s.itemHeight=s.$el.find(".carousel-item").first().innerHeight(),s.dim=2*s.itemWidth+s.options.padding||1,s._autoScrollBound=s._autoScroll.bind(s),s._trackBound=s._track.bind(s),s.options.fullWidth&&(s.options.dist=0,s._setCarouselHeight(),s.showIndicators&&s.$el.find(".carousel-fixed-item").addClass("with-indicators")),s.$indicators=t('<ul class="indicators"></ul>'),s.$el.find(".carousel-item").each(function(e,i){if(s.images.push(e),s.showIndicators){var n=t('<li class="indicator-item"></li>');0===i&&n[0].classList.add("active"),s.$indicators.append(n)}}),s.showIndicators&&s.$el.append(s.$indicators),s.count=s.images.length,s.options.numVisible=Math.min(s.count,s.options.numVisible),s.xform="transform",["webkit","Moz","O","ms"].every(function(t){var e=t+"Transform";return void 0===document.body.style[e]||(s.xform=e,!1)}),s._setupEventHandlers(),s._scroll(s.offset),s}return r(n,h),o(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(e,i){e.addEventListener("click",t._handleIndicatorClickBound)}));var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var t=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(e,i){e.removeEventListener("click",t._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(e){"mousedown"===e.type&&t(e.target).is("img")&&e.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(e),this.referenceY=this._ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(t){var e=void 0,i=void 0,n=void 0;if(this.pressed)if(e=this._xpos(t),i=this._ypos(t),n=this.reference-e,Math.abs(this.referenceY-i)<30&&!this.verticalDragged)(n>2||n<-2)&&(this.dragged=!0,this.reference=e,this._scroll(this.offset+n));else{if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(t){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(e){if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;if(!this.options.fullWidth){var i=t(e.target).closest(".carousel-item").index();0!==this._wrap(this.center)-i&&(e.preventDefault(),e.stopPropagation()),this._cycleTo(i)}}},{key:"_handleIndicatorClick",value:function(e){e.stopPropagation();var i=t(e.target).closest(".indicator-item");i.length&&this._cycleTo(i.index())}},{key:"_handleResize",value:function(t){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(t){var e=this,i=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),n=i.find("img").first();if(n.length)if(n[0].complete){var s=n.height();if(s>0)this.$el.css("height",s+"px");else{var o=n[0].naturalWidth,a=n[0].naturalHeight,r=this.$el.width()/o*a;this.$el.css("height",r+"px")}}else n.one("load",function(t,i){e.$el.css("height",t.offsetHeight+"px")});else if(!t){var l=i.height();this.$el.css("height",l+"px")}}},{key:"_xpos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"_ypos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}},{key:"_wrap",value:function(t){return t>=this.count?t%this.count:t<0?this._wrap(this.count+t%this.count):t}},{key:"_track",value:function(){var t,e,i,n;e=(t=Date.now())-this.timestamp,this.timestamp=t,i=this.offset-this.frame,this.frame=this.offset,n=1e3*i/(1+e),this.velocity=.8*n+.2*this.velocity}},{key:"_autoScroll",value:function(){var t=void 0,e=void 0;this.amplitude&&(t=Date.now()-this.timestamp,(e=this.amplitude*Math.exp(-t/this.options.duration))>2||e<-2?(this._scroll(this.target-e),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(e){var i=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){i.$el.removeClass("scrolling")},this.options.duration);var n,s,o,a,r=void 0,l=void 0,h=void 0,d=void 0,c=void 0,u=void 0,p=this.center,f=1/this.options.numVisible;if(this.offset="number"==typeof e?e:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),a=-(o=(s=this.offset-this.center*this.dim)<0?1:-1)*s*2/this.dim,n=this.count>>1,this.options.fullWidth?(h="translateX(0)",u=1):(h="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",h+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",u=1-f*a),this.showIndicators){var v=this.center%this.count,m=this.$indicators.find(".indicator-item.active");m.index()!==v&&(m.removeClass("active"),this.$indicators.find(".indicator-item").eq(v)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){l=this.images[this._wrap(this.center)],t(l).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),l.classList.add("active"));var g=h+" translateX("+-s/2+"px) translateX("+o*this.options.shift*a*r+"px) translateZ("+this.options.dist*a+"px)";this._updateItemStyle(l,u,0,g)}for(r=1;r<=n;++r){if(this.options.fullWidth?(d=this.options.dist,c=r===n&&s<0?1-a:1):(d=this.options.dist*(2*r+a*o),c=1-f*(2*r+a*o)),!this.noWrap||this.center+r<this.count){l=this.images[this._wrap(this.center+r)];var y=h+" translateX("+(this.options.shift+(this.dim*r-s)/2)+"px) translateZ("+d+"px)";this._updateItemStyle(l,c,-r,y)}if(this.options.fullWidth?(d=this.options.dist,c=r===n&&s>0?1-a:1):(d=this.options.dist*(2*r-a*o),c=1-f*(2*r-a*o)),!this.noWrap||this.center-r>=0){l=this.images[this._wrap(this.center-r)];var _=h+" translateX("+(-this.options.shift+(-this.dim*r-s)/2)+"px) translateZ("+d+"px)";this._updateItemStyle(l,c,-r,_)}}if(!this.noWrap||this.center>=0&&this.center<this.count){l=this.images[this._wrap(this.center)];var w=h+" translateX("+-s/2+"px) translateX("+o*this.options.shift*a+"px) translateZ("+this.options.dist*a+"px)";this._updateItemStyle(l,u,0,w)}var k=this.$el.find(".carousel-item").eq(this._wrap(this.center));p!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,k[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,k[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(t,e,i,n){t.style[this.xform]=n,t.style.zIndex=i,t.style.opacity=e,t.style.visibility="visible"}},{key:"_cycleTo",value:function(t,e){var i=this.center%this.count-t;this.noWrap||(i<0?Math.abs(i+this.count)<Math.abs(i)&&(i+=this.count):i>0&&Math.abs(i-this.count)<i&&(i-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),i<0?this.target+=this.dim*Math.abs(i):i>0&&(this.target-=this.dim*i),"function"==typeof e&&(this.oneTimeCallback=e),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center+t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"prev",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center-t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"set",value:function(t,e){if((void 0===t||isNaN(t))&&(t=0),t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t,e)}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Carousel}},{key:"defaults",get:function(){return e}}]),n}();M.Carousel=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"carousel","M_Carousel")}(cash),function(t){"use strict";var e={onOpen:void 0,onClose:void 0},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return s.el.M_TapTarget=s,s.options=t.extend({},n.defaults,i),s.isOpen=!1,s.$origin=t("#"+s.$el.attr("data-target")),s._setup(),s._calculatePositioning(),s._setupEventHandlers(),s}return r(n,h),o(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(t){this.open()}},{key:"_handleOriginClick",value:function(t){this.close()}},{key:"_handleResize",value:function(t){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=t(this.wrapper).find(".tap-target-wave")[0],this.originEl=t(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],t(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(t(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var e="fixed"===this.$origin.css("position");if(!e)for(var i=this.$origin.parents(),n=0;n<i.length&&!(e="fixed"==t(i[n]).css("position"));n++);var s=this.$origin.outerWidth(),o=this.$origin.outerHeight(),a=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,r=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,l=window.innerWidth,h=window.innerHeight,d=l/2,c=h/2,u=r<=d,p=r>d,f=a<=c,v=a>c,m=r>=.25*l&&r<=.75*l,g=this.$el.outerWidth(),y=this.$el.outerHeight(),_=a+o/2-y/2,w=r+s/2-g/2,k=e?"fixed":"absolute",b=m?g:g/2+s,E=y/2,C=f?y/2:0,x=u&&!m?g/2-s:0,S=s,T=v?"bottom":"top",L=2*s,O=L,D=y/2-O/2,B=g/2-L/2,A={};A.top=f?_+"px":"",A.right=p?l-w-g+"px":"",A.bottom=v?h-_-y+"px":"",A.left=u?w+"px":"",A.position=k,t(this.wrapper).css(A),t(this.contentEl).css({width:b+"px",height:E+"px",top:C+"px",right:"0px",bottom:"0px",left:x+"px",padding:S+"px",verticalAlign:T}),t(this.waveEl).css({top:D+"px",left:B+"px",width:L+"px",height:O+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_TapTarget}},{key:"defaults",get:function(){return e}}]),n}();M.TapTarget=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tapTarget","M_TapTarget")}(cash),function(t){"use strict";var e={classes:"",dropdownOptions:{}},i=function(i){function n(e,i){l(this,n);var s=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,n,e,i));return s.$el.hasClass("browser-default")?a(s):(s.el.M_FormSelect=s,s.options=t.extend({},n.defaults,i),s.isMultiple=s.$el.prop("multiple"),s.el.tabIndex=-1,s._keysSelected={},s._valueDict={},s._setupDropdown(),s._setupEventHandlers(),s)}return r(n,h),o(n,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),t(this.dropdownOptions).find("li:not(.optgroup)").each(function(t){t.addEventListener("click",e._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var e=this;t(this.dropdownOptions).find("li:not(.optgroup)").each(function(t){t.removeEventListener("click",e._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(t){this._setValueToInput()}},{key:"_handleOptionClick",value:function(e){e.preventDefault();var i=t(e.target).closest("li")[0],n=i.id;if(!t(i).hasClass("disabled")&&!t(i).hasClass("optgroup")&&n.length){var s=!0;if(this.isMultiple){var o=t(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),s=this._toggleEntryFromArray(n)}else t(this.dropdownOptions).find("li").removeClass("selected"),t(i).toggleClass("selected",s);t(this._valueDict[n].el).prop("selected")!==s&&(t(this._valueDict[n].el).prop("selected",s),this.$el.trigger("change"))}e.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var e=this;this.wrapper=document.createElement("div"),t(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(t(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),t(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(i){if(t(i).is("option")){var n=void 0;n=e.isMultiple?e._appendOptionWithIcon(e.$el,i,"multiple"):e._appendOptionWithIcon(e.$el,i),e._addOptionToValueDict(i,n)}else if(t(i).is("optgroup")){var s=t(i).children("option");t(e.dropdownOptions).append(t('<li class="optgroup"><span>'+i.getAttribute("label")+"</span></li>")[0]),s.each(function(t){var i=e._appendOptionWithIcon(e.$el,t,"optgroup-option");e._addOptionToValueDict(t,i)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),t(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&t(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var i=t('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(i[0]),!this.el.disabled){var n=t.extend({},this.options.dropdownOptions);n.onOpenEnd=function(i){var n=t(e.dropdownOptions).find(".selected").first();if(n.length&&(M.keyDown=!0,e.dropdown.focusedIndex=n.index(),e.dropdown._focusFocusedItem(),M.keyDown=!1,e.dropdown.isScrollable)){var s=n[0].getBoundingClientRect().top-e.dropdownOptions.getBoundingClientRect().top;s-=e.dropdownOptions.clientHeight/2,e.dropdownOptions.scrollTop=s}},this.isMultiple&&(n.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,n)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(t,e){var i=Object.keys(this._valueDict).length,n=this.dropdownOptions.id+i,s={};e.id=n,s.el=t,s.optionEl=e,this._valueDict[n]=s}},{key:"_removeDropdown",value:function(){t(this.wrapper).find(".caret").remove(),t(this.input).remove(),t(this.dropdownOptions).remove(),t(this.wrapper).before(this.$el),t(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(e,i,n){var s=i.disabled?"disabled ":"",o="optgroup-option"===n?"optgroup-option ":"",a=this.isMultiple?'<label><input type="checkbox"'+s+'"/><span>'+i.innerHTML+"</span></label>":i.innerHTML,r=t("<li></li>"),l=t("<span></span>");l.html(a),r.addClass(s+" "+o),r.append(l);var h=i.getAttribute("data-icon");if(h){var d=t('<img alt="" src="'+h+'">');r.prepend(d)}return t(this.dropdownOptions).append(r[0]),r[0]}},{key:"_toggleEntryFromArray",value:function(e){var i=!this._keysSelected.hasOwnProperty(e),n=t(this._valueDict[e].optionEl);return i?this._keysSelected[e]=!0:delete this._keysSelected[e],n.toggleClass("selected",i),n.find('input[type="checkbox"]').prop("checked",i),n.prop("selected",i),i}},{key:"_setValueToInput",value:function(){var e=[];if(this.$el.find("option").each(function(i){if(t(i).prop("selected")){var n=t(i).text();e.push(n)}}),!e.length){var i=this.$el.find("option:disabled").eq(0);i.length&&""===i[0].value&&e.push(i.text())}this.input.value=e.join(", ")}},{key:"_setSelectedStates",value:function(){for(var e in this._keysSelected={},this._valueDict){var i=this._valueDict[e],n=t(i.el).prop("selected");t(i.optionEl).find('input[type="checkbox"]').prop("checked",n),n?(this._activateOption(t(this.dropdownOptions),t(i.optionEl)),this._keysSelected[e]=!0):t(i.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(e,i){i&&(this.isMultiple||e.find("li.selected").removeClass("selected"),t(i).addClass("selected"))}},{key:"getSelectedValues",value:function(){var t=[];for(var e in this._keysSelected)t.push(this._valueDict[e].el.value);return t}}],[{key:"init",value:function(t,e){return s(n.__proto__||Object.getPrototypeOf(n),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FormSelect}},{key:"defaults",get:function(){return e}}]),n}();M.FormSelect=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"formSelect","M_FormSelect")}(cash),function(t,e){"use strict";var i={},n=function(n){function d(e,i){l(this,d);var n=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d,e,i));return n.el.M_Range=n,n.options=t.extend({},d.defaults,i),n._mousedown=!1,n._setupThumb(),n._setupEventHandlers(),n}return r(d,h),o(d,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){t(this.value).html(this.$el.val()),t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(t(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),t(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var i=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",i+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px"),t(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var i=7+parseInt(this.$el.css("padding-left"))+"px";t(this.thumb).hasClass("active")&&(e.remove(this.thumb),e({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:i,duration:100})),t(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),t(this.thumb).addClass("thumb"),t(this.value).addClass("value"),t(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){t(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var i=-7+parseInt(t(this.thumb).parent().css("padding-left"))+"px";e.remove(this.thumb),e({targets:this.thumb,height:30,width:30,top:-30,marginLeft:i,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var t=this.$el.width()-15,e=parseFloat(this.$el.attr("max"))||100,i=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-i)/(e-i)*t}}],[{key:"init",value:function(t,e){return s(d.__proto__||Object.getPrototypeOf(d),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Range}},{key:"defaults",get:function(){return i}}]),d}();M.Range=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"range","M_Range"),n.init(t("input[type=range]"))}(cash,M.anime)}).call(this,i(10))},function(t,e,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,i){
/*!***************************************************
* mark.js v8.11.1
* https://markjs.io/
* Copyright (c) 2014–2018, Julian Kühnel
* Released under the MIT license https://git.io/vwTVl
*****************************************************/
t.exports=function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=function(){function t(i){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;e(this,t),this.ctx=i,this.iframes=n,this.exclude=s,this.iframesTimeout=o}return i(t,[{key:"getContexts",value:function(){var t=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach(function(e){var i=t.filter(function(t){return t.contains(e)}).length>0;-1!==t.indexOf(e)||i||t.push(e)}),t}},{key:"getIframeContents",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=void 0;try{var s=t.contentWindow;if(n=s.document,!s||!n)throw new Error("iframe inaccessible")}catch(t){i()}n&&e(n)}},{key:"isIframeBlank",value:function(t){var e="about:blank",i=t.getAttribute("src").trim(),n=t.contentWindow.location.href;return n===e&&i!==e&&i}},{key:"observeIframeLoad",value:function(t,e,i){var n=this,s=!1,o=null,a=function a(){if(!s){s=!0,clearTimeout(o);try{n.isIframeBlank(t)||(t.removeEventListener("load",a),n.getIframeContents(t,e,i))}catch(t){i()}}};t.addEventListener("load",a),o=setTimeout(a,this.iframesTimeout)}},{key:"onIframeReady",value:function(t,e,i){try{"complete"===t.contentWindow.document.readyState?this.isIframeBlank(t)?this.observeIframeLoad(t,e,i):this.getIframeContents(t,e,i):this.observeIframeLoad(t,e,i)}catch(t){i()}}},{key:"waitForIframes",value:function(t,e){var i=this,n=0;this.forEachIframe(t,function(){return!0},function(t){n++,i.waitForIframes(t.querySelector("html"),function(){--n||e()})},function(t){t||e()})}},{key:"forEachIframe",value:function(e,i,n){var s=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=e.querySelectorAll("iframe"),r=a.length,l=0;a=Array.prototype.slice.call(a);var h=function(){--r<=0&&o(l)};r||h(),a.forEach(function(e){t.matches(e,s.exclude)?h():s.onIframeReady(e,function(t){i(e)&&(l++,n(t)),h()},h)})}},{key:"createIterator",value:function(t,e,i){return document.createNodeIterator(t,e,i,!1)}},{key:"createInstanceOnIframe",value:function(e){return new t(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(t,e,i){var n=t.compareDocumentPosition(i),s=Node.DOCUMENT_POSITION_PRECEDING;if(n&s){if(null===e)return!0;var o=e.compareDocumentPosition(i),a=Node.DOCUMENT_POSITION_FOLLOWING;if(o&a)return!0}return!1}},{key:"getIteratorNode",value:function(t){var e=t.previousNode(),i=void 0;return i=null===e?t.nextNode():t.nextNode()&&t.nextNode(),{prevNode:e,node:i}}},{key:"checkIframeFilter",value:function(t,e,i,n){var s=!1,o=!1;return n.forEach(function(t,e){t.val===i&&(s=e,o=t.handled)}),this.compareNodeIframe(t,e,i)?(!1!==s||o?!1===s||o||(n[s].handled=!0):n.push({val:i,handled:!0}),!0):(!1===s&&n.push({val:i,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,e,i,n){var s=this;t.forEach(function(t){t.handled||s.getIframeContents(t.val,function(t){s.createInstanceOnIframe(t).forEachNode(e,i,n)})})}},{key:"iterateThroughNodes",value:function(t,e,i,n,s){for(var o=this,a=this.createIterator(e,t,n),r=[],l=[],h=void 0,d=void 0;c=void 0,c=o.getIteratorNode(a),d=c.prevNode,h=c.node;)this.iframes&&this.forEachIframe(e,function(t){return o.checkIframeFilter(h,d,t,r)},function(e){o.createInstanceOnIframe(e).forEachNode(t,function(t){return l.push(t)},n)}),l.push(h);var c;l.forEach(function(t){i(t)}),this.iframes&&this.handleOpenIframes(r,t,i,n),s()}},{key:"forEachNode",value:function(t,e,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=this.getContexts(),a=o.length;a||s(),o.forEach(function(o){var r=function(){n.iterateThroughNodes(t,o,e,i,function(){--a<=0&&s()})};n.iframes?n.waitForIframes(o,r):r()})}}],[{key:"matches",value:function(t,e){var i="string"==typeof e?[e]:e,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;if(n){var s=!1;return i.every(function(e){return!n.call(t,e)||(s=!0,!1)}),s}return!1}}]),t}(),o=function(){function o(t){e(this,o),this.ctx=t,this.ie=!1;var i=window.navigator.userAgent;(i.indexOf("MSIE")>-1||i.indexOf("Trident")>-1)&&(this.ie=!0)}return i(o,[{key:"log",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",n=this.opt.log;this.opt.debug&&"object"===(void 0===n?"undefined":t(n))&&"function"==typeof n[i]&&n[i]("mark.js: "+e)}},{key:"escapeStr",value:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(t){return"disabled"!==this.opt.wildcards&&(t=this.setupWildcardsRegExp(t)),t=this.escapeStr(t),Object.keys(this.opt.synonyms).length&&(t=this.createSynonymsRegExp(t)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),this.opt.diacritics&&(t=this.createDiacriticsRegExp(t)),t=this.createMergedBlanksRegExp(t),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.createJoinersRegExp(t)),"disabled"!==this.opt.wildcards&&(t=this.createWildcardsRegExp(t)),t=this.createAccuracyRegExp(t)}},{key:"createSynonymsRegExp",value:function(t){var e=this.opt.synonyms,i=this.opt.caseSensitive?"":"i",n=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var s in e)if(e.hasOwnProperty(s)){var o=e[s],a="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(s):this.escapeStr(s),r="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(o):this.escapeStr(o);""!==a&&""!==r&&(t=t.replace(new RegExp("("+this.escapeStr(a)+"|"+this.escapeStr(r)+")","gm"+i),n+"("+this.processSynomyms(a)+"|"+this.processSynomyms(r)+")"+n))}return t}},{key:"processSynomyms",value:function(t){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(t=this.setupIgnoreJoinersRegExp(t)),t}},{key:"setupWildcardsRegExp",value:function(t){return(t=t.replace(/(?:\\)*\?/g,function(t){return"\\"===t.charAt(0)?"?":""})).replace(/(?:\\)*\*/g,function(t){return"\\"===t.charAt(0)?"*":""})}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(t){return t.replace(/[^(|)\\]/g,function(t,e,i){var n=i.charAt(e+1);return/[(|)\\]/.test(n)||""===n?t:t+"\0"})}},{key:"createJoinersRegExp",value:function(t){var e=[],i=this.opt.ignorePunctuation;return Array.isArray(i)&&i.length&&e.push(this.escapeStr(i.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?t.split(/\u0000+/).join("["+e.join("")+"]*"):t}},{key:"createDiacriticsRegExp",value:function(t){var e=this.opt.caseSensitive?"":"i",i=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],n=[];return t.split("").forEach(function(s){i.every(function(i){if(-1!==i.indexOf(s)){if(n.indexOf(i)>-1)return!1;t=t.replace(new RegExp("["+i+"]","gm"+e),"["+i+"]"),n.push(i)}return!0})}),t}},{key:"createMergedBlanksRegExp",value:function(t){return t.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(t){var e=this,i=this.opt.accuracy,n="string"==typeof i?i:i.value,s="string"==typeof i?[]:i.limiters,o="";switch(s.forEach(function(t){o+="|"+e.escapeStr(t)}),n){case"partially":default:return"()("+t+")";case"complementary":return"()([^"+(o="\\s"+(o||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")))+"]*"+t+"[^"+o+"]*)";case"exactly":return"(^|\\s"+o+")("+t+")(?=$|\\s"+o+")"}}},{key:"getSeparatedKeywords",value:function(t){var e=this,i=[];return t.forEach(function(t){e.opt.separateWordSearch?t.split(" ").forEach(function(t){t.trim()&&-1===i.indexOf(t)&&i.push(t)}):t.trim()&&-1===i.indexOf(t)&&i.push(t)}),{keywords:i.sort(function(t,e){return e.length-t.length}),length:i.length}}},{key:"isNumeric",value:function(t){return Number(parseFloat(t))==t}},{key:"checkRanges",value:function(t){var e=this;if(!Array.isArray(t)||"[object Object]"!==Object.prototype.toString.call(t[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(t),[];var i=[],n=0;return t.sort(function(t,e){return t.start-e.start}).forEach(function(t){var s=e.callNoMatchOnInvalidRanges(t,n),o=s.start,a=s.end,r=s.valid;r&&(t.start=o,t.length=a-o,i.push(t),n=a)}),i}},{key:"callNoMatchOnInvalidRanges",value:function(t,e){var i=void 0,n=void 0,s=!1;return t&&void 0!==t.start?(i=parseInt(t.start,10),n=i+parseInt(t.length,10),this.isNumeric(t.start)&&this.isNumeric(t.length)&&n-e>0&&n-i>0?s=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(t)),this.opt.noMatch(t))):(this.log("Ignoring invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:i,end:n,valid:s}}},{key:"checkWhitespaceRanges",value:function(t,e,i){var n=void 0,s=!0,o=i.length,a=e-o,r=parseInt(t.start,10)-a;return(n=(r=r>o?o:r)+parseInt(t.length,10))>o&&(n=o,this.log("End range automatically set to the max value of "+o)),r<0||n-r<0||r>o||n>o?(s=!1,this.log("Invalid range: "+JSON.stringify(t)),this.opt.noMatch(t)):""===i.substring(r,n).replace(/\s+/g,"")&&(s=!1,this.log("Skipping whitespace only range: "+JSON.stringify(t)),this.opt.noMatch(t)),{start:r,end:n,valid:s}}},{key:"getTextNodes",value:function(t){var e=this,i="",n=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(t){n.push({start:i.length,end:(i+=t.textContent).length,node:t})},function(t){return e.matchesExclude(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){t({value:i,nodes:n})})}},{key:"matchesExclude",value:function(t){return s.matches(t,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(t,e,i){var n=this.opt.element?this.opt.element:"mark",s=t.splitText(e),o=s.splitText(i-e),a=document.createElement(n);return a.setAttribute("data-markjs","true"),this.opt.className&&a.setAttribute("class",this.opt.className),a.textContent=s.textContent,s.parentNode.replaceChild(a,s),o}},{key:"wrapRangeInMappedTextNode",value:function(t,e,i,n,s){var o=this;t.nodes.every(function(a,r){var l=t.nodes[r+1];if(void 0===l||l.start>e){if(!n(a.node))return!1;var h=e-a.start,d=(i>a.end?a.end:i)-a.start,c=t.value.substr(0,a.start),u=t.value.substr(d+a.start);if(a.node=o.wrapRangeInTextNode(a.node,h,d),t.value=c+u,t.nodes.forEach(function(e,i){i>=r&&(t.nodes[i].start>0&&i!==r&&(t.nodes[i].start-=d),t.nodes[i].end-=d)}),i-=d,s(a.node.previousSibling,a.start),!(i>a.end))return!1;e=a.end}return!0})}},{key:"wrapMatches",value:function(t,e,i,n,s){var o=this,a=0===e?0:e+1;this.getTextNodes(function(e){e.nodes.forEach(function(e){e=e.node;for(var s=void 0;null!==(s=t.exec(e.textContent))&&""!==s[a];)if(i(s[a],e)){var r=s.index;if(0!==a)for(var l=1;l<a;l++)r+=s[l].length;e=o.wrapRangeInTextNode(e,r,r+s[a].length),n(e.previousSibling),t.lastIndex=0}}),s()})}},{key:"wrapMatchesAcrossElements",value:function(t,e,i,n,s){var o=this,a=0===e?0:e+1;this.getTextNodes(function(e){for(var r=void 0;null!==(r=t.exec(e.value))&&""!==r[a];){var l=r.index;if(0!==a)for(var h=1;h<a;h++)l+=r[h].length;var d=l+r[a].length;o.wrapRangeInMappedTextNode(e,l,d,function(t){return i(r[a],t)},function(e,i){t.lastIndex=i,n(e)})}s()})}},{key:"wrapRangeFromIndex",value:function(t,e,i,n){var s=this;this.getTextNodes(function(o){var a=o.value.length;t.forEach(function(t,n){var r=s.checkWhitespaceRanges(t,a,o.value),l=r.start,h=r.end,d=r.valid;d&&s.wrapRangeInMappedTextNode(o,l,h,function(i){return e(i,t,o.value.substring(l,h),n)},function(e){i(e,t)})}),n()})}},{key:"unwrapMatches",value:function(t){for(var e=t.parentNode,i=document.createDocumentFragment();t.firstChild;)i.appendChild(t.removeChild(t.firstChild));e.replaceChild(i,t),this.ie?this.normalizeTextNode(e):e.normalize()}},{key:"normalizeTextNode",value:function(t){if(t){if(3===t.nodeType)for(;t.nextSibling&&3===t.nextSibling.nodeType;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else this.normalizeTextNode(t.firstChild);this.normalizeTextNode(t.nextSibling)}}},{key:"markRegExp",value:function(t,e){var i=this;this.opt=e,this.log('Searching with expression "'+t+'"');var n=0,s="wrapMatches";this.opt.acrossElements&&(s="wrapMatchesAcrossElements"),this[s](t,this.opt.ignoreGroups,function(t,e){return i.opt.filter(e,t,n)},function(t){n++,i.opt.each(t)},function(){0===n&&i.opt.noMatch(t),i.opt.done(n)})}},{key:"mark",value:function(t,e){var i=this;this.opt=e;var n=0,s="wrapMatches",o=this.getSeparatedKeywords("string"==typeof t?[t]:t),a=o.keywords,r=o.length,l=this.opt.caseSensitive?"":"i";this.opt.acrossElements&&(s="wrapMatchesAcrossElements"),0===r?this.opt.done(n):function t(e){var o=new RegExp(i.createRegExp(e),"gm"+l),h=0;i.log('Searching with expression "'+o+'"'),i[s](o,1,function(t,s){return i.opt.filter(s,e,n,h)},function(t){h++,n++,i.opt.each(t)},function(){0===h&&i.opt.noMatch(e),a[r-1]===e?i.opt.done(n):t(a[a.indexOf(e)+1])})}(a[0])}},{key:"markRanges",value:function(t,e){var i=this;this.opt=e;var n=0,s=this.checkRanges(t);s&&s.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(s)),this.wrapRangeFromIndex(s,function(t,e,n,s){return i.opt.filter(t,e,n,s)},function(t,e){n++,i.opt.each(t,e)},function(){i.opt.done(n)})):this.opt.done(n)}},{key:"unmark",value:function(t){var e=this;this.opt=t;var i=this.opt.element?this.opt.element:"*";i+="[data-markjs]",this.opt.className&&(i+="."+this.opt.className),this.log('Removal selector "'+i+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(t){e.unwrapMatches(t)},function(t){var n=s.matches(t,i),o=e.matchesExclude(t);return!n||o?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(t){this._opt=n({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},t)},get:function(){return this._opt}},{key:"iterator",get:function(){return new s(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),o}();return function(t){var e=this,i=new o(t);return this.mark=function(t,n){return i.mark(t,n),e},this.markRegExp=function(t,n){return i.markRegExp(t,n),e},this.markRanges=function(t,n){return i.markRanges(t,n),e},this.unmark=function(t){return i.unmark(t),e},this}}()},function(t,e,i){"use strict";var n={};(0,i(0).assign)(n,i(11),i(14),i(9)),t.exports=n},function(t,e,i){"use strict";t.exports=function(t,e,i,n){for(var s=65535&t|0,o=t>>>16&65535|0,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{o=o+(s=s+e[n++]|0)|0}while(--a);s%=65521,o%=65521}return s|o<<16|0}},function(t,e,i){"use strict";var n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();t.exports=function(t,e,i,s){var o=n,a=s+i;t^=-1;for(var r=s;r<a;r++)t=t>>>8^o[255&(t^e[r])];return-1^t}},function(t,e,i){"use strict";var n=i(0),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new n.Buf8(256),r=0;r<256;r++)a[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;function l(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var i="",a=0;a<e;a++)i+=String.fromCharCode(t[a]);return i}a[254]=a[254]=1,e.string2buf=function(t){var e,i,s,o,a,r=t.length,l=0;for(o=0;o<r;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<r&&56320==(64512&(s=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(s-56320),o++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=new n.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(i=t.charCodeAt(o)))&&o+1<r&&56320==(64512&(s=t.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(s-56320),o++),i<128?e[a++]=i:i<2048?(e[a++]=192|i>>>6,e[a++]=128|63&i):i<65536?(e[a++]=224|i>>>12,e[a++]=128|i>>>6&63,e[a++]=128|63&i):(e[a++]=240|i>>>18,e[a++]=128|i>>>12&63,e[a++]=128|i>>>6&63,e[a++]=128|63&i);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),i=0,s=e.length;i<s;i++)e[i]=t.charCodeAt(i);return e},e.buf2string=function(t,e){var i,n,s,o,r=e||t.length,h=new Array(2*r);for(n=0,i=0;i<r;)if((s=t[i++])<128)h[n++]=s;else if((o=a[s])>4)h[n++]=65533,i+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&i<r;)s=s<<6|63&t[i++],o--;o>1?h[n++]=65533:s<65536?h[n++]=s:(s-=65536,h[n++]=55296|s>>10&1023,h[n++]=56320|1023&s)}return l(h,n)},e.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return i<0?e:0===i?e:i+a[t[i]]>e?i:e}},function(t,e,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n=i(12),s=i(0),o=i(7),a=i(2),r=i(8),l=Object.prototype.toString,h=0,d=-1,c=0,u=8;function p(t){if(!(this instanceof p))return new p(t);this.options=s.assign({level:d,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==h)throw new Error(a[i]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(i=n.deflateSetDictionary(this.strm,f))!==h)throw new Error(a[i]);this._dict_set=!0}}function f(t,e){var i=new p(e);if(i.push(t,!0),i.err)throw i.msg||a[i.err];return i.result}p.prototype.push=function(t,e){var i,a,r=this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(d),r.next_out=0,r.avail_out=d),1!==(i=n.deflate(r,a))&&i!==h)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(s.shrinkBuf(r.output,r.next_out))):this.onData(s.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h):2!==a||(this.onEnd(h),r.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=p,e.deflate=f,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},function(t,e,i){"use strict";var n,s=i(0),o=i(13),a=i(5),r=i(6),l=i(2),h=0,d=1,c=3,u=4,p=5,f=0,v=1,m=-2,g=-3,y=-5,_=-1,w=1,k=2,b=3,E=4,C=0,x=2,S=8,M=9,T=15,L=8,O=286,D=30,B=19,A=2*O+1,I=15,R=3,N=258,P=N+R+1,$=32,H=42,z=69,F=73,W=91,V=103,j=113,U=666,q=1,K=2,Y=3,X=4,J=3;function Q(t,e){return t.msg=l[e],e}function Z(t){return(t<<1)-(t>4?9:0)}function G(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(s.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function it(t,e){t.pending_buf[t.pending++]=e}function nt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function st(t,e){var i,n,s=t.max_chain_length,o=t.strstart,a=t.prev_length,r=t.nice_match,l=t.strstart>t.w_size-P?t.strstart-(t.w_size-P):0,h=t.window,d=t.w_mask,c=t.prev,u=t.strstart+N,p=h[o+a-1],f=h[o+a];t.prev_length>=t.good_match&&(s>>=2),r>t.lookahead&&(r=t.lookahead);do{if(h[(i=e)+a]===f&&h[i+a-1]===p&&h[i]===h[o]&&h[++i]===h[o+1]){o+=2,i++;do{}while(h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&h[++o]===h[++i]&&o<u);if(n=N-(u-o),o=u-N,n>a){if(t.match_start=e,a=n,n>=r)break;p=h[o+a-1],f=h[o+a]}}}while((e=c[e&d])>l&&0!=--s);return a<=t.lookahead?a:t.lookahead}function ot(t){var e,i,n,o,l,h,d,c,u,p,f=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-P)){s.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=i=t.hash_size;do{n=t.head[--e],t.head[e]=n>=f?n-f:0}while(--i);e=i=f;do{n=t.prev[--e],t.prev[e]=n>=f?n-f:0}while(--i);o+=f}if(0===t.strm.avail_in)break;if(h=t.strm,d=t.window,c=t.strstart+t.lookahead,u=o,p=void 0,(p=h.avail_in)>u&&(p=u),i=0===p?0:(h.avail_in-=p,s.arraySet(d,h.input,h.next_in,p,c),1===h.state.wrap?h.adler=a(h.adler,d,p,c):2===h.state.wrap&&(h.adler=r(h.adler,d,p,c)),h.next_in+=p,h.total_in+=p,p),t.lookahead+=i,t.lookahead+t.insert>=R)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+R-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<R)););}while(t.lookahead<P&&0!==t.strm.avail_in)}function at(t,e){for(var i,n;;){if(t.lookahead<P){if(ot(t),t.lookahead<P&&e===h)return q;if(0===t.lookahead)break}if(i=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-P&&(t.match_length=st(t,i)),t.match_length>=R)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-R),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=R){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=t.strstart<R-1?t.strstart:R-1,e===u?(et(t,!0),0===t.strm.avail_out?Y:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:K}function rt(t,e){for(var i,n,s;;){if(t.lookahead<P){if(ot(t),t.lookahead<P&&e===h)return q;if(0===t.lookahead)break}if(i=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=R-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-P&&(t.match_length=st(t,i),t.match_length<=5&&(t.strategy===w||t.match_length===R&&t.strstart-t.match_start>4096)&&(t.match_length=R-1)),t.prev_length>=R&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-R,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-R),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=s&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=R-1,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return q}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<R-1?t.strstart:R-1,e===u?(et(t,!0),0===t.strm.avail_out?Y:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:K}function lt(t,e,i,n,s){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=s}function ht(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*A),this.dyn_dtree=new s.Buf16(2*(2*D+1)),this.bl_tree=new s.Buf16(2*(2*B+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(I+1),this.heap=new s.Buf16(2*O+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*O+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=x,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?H:j,t.adler=2===e.wrap?0:1,e.last_flush=h,o._tr_init(e),f):Q(t,m)}function ct(t){var e,i=dt(t);return i===f&&((e=t.state).window_size=2*e.w_size,G(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0),i}function ut(t,e,i,n,o,a){if(!t)return m;var r=1;if(e===_&&(e=6),n<0?(r=0,n=-n):n>15&&(r=2,n-=16),o<1||o>M||i!==S||n<8||n>15||e<0||e>9||a<0||a>E)return Q(t,m);8===n&&(n=9);var l=new ht;return t.state=l,l.strm=t,l.wrap=r,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+R-1)/R),l.window=new s.Buf8(2*l.w_size),l.head=new s.Buf16(l.hash_size),l.prev=new s.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new s.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=i,ct(t)}n=[new lt(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ot(t),0===t.lookahead&&e===h)return q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,et(t,!1),0===t.strm.avail_out))return q;if(t.strstart-t.block_start>=t.w_size-P&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===u?(et(t,!0),0===t.strm.avail_out?Y:X):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),q)}),new lt(4,4,8,4,at),new lt(4,5,16,8,at),new lt(4,6,32,32,at),new lt(4,4,16,16,rt),new lt(8,16,32,32,rt),new lt(8,16,128,128,rt),new lt(8,32,128,256,rt),new lt(32,128,258,1024,rt),new lt(32,258,258,4096,rt)],e.deflateInit=function(t,e){return ut(t,e,S,T,L,C)},e.deflateInit2=ut,e.deflateReset=ct,e.deflateResetKeep=dt,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?m:(t.state.gzhead=e,f):m},e.deflate=function(t,e){var i,s,a,l;if(!t||!t.state||e>p||e<0)return t?Q(t,m):m;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===U&&e!==u)return Q(t,0===t.avail_out?y:m);if(s.strm=t,i=s.last_flush,s.last_flush=e,s.status===H)if(2===s.wrap)t.adler=0,it(s,31),it(s,139),it(s,8),s.gzhead?(it(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),it(s,255&s.gzhead.time),it(s,s.gzhead.time>>8&255),it(s,s.gzhead.time>>16&255),it(s,s.gzhead.time>>24&255),it(s,9===s.level?2:s.strategy>=k||s.level<2?4:0),it(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(it(s,255&s.gzhead.extra.length),it(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=r(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=z):(it(s,0),it(s,0),it(s,0),it(s,0),it(s,0),it(s,9===s.level?2:s.strategy>=k||s.level<2?4:0),it(s,J),s.status=j);else{var g=S+(s.w_bits-8<<4)<<8;g|=(s.strategy>=k||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(g|=$),g+=31-g%31,s.status=j,nt(s,g),0!==s.strstart&&(nt(s,t.adler>>>16),nt(s,65535&t.adler)),t.adler=1}if(s.status===z)if(s.gzhead.extra){for(a=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>a&&(t.adler=r(t.adler,s.pending_buf,s.pending-a,a)),tt(t),a=s.pending,s.pending!==s.pending_buf_size));)it(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>a&&(t.adler=r(t.adler,s.pending_buf,s.pending-a,a)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=F)}else s.status=F;if(s.status===F)if(s.gzhead.name){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(t.adler=r(t.adler,s.pending_buf,s.pending-a,a)),tt(t),a=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,it(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>a&&(t.adler=r(t.adler,s.pending_buf,s.pending-a,a)),0===l&&(s.gzindex=0,s.status=W)}else s.status=W;if(s.status===W)if(s.gzhead.comment){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(t.adler=r(t.adler,s.pending_buf,s.pending-a,a)),tt(t),a=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,it(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>a&&(t.adler=r(t.adler,s.pending_buf,s.pending-a,a)),0===l&&(s.status=V)}else s.status=V;if(s.status===V&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&tt(t),s.pending+2<=s.pending_buf_size&&(it(s,255&t.adler),it(s,t.adler>>8&255),t.adler=0,s.status=j)):s.status=j),0!==s.pending){if(tt(t),0===t.avail_out)return s.last_flush=-1,f}else if(0===t.avail_in&&Z(e)<=Z(i)&&e!==u)return Q(t,y);if(s.status===U&&0!==t.avail_in)return Q(t,y);if(0!==t.avail_in||0!==s.lookahead||e!==h&&s.status!==U){var _=s.strategy===k?function(t,e){for(var i;;){if(0===t.lookahead&&(ot(t),0===t.lookahead)){if(e===h)return q;break}if(t.match_length=0,i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===u?(et(t,!0),0===t.strm.avail_out?Y:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:K}(s,e):s.strategy===b?function(t,e){for(var i,n,s,a,r=t.window;;){if(t.lookahead<=N){if(ot(t),t.lookahead<=N&&e===h)return q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=R&&t.strstart>0&&(n=r[s=t.strstart-1])===r[++s]&&n===r[++s]&&n===r[++s]){a=t.strstart+N;do{}while(n===r[++s]&&n===r[++s]&&n===r[++s]&&n===r[++s]&&n===r[++s]&&n===r[++s]&&n===r[++s]&&n===r[++s]&&s<a);t.match_length=N-(a-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=R?(i=o._tr_tally(t,1,t.match_length-R),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===u?(et(t,!0),0===t.strm.avail_out?Y:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:K}(s,e):n[s.level].func(s,e);if(_!==Y&&_!==X||(s.status=U),_===q||_===Y)return 0===t.avail_out&&(s.last_flush=-1),f;if(_===K&&(e===d?o._tr_align(s):e!==p&&(o._tr_stored_block(s,0,0,!1),e===c&&(G(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),tt(t),0===t.avail_out))return s.last_flush=-1,f}return e!==u?f:s.wrap<=0?v:(2===s.wrap?(it(s,255&t.adler),it(s,t.adler>>8&255),it(s,t.adler>>16&255),it(s,t.adler>>24&255),it(s,255&t.total_in),it(s,t.total_in>>8&255),it(s,t.total_in>>16&255),it(s,t.total_in>>24&255)):(nt(s,t.adler>>>16),nt(s,65535&t.adler)),tt(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?f:v)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==H&&e!==z&&e!==F&&e!==W&&e!==V&&e!==j&&e!==U?Q(t,m):(t.state=null,e===j?Q(t,g):f):m},e.deflateSetDictionary=function(t,e){var i,n,o,r,l,h,d,c,u=e.length;if(!t||!t.state)return m;if(2===(r=(i=t.state).wrap)||1===r&&i.status!==H||i.lookahead)return m;for(1===r&&(t.adler=a(t.adler,e,u,0)),i.wrap=0,u>=i.w_size&&(0===r&&(G(i.head),i.strstart=0,i.block_start=0,i.insert=0),c=new s.Buf8(i.w_size),s.arraySet(c,e,u-i.w_size,i.w_size,0),e=c,u=i.w_size),l=t.avail_in,h=t.next_in,d=t.input,t.avail_in=u,t.next_in=0,t.input=e,ot(i);i.lookahead>=R;){n=i.strstart,o=i.lookahead-(R-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+R-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--o);i.strstart=n,i.lookahead=R-1,ot(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=R-1,i.match_available=0,t.next_in=h,t.input=d,t.avail_in=l,i.wrap=r,f},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,i){"use strict";var n=i(0),s=4,o=0,a=1,r=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var h=0,d=1,c=2,u=29,p=256,f=p+1+u,v=30,m=19,g=2*f+1,y=15,_=16,w=7,k=256,b=16,E=17,C=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(f+2));l(L);var O=new Array(2*v);l(O);var D=new Array(512);l(D);var B=new Array(256);l(B);var A=new Array(u);l(A);var I,R,N,P=new Array(v);function $(t,e,i,n,s){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=s,this.has_stree=t&&t.length}function H(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function z(t){return t<256?D[t]:D[256+(t>>>7)]}function F(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function W(t,e,i){t.bi_valid>_-i?(t.bi_buf|=e<<t.bi_valid&65535,F(t,t.bi_buf),t.bi_buf=e>>_-t.bi_valid,t.bi_valid+=i-_):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function V(t,e,i){W(t,i[2*e],i[2*e+1])}function j(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function U(t,e,i){var n,s,o=new Array(y+1),a=0;for(n=1;n<=y;n++)o[n]=a=a+i[n-1]<<1;for(s=0;s<=e;s++){var r=t[2*s+1];0!==r&&(t[2*s]=j(o[r]++,r))}}function q(t){var e;for(e=0;e<f;e++)t.dyn_ltree[2*e]=0;for(e=0;e<v;e++)t.dyn_dtree[2*e]=0;for(e=0;e<m;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*k]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function K(t){t.bi_valid>8?F(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Y(t,e,i,n){var s=2*e,o=2*i;return t[s]<t[o]||t[s]===t[o]&&n[e]<=n[i]}function X(t,e,i){for(var n=t.heap[i],s=i<<1;s<=t.heap_len&&(s<t.heap_len&&Y(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!Y(e,n,t.heap[s],t.depth));)t.heap[i]=t.heap[s],i=s,s<<=1;t.heap[i]=n}function J(t,e,i){var n,s,o,a,r=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*r]<<8|t.pending_buf[t.d_buf+2*r+1],s=t.pending_buf[t.l_buf+r],r++,0===n?V(t,s,e):(V(t,(o=B[s])+p+1,e),0!==(a=x[o])&&W(t,s-=A[o],a),V(t,o=z(--n),i),0!==(a=S[o])&&W(t,n-=P[o],a))}while(r<t.last_lit);V(t,k,e)}function Q(t,e){var i,n,s,o=e.dyn_tree,a=e.stat_desc.static_tree,r=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=g,i=0;i<l;i++)0!==o[2*i]?(t.heap[++t.heap_len]=h=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)o[2*(s=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[s]=0,t.opt_len--,r&&(t.static_len-=a[2*s+1]);for(e.max_code=h,i=t.heap_len>>1;i>=1;i--)X(t,o,i);s=l;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],X(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,o[2*s]=o[2*i]+o[2*n],t.depth[s]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,o[2*i+1]=o[2*n+1]=s,t.heap[1]=s++,X(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,s,o,a,r,l=e.dyn_tree,h=e.max_code,d=e.stat_desc.static_tree,c=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,v=0;for(o=0;o<=y;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<g;i++)(o=l[2*l[2*(n=t.heap[i])+1]+1]+1)>f&&(o=f,v++),l[2*n+1]=o,n>h||(t.bl_count[o]++,a=0,n>=p&&(a=u[n-p]),r=l[2*n],t.opt_len+=r*(o+a),c&&(t.static_len+=r*(d[2*n+1]+a)));if(0!==v){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,v-=2}while(v>0);for(o=f;0!==o;o--)for(n=t.bl_count[o];0!==n;)(s=t.heap[--i])>h||(l[2*s+1]!==o&&(t.opt_len+=(o-l[2*s+1])*l[2*s],l[2*s+1]=o),n--)}}(t,e),U(o,h,t.bl_count)}function Z(t,e,i){var n,s,o=-1,a=e[1],r=0,l=7,h=4;for(0===a&&(l=138,h=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)s=a,a=e[2*(n+1)+1],++r<l&&s===a||(r<h?t.bl_tree[2*s]+=r:0!==s?(s!==o&&t.bl_tree[2*s]++,t.bl_tree[2*b]++):r<=10?t.bl_tree[2*E]++:t.bl_tree[2*C]++,r=0,o=s,0===a?(l=138,h=3):s===a?(l=6,h=3):(l=7,h=4))}function G(t,e,i){var n,s,o=-1,a=e[1],r=0,l=7,h=4;for(0===a&&(l=138,h=3),n=0;n<=i;n++)if(s=a,a=e[2*(n+1)+1],!(++r<l&&s===a)){if(r<h)do{V(t,s,t.bl_tree)}while(0!=--r);else 0!==s?(s!==o&&(V(t,s,t.bl_tree),r--),V(t,b,t.bl_tree),W(t,r-3,2)):r<=10?(V(t,E,t.bl_tree),W(t,r-3,3)):(V(t,C,t.bl_tree),W(t,r-11,7));r=0,o=s,0===a?(l=138,h=3):s===a?(l=6,h=3):(l=7,h=4)}}l(P);var tt=!1;function et(t,e,i,s){W(t,(h<<1)+(s?1:0),3),function(t,e,i,s){K(t),s&&(F(t,i),F(t,~i)),n.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i,!0)}e._tr_init=function(t){tt||(function(){var t,e,i,n,s,o=new Array(y+1);for(i=0,n=0;n<u-1;n++)for(A[n]=i,t=0;t<1<<x[n];t++)B[i++]=n;for(B[i-1]=n,s=0,n=0;n<16;n++)for(P[n]=s,t=0;t<1<<S[n];t++)D[s++]=n;for(s>>=7;n<v;n++)for(P[n]=s<<7,t=0;t<1<<S[n]-7;t++)D[256+s++]=n;for(e=0;e<=y;e++)o[e]=0;for(t=0;t<=143;)L[2*t+1]=8,t++,o[8]++;for(;t<=255;)L[2*t+1]=9,t++,o[9]++;for(;t<=279;)L[2*t+1]=7,t++,o[7]++;for(;t<=287;)L[2*t+1]=8,t++,o[8]++;for(U(L,f+1,o),t=0;t<v;t++)O[2*t+1]=5,O[2*t]=j(t,5);I=new $(L,x,p+1,f,y),R=new $(O,S,0,v,y),N=new $(new Array(0),M,0,m,w)}(),tt=!0),t.l_desc=new H(t.dyn_ltree,I),t.d_desc=new H(t.dyn_dtree,R),t.bl_desc=new H(t.bl_tree,N),t.bi_buf=0,t.bi_valid=0,q(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,i,n){var l,h,u=0;t.level>0?(t.strm.data_type===r&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<p;e++)if(0!==t.dyn_ltree[2*e])return a;return o}(t)),Q(t,t.l_desc),Q(t,t.d_desc),u=function(t){var e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),Q(t,t.bl_desc),e=m-1;e>=3&&0===t.bl_tree[2*T[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),l=t.opt_len+3+7>>>3,(h=t.static_len+3+7>>>3)<=l&&(l=h)):l=h=i+5,i+4<=l&&-1!==e?et(t,e,i,n):t.strategy===s||h===l?(W(t,(d<<1)+(n?1:0),3),J(t,L,O)):(W(t,(c<<1)+(n?1:0),3),function(t,e,i,n){var s;for(W(t,e-257,5),W(t,i-1,5),W(t,n-4,4),s=0;s<n;s++)W(t,t.bl_tree[2*T[s]+1],3);G(t,t.dyn_ltree,e-1),G(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,u+1),J(t,t.dyn_ltree,t.dyn_dtree)),q(t),n&&K(t)},e._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(B[i]+p+1)]++,t.dyn_dtree[2*z(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){W(t,d<<1,3),V(t,k,L),function(t){16===t.bi_valid?(F(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,i){"use strict";var n=i(15),s=i(0),o=i(7),a=i(9),r=i(2),l=i(8),h=i(18),d=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,e.windowBits);if(i!==a.Z_OK)throw new Error(r[i]);this.header=new h,n.inflateGetHeader(this.strm,this.header)}function u(t,e){var i=new c(e);if(i.push(t,!0),i.err)throw i.msg||r[i.err];return i.result}c.prototype.push=function(t,e){var i,r,l,h,c,u,p=this.strm,f=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?p.input=o.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new s.Buf8(f),p.next_out=0,p.avail_out=f),(i=n.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&v&&(u="string"==typeof v?o.string2buf(v):"[object ArrayBuffer]"===d.call(v)?new Uint8Array(v):v,i=n.inflateSetDictionary(this.strm,u)),i===a.Z_BUF_ERROR&&!0===m&&(i=a.Z_OK,m=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&i!==a.Z_STREAM_END&&(0!==p.avail_in||r!==a.Z_FINISH&&r!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(p.output,p.next_out),h=p.next_out-l,c=o.buf2string(p.output,l),p.next_out=h,p.avail_out=f-h,h&&s.arraySet(p.output,p.output,l,h,0),this.onData(c)):this.onData(s.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((p.avail_in>0||0===p.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(r=a.Z_FINISH),r===a.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):r!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=c,e.inflate=u,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},e.ungzip=u},function(t,e,i){"use strict";var n=i(0),s=i(5),o=i(6),a=i(16),r=i(17),l=0,h=1,d=2,c=4,u=5,p=6,f=0,v=1,m=2,g=-2,y=-3,_=-4,w=-5,k=8,b=1,E=2,C=3,x=4,S=5,M=6,T=7,L=8,O=9,D=10,B=11,A=12,I=13,R=14,N=15,P=16,$=17,H=18,z=19,F=20,W=21,V=22,j=23,U=24,q=25,K=26,Y=27,X=28,J=29,Q=30,Z=31,G=32,tt=852,et=592,it=15;function nt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function st(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ot(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=b,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(tt),e.distcode=e.distdyn=new n.Buf32(et),e.sane=1,e.back=-1,f):g}function at(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,ot(t)):g}function rt(t,e){var i,n;return t&&t.state?(n=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?g:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,at(t))):g}function lt(t,e){var i,n;return t?(n=new st,t.state=n,n.window=null,(i=rt(t,e))!==f&&(t.state=null),i):g}var ht,dt,ct=!0;function ut(t){if(ct){var e;for(ht=new n.Buf32(512),dt=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(r(h,t.lens,0,288,ht,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;r(d,t.lens,0,32,dt,0,t.work,{bits:5}),ct=!1}t.lencode=ht,t.lenbits=9,t.distcode=dt,t.distbits=5}function pt(t,e,i,s){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),s>=a.wsize?(n.arraySet(a.window,e,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>s&&(o=s),n.arraySet(a.window,e,i-s,o,a.wnext),(s-=o)?(n.arraySet(a.window,e,i-s,s,0),a.wnext=s,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=at,e.inflateReset2=rt,e.inflateResetKeep=ot,e.inflateInit=function(t){return lt(t,it)},e.inflateInit2=lt,e.inflate=function(t,e){var i,tt,et,it,st,ot,at,rt,lt,ht,dt,ct,ft,vt,mt,gt,yt,_t,wt,kt,bt,Et,Ct,xt,St=0,Mt=new n.Buf8(4),Tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return g;(i=t.state).mode===A&&(i.mode=I),st=t.next_out,et=t.output,at=t.avail_out,it=t.next_in,tt=t.input,ot=t.avail_in,rt=i.hold,lt=i.bits,ht=ot,dt=at,Et=f;t:for(;;)switch(i.mode){case b:if(0===i.wrap){i.mode=I;break}for(;lt<16;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if(2&i.wrap&&35615===rt){i.check=0,Mt[0]=255&rt,Mt[1]=rt>>>8&255,i.check=o(i.check,Mt,2,0),rt=0,lt=0,i.mode=E;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&rt)<<8)+(rt>>8))%31){t.msg="incorrect header check",i.mode=Q;break}if((15&rt)!==k){t.msg="unknown compression method",i.mode=Q;break}if(lt-=4,bt=8+(15&(rt>>>=4)),0===i.wbits)i.wbits=bt;else if(bt>i.wbits){t.msg="invalid window size",i.mode=Q;break}i.dmax=1<<bt,t.adler=i.check=1,i.mode=512&rt?D:A,rt=0,lt=0;break;case E:for(;lt<16;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if(i.flags=rt,(255&i.flags)!==k){t.msg="unknown compression method",i.mode=Q;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=Q;break}i.head&&(i.head.text=rt>>8&1),512&i.flags&&(Mt[0]=255&rt,Mt[1]=rt>>>8&255,i.check=o(i.check,Mt,2,0)),rt=0,lt=0,i.mode=C;case C:for(;lt<32;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}i.head&&(i.head.time=rt),512&i.flags&&(Mt[0]=255&rt,Mt[1]=rt>>>8&255,Mt[2]=rt>>>16&255,Mt[3]=rt>>>24&255,i.check=o(i.check,Mt,4,0)),rt=0,lt=0,i.mode=x;case x:for(;lt<16;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}i.head&&(i.head.xflags=255&rt,i.head.os=rt>>8),512&i.flags&&(Mt[0]=255&rt,Mt[1]=rt>>>8&255,i.check=o(i.check,Mt,2,0)),rt=0,lt=0,i.mode=S;case S:if(1024&i.flags){for(;lt<16;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}i.length=rt,i.head&&(i.head.extra_len=rt),512&i.flags&&(Mt[0]=255&rt,Mt[1]=rt>>>8&255,i.check=o(i.check,Mt,2,0)),rt=0,lt=0}else i.head&&(i.head.extra=null);i.mode=M;case M:if(1024&i.flags&&((ct=i.length)>ot&&(ct=ot),ct&&(i.head&&(bt=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,tt,it,ct,bt)),512&i.flags&&(i.check=o(i.check,tt,ct,it)),ot-=ct,it+=ct,i.length-=ct),i.length))break t;i.length=0,i.mode=T;case T:if(2048&i.flags){if(0===ot)break t;ct=0;do{bt=tt[it+ct++],i.head&&bt&&i.length<65536&&(i.head.name+=String.fromCharCode(bt))}while(bt&&ct<ot);if(512&i.flags&&(i.check=o(i.check,tt,ct,it)),ot-=ct,it+=ct,bt)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=L;case L:if(4096&i.flags){if(0===ot)break t;ct=0;do{bt=tt[it+ct++],i.head&&bt&&i.length<65536&&(i.head.comment+=String.fromCharCode(bt))}while(bt&&ct<ot);if(512&i.flags&&(i.check=o(i.check,tt,ct,it)),ot-=ct,it+=ct,bt)break t}else i.head&&(i.head.comment=null);i.mode=O;case O:if(512&i.flags){for(;lt<16;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if(rt!==(65535&i.check)){t.msg="header crc mismatch",i.mode=Q;break}rt=0,lt=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=A;break;case D:for(;lt<32;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}t.adler=i.check=nt(rt),rt=0,lt=0,i.mode=B;case B:if(0===i.havedict)return t.next_out=st,t.avail_out=at,t.next_in=it,t.avail_in=ot,i.hold=rt,i.bits=lt,m;t.adler=i.check=1,i.mode=A;case A:if(e===u||e===p)break t;case I:if(i.last){rt>>>=7&lt,lt-=7&lt,i.mode=Y;break}for(;lt<3;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}switch(i.last=1&rt,lt-=1,3&(rt>>>=1)){case 0:i.mode=R;break;case 1:if(ut(i),i.mode=F,e===p){rt>>>=2,lt-=2;break t}break;case 2:i.mode=$;break;case 3:t.msg="invalid block type",i.mode=Q}rt>>>=2,lt-=2;break;case R:for(rt>>>=7&lt,lt-=7&lt;lt<32;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if((65535&rt)!=(rt>>>16^65535)){t.msg="invalid stored block lengths",i.mode=Q;break}if(i.length=65535&rt,rt=0,lt=0,i.mode=N,e===p)break t;case N:i.mode=P;case P:if(ct=i.length){if(ct>ot&&(ct=ot),ct>at&&(ct=at),0===ct)break t;n.arraySet(et,tt,it,ct,st),ot-=ct,it+=ct,at-=ct,st+=ct,i.length-=ct;break}i.mode=A;break;case $:for(;lt<14;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if(i.nlen=257+(31&rt),rt>>>=5,lt-=5,i.ndist=1+(31&rt),rt>>>=5,lt-=5,i.ncode=4+(15&rt),rt>>>=4,lt-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=Q;break}i.have=0,i.mode=H;case H:for(;i.have<i.ncode;){for(;lt<3;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}i.lens[Tt[i.have++]]=7&rt,rt>>>=3,lt-=3}for(;i.have<19;)i.lens[Tt[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Ct={bits:i.lenbits},Et=r(l,i.lens,0,19,i.lencode,0,i.work,Ct),i.lenbits=Ct.bits,Et){t.msg="invalid code lengths set",i.mode=Q;break}i.have=0,i.mode=z;case z:for(;i.have<i.nlen+i.ndist;){for(;gt=(St=i.lencode[rt&(1<<i.lenbits)-1])>>>16&255,yt=65535&St,!((mt=St>>>24)<=lt);){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if(yt<16)rt>>>=mt,lt-=mt,i.lens[i.have++]=yt;else{if(16===yt){for(xt=mt+2;lt<xt;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if(rt>>>=mt,lt-=mt,0===i.have){t.msg="invalid bit length repeat",i.mode=Q;break}bt=i.lens[i.have-1],ct=3+(3&rt),rt>>>=2,lt-=2}else if(17===yt){for(xt=mt+3;lt<xt;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}lt-=mt,bt=0,ct=3+(7&(rt>>>=mt)),rt>>>=3,lt-=3}else{for(xt=mt+7;lt<xt;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}lt-=mt,bt=0,ct=11+(127&(rt>>>=mt)),rt>>>=7,lt-=7}if(i.have+ct>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=Q;break}for(;ct--;)i.lens[i.have++]=bt}}if(i.mode===Q)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=Q;break}if(i.lenbits=9,Ct={bits:i.lenbits},Et=r(h,i.lens,0,i.nlen,i.lencode,0,i.work,Ct),i.lenbits=Ct.bits,Et){t.msg="invalid literal/lengths set",i.mode=Q;break}if(i.distbits=6,i.distcode=i.distdyn,Ct={bits:i.distbits},Et=r(d,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Ct),i.distbits=Ct.bits,Et){t.msg="invalid distances set",i.mode=Q;break}if(i.mode=F,e===p)break t;case F:i.mode=W;case W:if(ot>=6&&at>=258){t.next_out=st,t.avail_out=at,t.next_in=it,t.avail_in=ot,i.hold=rt,i.bits=lt,a(t,dt),st=t.next_out,et=t.output,at=t.avail_out,it=t.next_in,tt=t.input,ot=t.avail_in,rt=i.hold,lt=i.bits,i.mode===A&&(i.back=-1);break}for(i.back=0;gt=(St=i.lencode[rt&(1<<i.lenbits)-1])>>>16&255,yt=65535&St,!((mt=St>>>24)<=lt);){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if(gt&&0==(240&gt)){for(_t=mt,wt=gt,kt=yt;gt=(St=i.lencode[kt+((rt&(1<<_t+wt)-1)>>_t)])>>>16&255,yt=65535&St,!(_t+(mt=St>>>24)<=lt);){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}rt>>>=_t,lt-=_t,i.back+=_t}if(rt>>>=mt,lt-=mt,i.back+=mt,i.length=yt,0===gt){i.mode=K;break}if(32&gt){i.back=-1,i.mode=A;break}if(64&gt){t.msg="invalid literal/length code",i.mode=Q;break}i.extra=15&gt,i.mode=V;case V:if(i.extra){for(xt=i.extra;lt<xt;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}i.length+=rt&(1<<i.extra)-1,rt>>>=i.extra,lt-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=j;case j:for(;gt=(St=i.distcode[rt&(1<<i.distbits)-1])>>>16&255,yt=65535&St,!((mt=St>>>24)<=lt);){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if(0==(240&gt)){for(_t=mt,wt=gt,kt=yt;gt=(St=i.distcode[kt+((rt&(1<<_t+wt)-1)>>_t)])>>>16&255,yt=65535&St,!(_t+(mt=St>>>24)<=lt);){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}rt>>>=_t,lt-=_t,i.back+=_t}if(rt>>>=mt,lt-=mt,i.back+=mt,64&gt){t.msg="invalid distance code",i.mode=Q;break}i.offset=yt,i.extra=15&gt,i.mode=U;case U:if(i.extra){for(xt=i.extra;lt<xt;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}i.offset+=rt&(1<<i.extra)-1,rt>>>=i.extra,lt-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=Q;break}i.mode=q;case q:if(0===at)break t;if(ct=dt-at,i.offset>ct){if((ct=i.offset-ct)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=Q;break}ct>i.wnext?(ct-=i.wnext,ft=i.wsize-ct):ft=i.wnext-ct,ct>i.length&&(ct=i.length),vt=i.window}else vt=et,ft=st-i.offset,ct=i.length;ct>at&&(ct=at),at-=ct,i.length-=ct;do{et[st++]=vt[ft++]}while(--ct);0===i.length&&(i.mode=W);break;case K:if(0===at)break t;et[st++]=i.length,at--,i.mode=W;break;case Y:if(i.wrap){for(;lt<32;){if(0===ot)break t;ot--,rt|=tt[it++]<<lt,lt+=8}if(dt-=at,t.total_out+=dt,i.total+=dt,dt&&(t.adler=i.check=i.flags?o(i.check,et,dt,st-dt):s(i.check,et,dt,st-dt)),dt=at,(i.flags?rt:nt(rt))!==i.check){t.msg="incorrect data check",i.mode=Q;break}rt=0,lt=0}i.mode=X;case X:if(i.wrap&&i.flags){for(;lt<32;){if(0===ot)break t;ot--,rt+=tt[it++]<<lt,lt+=8}if(rt!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=Q;break}rt=0,lt=0}i.mode=J;case J:Et=v;break t;case Q:Et=y;break t;case Z:return _;case G:default:return g}return t.next_out=st,t.avail_out=at,t.next_in=it,t.avail_in=ot,i.hold=rt,i.bits=lt,(i.wsize||dt!==t.avail_out&&i.mode<Q&&(i.mode<Y||e!==c))&&pt(t,t.output,t.next_out,dt-t.avail_out)?(i.mode=Z,_):(ht-=t.avail_in,dt-=t.avail_out,t.total_in+=ht,t.total_out+=dt,i.total+=dt,i.wrap&&dt&&(t.adler=i.check=i.flags?o(i.check,et,dt,t.next_out-dt):s(i.check,et,dt,t.next_out-dt)),t.data_type=i.bits+(i.last?64:0)+(i.mode===A?128:0)+(i.mode===F||i.mode===N?256:0),(0===ht&&0===dt||e===c)&&Et===f&&(Et=w),Et)},e.inflateEnd=function(t){if(!t||!t.state)return g;var e=t.state;return e.window&&(e.window=null),t.state=null,f},e.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?g:(i.head=e,e.done=!1,f):g},e.inflateSetDictionary=function(t,e){var i,n=e.length;return t&&t.state?0!==(i=t.state).wrap&&i.mode!==B?g:i.mode===B&&s(1,e,n,0)!==i.check?y:pt(t,e,n,n)?(i.mode=Z,_):(i.havedict=1,f):g},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,i){"use strict";t.exports=function(t,e){var i,n,s,o,a,r,l,h,d,c,u,p,f,v,m,g,y,_,w,k,b,E,C,x,S;i=t.state,n=t.next_in,x=t.input,s=n+(t.avail_in-5),o=t.next_out,S=t.output,a=o-(e-t.avail_out),r=o+(t.avail_out-257),l=i.dmax,h=i.wsize,d=i.whave,c=i.wnext,u=i.window,p=i.hold,f=i.bits,v=i.lencode,m=i.distcode,g=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{f<15&&(p+=x[n++]<<f,f+=8,p+=x[n++]<<f,f+=8),_=v[p&g];e:for(;;){if(p>>>=w=_>>>24,f-=w,0===(w=_>>>16&255))S[o++]=65535&_;else{if(!(16&w)){if(0==(64&w)){_=v[(65535&_)+(p&(1<<w)-1)];continue e}if(32&w){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}k=65535&_,(w&=15)&&(f<w&&(p+=x[n++]<<f,f+=8),k+=p&(1<<w)-1,p>>>=w,f-=w),f<15&&(p+=x[n++]<<f,f+=8,p+=x[n++]<<f,f+=8),_=m[p&y];i:for(;;){if(p>>>=w=_>>>24,f-=w,!(16&(w=_>>>16&255))){if(0==(64&w)){_=m[(65535&_)+(p&(1<<w)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(b=65535&_,f<(w&=15)&&(p+=x[n++]<<f,(f+=8)<w&&(p+=x[n++]<<f,f+=8)),(b+=p&(1<<w)-1)>l){t.msg="invalid distance too far back",i.mode=30;break t}if(p>>>=w,f-=w,b>(w=o-a)){if((w=b-w)>d&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(E=0,C=u,0===c){if(E+=h-w,w<k){k-=w;do{S[o++]=u[E++]}while(--w);E=o-b,C=S}}else if(c<w){if(E+=h+c-w,(w-=c)<k){k-=w;do{S[o++]=u[E++]}while(--w);if(E=0,c<k){k-=w=c;do{S[o++]=u[E++]}while(--w);E=o-b,C=S}}}else if(E+=c-w,w<k){k-=w;do{S[o++]=u[E++]}while(--w);E=o-b,C=S}for(;k>2;)S[o++]=C[E++],S[o++]=C[E++],S[o++]=C[E++],k-=3;k&&(S[o++]=C[E++],k>1&&(S[o++]=C[E++]))}else{E=o-b;do{S[o++]=S[E++],S[o++]=S[E++],S[o++]=S[E++],k-=3}while(k>2);k&&(S[o++]=S[E++],k>1&&(S[o++]=S[E++]))}break}}break}}while(n<s&&o<r);n-=k=f>>3,p&=(1<<(f-=k<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<s?s-n+5:5-(n-s),t.avail_out=o<r?r-o+257:257-(o-r),i.hold=p,i.bits=f}},function(t,e,i){"use strict";var n=i(0),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],r=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,i,l,h,d,c,u){var p,f,v,m,g,y,_,w,k,b=u.bits,E=0,C=0,x=0,S=0,M=0,T=0,L=0,O=0,D=0,B=0,A=null,I=0,R=new n.Buf16(16),N=new n.Buf16(16),P=null,$=0;for(E=0;E<=15;E++)R[E]=0;for(C=0;C<l;C++)R[e[i+C]]++;for(M=b,S=15;S>=1&&0===R[S];S--);if(M>S&&(M=S),0===S)return h[d++]=20971520,h[d++]=20971520,u.bits=1,0;for(x=1;x<S&&0===R[x];x++);for(M<x&&(M=x),O=1,E=1;E<=15;E++)if(O<<=1,(O-=R[E])<0)return-1;if(O>0&&(0===t||1!==S))return-1;for(N[1]=0,E=1;E<15;E++)N[E+1]=N[E]+R[E];for(C=0;C<l;C++)0!==e[i+C]&&(c[N[e[i+C]]++]=C);if(0===t?(A=P=c,y=19):1===t?(A=s,I-=257,P=o,$-=257,y=256):(A=a,P=r,y=-1),B=0,C=0,E=x,g=d,T=M,L=0,v=-1,m=(D=1<<M)-1,1===t&&D>852||2===t&&D>592)return 1;for(;;){_=E-L,c[C]<y?(w=0,k=c[C]):c[C]>y?(w=P[$+c[C]],k=A[I+c[C]]):(w=96,k=0),p=1<<E-L,x=f=1<<T;do{h[g+(B>>L)+(f-=p)]=_<<24|w<<16|k|0}while(0!==f);for(p=1<<E-1;B&p;)p>>=1;if(0!==p?(B&=p-1,B+=p):B=0,C++,0==--R[E]){if(E===S)break;E=e[i+c[C]]}if(E>M&&(B&m)!==v){for(0===L&&(L=M),g+=x,O=1<<(T=E-L);T+L<S&&!((O-=R[T+L])<=0);)T++,O<<=1;if(D+=1<<T,1===t&&D>852||2===t&&D>592)return 1;h[v=B&m]=M<<24|T<<16|g-d|0}}return 0!==B&&(h[g+B]=E-L<<24|64<<16|0),u.bits=M,0}},function(t,e,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,i){"use strict";i.r(e);class n{constructor(){this.store={}}get(t){const e=this.store[t]||null;return new Promise(t=>t(e))}set(t,e){return this.store[t]=e,new Promise(t=>t())}}var s,o=function(t,e,i,n){return new(i||(i=Promise))(function(s,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function r(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,r)}l((n=n.apply(t,e||[])).next())})};class a{constructor(t){this.prefix=t.prefix;try{const e=t.prefix+"-"+String(Math.random());window.localStorage.setItem(e,"test"),window.localStorage.removeItem(e),this.fallbackStore=null}catch(t){this.fallbackStore=new n}}getLocalStorageKey(t){return this.prefix+"-"+t}get(t){return o(this,void 0,void 0,function*(){let e=null;return e=this.fallbackStore?yield this.fallbackStore.get(t):window.localStorage.getItem(this.getLocalStorageKey(t)),new Promise(t=>t(e))})}set(t,e){return o(this,void 0,void 0,function*(){return this.fallbackStore?yield this.fallbackStore.set(t,e):window.localStorage.setItem(this.getLocalStorageKey(t),e),new Promise(t=>t())})}}!function(t){t[t.Uncached=0]="Uncached",t[t.UpdateAvailable=1]="UpdateAvailable",t[t.CheckingForUpdate=2]="CheckingForUpdate",t[t.Downloading=3]="Downloading",t[t.Downloaded=4]="Downloaded",t[t.Error=5]="Error"}(s||(s={}));var r=function(t,e,i,n){return new(i||(i=Promise))(function(s,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function r(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,r)}l((n=n.apply(t,e||[])).next())})};class l{static getManifest(t,e){return r(this,void 0,void 0,function*(){const i=()=>r(this,void 0,void 0,function*(){const i=yield window.fetch(t.href),n=yield i.json();return e&&(yield e.set("manifest",JSON.stringify(n))),new l(n,t)}),n=()=>r(this,void 0,void 0,function*(){try{yield i()}catch(t){}return new Promise(t=>t())});if(e){const i=yield e.get("manifest");if(i){n();const e=JSON.parse(i);return new l(e,t)}}return i()})}constructor(t,e){this.metadata=t.metadata||{},this.links=t.links||[],this.readingOrder=t.spine||t.readingOrder||[],this.resources=t.resources||[],this.tableOfContents=t.toc||[],this.landmarks=t.landmarks||[],this.pageList=t["page-list"]||[],this.manifestUrl=e}getStartLink(){return this.readingOrder.length>0?this.readingOrder[0]:null}getPreviousSpineItem(t){const e=this.getSpineIndex(t);return null!==e&&e>0?this.readingOrder[e-1]:null}getNextSpineItem(t){const e=this.getSpineIndex(t);return null!==e&&e<this.readingOrder.length-1?this.readingOrder[e+1]:null}getSpineItem(t){const e=this.getSpineIndex(t);return null!==e?this.readingOrder[e]:null}getSpineIndex(t){for(let e=0;e<this.readingOrder.length;e++){const i=this.readingOrder[e];if(i.href){if(new URL(i.href,this.manifestUrl.href).href===t)return e}}return null}getTOCItem(t){const e=(t,i)=>{for(let n=0;n<i.length;n++){const s=i[n];if(s.href){if(new URL(s.href,this.manifestUrl.href).href===t)return s}if(s.children){const i=e(t,s.children);if(null!==i)return i}}return null};let i=e(t,this.tableOfContents);return null===i&&(i=e(t,this.readingOrder)),i}}var h,d=function(t,e,i,n){return new(i||(i=Promise))(function(s,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function r(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,r)}l((n=n.apply(t,e||[])).next())})};class c{constructor(t){this.cacheStatus=s.Uncached,this.statusUpdateCallback=(()=>{}),this.serviceWorkerUrl=t.serviceWorkerUrl||new URL("sw.js",t.manifestUrl.href),this.staticFileUrls=t.staticFileUrls||[],this.store=t.store,this.manifestUrl=t.manifestUrl;const e=window.location.protocol;this.areServiceWorkersSupported=!(!navigator.serviceWorker||!window.caches||"https:"!==e&&"localhost"!==window.location.hostname)}enable(){return d(this,void 0,void 0,function*(){if(this.areServiceWorkersSupported&&this.cacheStatus!==s.Downloaded){this.cacheStatus=s.Downloading,this.updateStatus(),navigator.serviceWorker.register(this.serviceWorkerUrl.href);try{yield this.verifyAndCacheManifest(this.manifestUrl),this.cacheStatus=s.Downloaded,this.updateStatus()}catch(t){this.cacheStatus=s.Error,this.updateStatus()}}return new Promise(t=>t())})}verifyAndCacheManifest(t){return d(this,void 0,void 0,function*(){yield navigator.serviceWorker.ready;try{const e=[t.href];for(const t of this.staticFileUrls)e.push(t.href);const i=[this.cacheManifest(t),this.cacheUrls(e,t)];for(const t of i)yield t;return new Promise(t=>t())}catch(t){return new Promise((e,i)=>i(t))}})}cacheUrls(t,e){return d(this,void 0,void 0,function*(){return(yield window.caches.open(e.href)).addAll(t.map(t=>new URL(t,e.href).href))})}cacheManifest(t){return d(this,void 0,void 0,function*(){const e=yield l.getManifest(t,this.store),i=[this.cacheSpine(e,t),this.cacheResources(e,t)];for(const t of i)yield t;return new Promise(t=>t())})}cacheSpine(t,e){return d(this,void 0,void 0,function*(){const i=[];for(const e of t.readingOrder)e.href&&i.push(e.href);return yield this.cacheUrls(i,e)})}cacheResources(t,e){return d(this,void 0,void 0,function*(){const i=[];for(const e of t.resources)e.href&&i.push(e.href);return yield this.cacheUrls(i,e)})}onStatusUpdate(t){this.statusUpdateCallback=t,this.updateStatus()}getStatus(){return this.cacheStatus}updateStatus(){this.statusUpdateCallback(this.cacheStatus)}}function u(){return document.documentElement.clientWidth}function p(){return document.documentElement.clientHeight}function f(){return u()!==window.innerWidth}!function(t){t[t.Bookmark=0]="Bookmark",t[t.Note=1]="Note",t[t.Highlight=2]="Highlight",t[t.Annotation=3]="Annotation"}(h||(h={}));class v{constructor(){this.pendingMouseEventStart=null,this.pendingMouseEventEnd=null,this.pendingTouchEventStart=null,this.pendingTouchEventEnd=null,this.onLeftTap=(()=>{}),this.onMiddleTap=(()=>{}),this.onRightTap=(()=>{}),this.onBackwardSwipe=(()=>{}),this.onForwardSwipe=(()=>{}),this.onLeftArrow=(()=>{}),this.onRightArrow=(()=>{}),this.onLeftHover=(()=>{}),this.onRightHover=(()=>{}),this.onRemoveHover=(()=>{}),this.onInternalLink=(()=>{}),this.handleMouseEventStart=(t=>{this.pendingMouseEventStart=t}),this.handleTouchEventStart=(t=>{f()||1===t.changedTouches.length&&(this.pendingTouchEventStart=t)}),this.handleMouseEventEnd=(t=>{if(!this.pendingMouseEventStart)return;const e=window.devicePixelRatio,i=(this.pendingMouseEventStart.clientX-t.clientX)/e,n=(this.pendingMouseEventStart.clientY-t.clientY)/e;if(Math.abs(i)<v.CLICK_PIXEL_TOLERANCE&&Math.abs(n)<v.CLICK_PIXEL_TOLERANCE)return this.pendingMouseEventEnd?(this.pendingMouseEventStart=null,void(this.pendingMouseEventEnd=null)):(this.pendingMouseEventStart=null,this.pendingMouseEventEnd=t,void setTimeout(this.handleClick,v.DOUBLE_CLICK_MS));this.pendingMouseEventEnd=null,this.pendingMouseEventStart=null}),this.handleTouchEventEnd=(t=>{if(f())return;if(1!==t.changedTouches.length)return;if(!this.pendingTouchEventStart)return;const e=this.pendingTouchEventStart.changedTouches[0],i=t.changedTouches[0];if(!e)return;const n=window.devicePixelRatio,s=(e.clientX-i.clientX)/n,o=(e.clientY-i.clientY)/n;if(Math.abs(s)<v.TAP_PIXEL_TOLERANCE&&Math.abs(o)<v.TAP_PIXEL_TOLERANCE)return this.pendingTouchEventEnd?(this.pendingTouchEventStart=null,void(this.pendingTouchEventEnd=null)):t.timeStamp-this.pendingTouchEventStart.timeStamp>v.LONG_PRESS_MS?(this.pendingTouchEventStart=null,void(this.pendingTouchEventEnd=null)):(this.pendingTouchEventStart=null,this.pendingTouchEventEnd=t,void setTimeout(this.handleTap,v.DOUBLE_TAP_MS));if(this.pendingTouchEventEnd=null,t.timeStamp-this.pendingTouchEventStart.timeStamp>v.SLOW_SWIPE_MS)return void(this.pendingTouchEventStart=null);const a=(e.clientY-i.clientY)/(e.clientX-i.clientX);Math.abs(a)>.5?this.pendingTouchEventStart=null:(s<0?this.onBackwardSwipe(t):this.onForwardSwipe(t),this.pendingTouchEventStart=null)}),this.handleClick=(()=>{if(!this.pendingMouseEventEnd)return;if(this.checkForLink(this.pendingMouseEventEnd))return void(this.pendingMouseEventEnd=null);const t=this.pendingMouseEventEnd.clientX,e=window.innerWidth;t/e<.05?this.onLeftTap(this.pendingMouseEventEnd):t/e>.95?this.onRightTap(this.pendingMouseEventEnd):this.onMiddleTap(this.pendingMouseEventEnd),this.pendingMouseEventEnd=null}),this.handleTap=(()=>{if(!this.pendingTouchEventEnd)return;if(this.checkForLink(this.pendingTouchEventEnd))return this.handleLinks(this.pendingTouchEventEnd),void(this.pendingTouchEventEnd=null);const t=this.pendingTouchEventEnd.changedTouches[0];if(!t)return;const e=t.clientX,i=window.innerWidth;e/i<.05?this.onLeftTap(this.pendingTouchEventEnd):e/i>.95?this.onRightTap(this.pendingTouchEventEnd):this.onMiddleTap(this.pendingTouchEventEnd),this.pendingTouchEventEnd=null}),this.checkForLink=(t=>{let e=t.target;for(;e&&"body"!==e.tagName.toLowerCase();){if("a"===e.tagName.toLowerCase()&&e.href)return e;e=e.parentElement}return null}),this.handleMouseMove=(t=>{const e=t.clientX,i=window.innerWidth;e/i<.05?this.onLeftHover():e/i>.95?this.onRightHover():this.onRemoveHover()}),this.handleMouseLeave=(()=>{this.onRemoveHover()}),this.handleLinks=(t=>{const e=this.checkForLink(t);if(e){const i=window.location.protocol===e.protocol&&window.location.port===e.port&&window.location.hostname===e.hostname,n=e.href.indexOf("#");i?i&&-1!==n?this.onInternalLink(t):i&&-1===n&&e.click():(window.open(e.href,"_blank"),t.preventDefault(),t.stopPropagation())}}),this.handleKeyboard=(t=>{37===t.keyCode?this.onLeftArrow(t):39===t.keyCode?this.onRightArrow(t):9===t.keyCode&&t.preventDefault()})}setupEvents(t){if(null===t)throw"cannot setup events for null";t.addEventListener("touchstart",this.handleTouchEventStart.bind(this)),t.addEventListener("touchend",this.handleTouchEventEnd.bind(this)),t.addEventListener("mousedown",this.handleMouseEventStart.bind(this)),t.addEventListener("mouseup",this.handleMouseEventEnd.bind(this)),t.addEventListener("mouseenter",this.handleMouseMove.bind(this)),t.addEventListener("mousemove",this.handleMouseMove.bind(this)),t.addEventListener("mouseleave",this.handleMouseLeave.bind(this)),t.addEventListener("click",this.handleLinks.bind(this)),t.addEventListener("keydown",this.handleKeyboard.bind(this))}}function m(t,e){return t.querySelector(e)}function g(t,e){const i=m(t,e);if(i)return i;throw"required element "+e+" not found"}function y(t,e){const i=function(t,e){if(null===t)throw"parent element is null";return t.querySelector(e)}(t,e);if(i)return i;throw"required element "+e+" not found in iframe"}function _(t,e,i){t.setAttribute(e,i)}function w(t,e){t.removeAttribute(e)}v.CLICK_PIXEL_TOLERANCE=10,v.TAP_PIXEL_TOLERANCE=10,v.DOUBLE_CLICK_MS=200,v.LONG_PRESS_MS=500,v.DOUBLE_TAP_MS=200,v.SLOW_SWIPE_MS=500;const k=(t,e,i,n="icon")=>`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" role="img" class="${n}" aria-labelledBy="${t}">\n  <title id="${t}">${e}</title>\n  ${i}\n</svg>`,b=(t,e,i,n="svgIcon use")=>`<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" role="img" class="${n}">\n  <defs>\n    <symbol id="${t}" viewBox="0 0 24 24">\n      <title>${e}</title>\n      ${i}\n    </symbol>\n  </defs>\n</svg>`,E=(t,e)=>`<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" class="${e}" role="img" aria-labelledby="${t}">\n  <use xlink:href="#${t}"></use>\n</svg>`,C={checkOriginal:b("check-icon","Checked",'<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"/>'),checkDupe:E("check-icon","checkedIcon"),closeOriginal:b("close-icon","Close",'<path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/>'),closeDupe:E("close-icon","icon close inactive-icon"),error:k("error-icon","Warning",'<path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>'),home:'<path d="M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"/>',expand:k("expand-icon","Enter fullscreen",'<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>',"icon active-icon"),loading:k("loading-icon","Loading",'<path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/>'),menu:k("menu-icon","Show and hide navigation bar",'<path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"/>',"icon menu open inactive-icon"),minimize:k("minimize-icon","Exit fullscreen",'<path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/>',"icon inactive-icon"),next:k("next-icon","Next Chapter",'<path d="M6.49 20.13l1.77 1.77 9.9-9.9-9.9-9.9-1.77 1.77L14.62 12l-8.13 8.13z"/>'),previous:k("previous-icon","Previous Chapter",'<path d="M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"/>'),settings:k("settings-icon","Settings",'<path d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>',"icon open"),toc:k("toc-icon","Table of Contents",'<path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"/>',"icon open"),bookmarks:k("toc-icon","Bookmarks",'<path d="M4,6H2v16h16v-2H4V6z"/><path d="M22,2H6v16h16V2z M20,12l-2.5-1.5L15,12V4h5V12z"/>',"icon open"),bookmark:k("toc-icon","Bookmark",'<path d="M19,3H5v18l7-3l7,3V3z"/>',"icon open")};var x=i(1),S=i(3);let M="data-highlighted",T="data-timestamp",L={ELEMENT_NODE:1,TEXT_NODE:3},O=["SCRIPT","STYLE","SELECT","OPTION","BUTTON","OBJECT","APPLET","VIDEO","AUDIO","CANVAS","EMBED","PARAM","METER","PROGRESS"];class D{constructor(t,e){if(!t)throw"Missing anchor element";this.el=t,this.options=this.defaults(e,{color:"#ffff7b",highlightedClass:"highlighted",contextClass:"highlighter-context",onRemoveHighlight:function(){return!0},onBeforeHighlight:function(){return!0},onAfterHighlight:function(){}}),this.dom(this.el).addClass(this.options.contextClass),this.bindEvents(this.el,this)}haveSameColor(t,e){return this.dom(t).color()===this.dom(e).color()}defaults(t,e){t=t||{};for(let i in e)e.hasOwnProperty(i)&&void 0===t[i]&&(t[i]=e[i]);return t}unique(t){return t.filter(function(t,e,i){return i.indexOf(t)===e})}refineRangeBoundaries(t){let e=t.startContainer,i=t.endContainer,n=t.commonAncestorContainer,s=!0;if(0===t.endOffset){for(;!i.previousSibling&&i.parentNode!==n;)i=i.parentNode;i=i.previousSibling}else i.nodeType===L.TEXT_NODE?t.endOffset<i.nodeValue.length&&i.splitText(t.endOffset):t.endOffset>0&&(i=i.childNodes.item(t.endOffset-1));return e.nodeType===L.TEXT_NODE?t.startOffset===e.nodeValue.length?s=!1:t.startOffset>0&&i===(e=e.splitText(t.startOffset)).previousSibling&&(i=e):e=t.startOffset<e.childNodes.length?e.childNodes.item(t.startOffset):e.nextSibling,{startContainer:e,endContainer:i,goDeeper:s}}sortByDepth(t,e){var i=this;t.sort(function(t,n){return i.dom(e?n:t).parents().length-i.dom(e?t:n).parents().length})}groupHighlights(t){var e=[],i={},n=[];return t.forEach(function(t){let n=t.getAttribute(T);void 0===i[n]&&(i[n]=[],e.push(n)),i[n].push(t)}),e.forEach(function(t){let e=i[t];n.push({chunks:e,timestamp:t,toString:function(){return e.map(function(t){return t.textContent}).join("")}})}),n}dom(t){var e=this;return{addClass:function(e){t.classList?t.classList.add(e):t.className+=" "+e},removeClass:function(e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e+"(\\b|$)","gi")," ")},prepend:function(e){for(var i=Array.prototype.slice.call(e),n=i.length;n--;)t.insertBefore(i[n],t.firstChild)},append:function(e){for(var i=Array.prototype.slice.call(e),n=0,s=i.length;n<s;++n)t.appendChild(i[n])},insertAfter:function(e){return e.parentNode.insertBefore(t,e.nextSibling)},insertBefore:function(e){return e.parentNode.insertBefore(t,e)},remove:function(){t.parentNode.removeChild(t),t=null},contains:function(e){return t!==e&&t.contains(e)},wrap:function(e){return t.parentNode&&t.parentNode.insertBefore(e,t),e.appendChild(t),e},unwrap:function(){var i,n=Array.prototype.slice.call(t.childNodes);return n.forEach(function(t){i=t.parentNode,e.dom(t).insertBefore(t.parentNode),e.dom(i).remove()}),n},parents:function(){for(var e,i=[];e=t.parentNode;)i.push(e),t=e;return i},normalizeTextNodes:function(){if(t){if(t.nodeType===L.TEXT_NODE)for(;t.nextSibling&&t.nextSibling.nodeType===L.TEXT_NODE;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);else e.dom(t.firstChild).normalizeTextNodes();e.dom(t.nextSibling).normalizeTextNodes()}},color:function(){return t.style.backgroundColor},fromHTML:function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes},getRange:function(){var i,n=e.dom(t).getSelection();return n.rangeCount>0&&(i=n.getRangeAt(0)),i},removeAllRanges:function(){e.dom(t).getSelection().removeAllRanges()},getSelection:function(){return e.dom(t).getWindow().getSelection()},getWindow:function(){return e.dom(t).getDocument().defaultView},getDocument:function(){return t.ownerDocument||t}}}bindEvents(t,e){t.addEventListener("mouseup",e.highlightHandler.bind(e)),t.addEventListener("touchend",e.highlightHandler.bind(e))}unbindEvents(t,e){t.removeEventListener("mouseup",e.highlightHandler.bind(e)),t.removeEventListener("touchend",e.highlightHandler.bind(e))}destroy(){this.unbindEvents(this.el,this),this.dom(this.el).removeClass(this.options.contextClass)}highlightHandler(){this.doHighlight()}doHighlight(t){var e,i,n,s,o=this.dom(this.el).getRange();o&&!o.collapsed&&(!0===this.options.onBeforeHighlight(o)&&(s=+new Date,(e=this.createWrapper()).setAttribute(T,s),i=this.highlightRange(o,e),n=this.normalizeHighlights(i.highlights),this.options.onAfterHighlight(o,n,s)),t||this.dom(this.el).removeAllRanges())}highlightRange(t,e){if(!t||t.collapsed)return[];var i,n,s,o=this.refineRangeBoundaries(t),a=o.startContainer,r=o.endContainer,l=o.goDeeper,h=!1,d=a,c=[];do{l&&d.nodeType===L.TEXT_NODE&&(-1===O.indexOf(d.parentNode.tagName)&&""!==d.nodeValue.trim()&&((n=e.cloneNode(!0)).setAttribute(M,!0),s=d.parentNode,(this.dom(this.el).contains(s)||s===this.el)&&(i=this.dom(d).wrap(n),c.push(i))),l=!1),d!==r||r.hasChildNodes()&&l||(h=!0),d.tagName&&O.indexOf(d.tagName)>-1&&(r.parentNode===d&&(h=!0),l=!1),l&&d.hasChildNodes()?d=d.firstChild:d.nextSibling?(d=d.nextSibling,l=!0):(d=d.parentNode,l=!1)}while(!h);return{highlights:c,highlight:i}}normalizeHighlights(t){var e;return this.flattenNestedHighlights(t),this.mergeSiblingHighlights(t),e=t.filter(function(t){return t.parentElement?t:null}),(e=this.unique(e)).sort(function(t,e){return t.offsetTop-e.offsetTop||t.offsetLeft-e.offsetLeft}),e}flattenNestedHighlights(t){var e,i=this;function n(){var e=!1;return t.forEach(function(n,s){var o=n.parentElement,a=o.previousSibling,r=o.nextSibling;i.isHighlight(o)&&(i.haveSameColor(o,n)?(o.replaceChild(n.firstChild,n),t[s]=o,e=!0):(n.nextSibling||(i.dom(n).insertBefore(r||o),e=!0),n.previousSibling||(i.dom(n).insertAfter(a||o),e=!0),o.hasChildNodes()||i.dom(o).remove()))}),e}i.sortByDepth(t,!0);do{e=n()}while(e)}mergeSiblingHighlights(t){var e=this;function i(t,i){return i&&i.nodeType===L.ELEMENT_NODE&&e.haveSameColor(t,i)&&e.isHighlight(i)}t.forEach(function(t){var n=t.previousSibling,s=t.nextSibling;i(t,n)&&(e.dom(t).prepend(n.childNodes),e.dom(n).remove()),i(t,s)&&(e.dom(t).append(s.childNodes),e.dom(s).remove()),e.dom(t).normalizeTextNodes()})}setColor(t){this.options.color=t}getColor(){return this.options.color}removeHighlights(t){var e=t||this.el,i=this.getHighlights({container:e}),n=this;function s(t){n.dom(t).unwrap().forEach(function(t){var e,i,s;i=(e=t).previousSibling,s=e.nextSibling,i&&i.nodeType===L.TEXT_NODE&&(e.nodeValue=i.nodeValue+e.nodeValue,n.dom(i).remove()),s&&s.nodeType===L.TEXT_NODE&&(e.nodeValue=e.nodeValue+s.nodeValue,n.dom(s).remove())})}n.sortByDepth(i,!0),i.forEach(function(t){!0===n.options.onRemoveHighlight(t)&&s(t)})}getHighlights(t){var e=(t=this.defaults(t,{container:this.el,andSelf:!0,grouped:!1})).container.querySelectorAll("["+M+"]"),i=Array.prototype.slice.call(e);return!0===t.andSelf&&t.container.hasAttribute(M)&&i.push(t.container),t.grouped&&(i=this.groupHighlights(i)),i}isHighlight(t){return t&&t.nodeType===L.ELEMENT_NODE&&t.hasAttribute(M)}serializeHighlights(){var t=this.getHighlights(),e=this.el,i=[];return this.sortByDepth(t,!1),t.forEach(function(t){var n=0,s=t.textContent.length,o=function(t,e){var i,n=[];do{i=Array.prototype.slice.call(t.parentNode.childNodes),n.unshift(i.indexOf(t)),t=t.parentNode}while(t!==e||!t);return n}(t,e),a=t.cloneNode(!0);a.innerHTML="",a=a.outerHTML,t.previousSibling&&t.previousSibling.nodeType===L.TEXT_NODE&&(n=t.previousSibling.length),i.push([a,t.textContent,o.join(":"),n,s])}),JSON.stringify(i)}deserializeHighlights(t){var e,i=[],n=this;if(!t)return i;try{e=JSON.parse(t)}catch(t){throw"Can't parse JSON: "+t}return e.forEach(function(t){try{!function(t){for(var e,s,o,a={wrapper:t[0],text:t[1],path:t[2].split(":"),offset:t[3],length:t[4]},r=a.path.pop(),l=n.el;o=a.path.shift();)l=l.childNodes[o];l.childNodes[r-1]&&l.childNodes[r-1].nodeType===L.TEXT_NODE&&(r-=1),(e=(l=l.childNodes[r]).splitText(a.offset)).splitText(a.length),e.nextSibling&&!e.nextSibling.nodeValue&&n.dom(e.nextSibling).remove(),e.previousSibling&&!e.previousSibling.nodeValue&&n.dom(e.previousSibling).remove(),s=n.dom(e).wrap(n.dom().fromHTML(a.wrapper)[0]),i.push(s)}(t)}catch(t){console&&console.warn&&console.warn("Can't deserialize highlight descriptor. Cause: "+t)}}),i}find(t,e){var i=this.dom(this.el).getWindow(),n=i.scrollX,s=i.scrollY,o=void 0===e||e;if(this.dom(this.el).removeAllRanges(),i.find)for(;i.find(t,o);)this.doHighlight(!0);else if(i.document.body.createTextRange){var a=i.document.body.createTextRange();for(a.moveToElementText(this.el);a.findText(t,1,o?4:0)&&(this.dom(this.el).contains(a.parentElement())||a.parentElement()===this.el);)a.select(),this.doHighlight(!0),a.collapse(!1)}this.dom(this.el).removeAllRanges(),i.scrollTo(n,s)}createWrapper(){var t=document.createElement("mark");return t.style.backgroundColor=this.options.color,t.className=this.options.highlightedClass,t}}const B=(t,e)=>{const i=e.querySelector(t.selector);if(!i)throw new Error("Unable to find element with selector: "+t.selector);return i.childNodes[t.childIndexOf]},A=(t,e)=>{let i=t;const n=[];let s=0;if(t.parentNode)for(s=I(t.parentNode,t);i;){const t=i.tagName;if(t){const e=R(i);let s=t;e>1&&(s+=":nth-of-type("+e+")"),n.push(s)}if((i=i.parentNode||i.parentElement)==(e.parentNode||e.parentElement))break}return{selector:n.reverse().join(">").toLowerCase(),childIndexOf:s,offset:0}},I=(t,e)=>{const i=t.childNodes;let n=0;for(let t=0,s=i.length;t<s;t++)if(i[t]===e){n=t;break}return n},R=t=>{let e=0;const i=t.parentNode||t.parentElement;if(i)for(var n=0,s=i.childNodes.length;n<s;n++){const s=i.childNodes[n];if(s===t){e++;break}s.tagName===t.tagName&&e++}return e},N=(t,e)=>{const i=A(t.startContainer,e);i.offset=t.startOffset;const n=A(t.endContainer,e);return n.offset=t.endOffset,{start:i,end:n}},P=(t,e)=>{const i=e.createRange();let n=B(t.start,e),s=B(t.end,e);return n.nodeType!=Node.TEXT_NODE&&n.firstChild&&(n=n.firstChild),s.nodeType!=Node.TEXT_NODE&&s.firstChild&&(s=s.firstChild),n&&i.setStart(n,t.start.offset),s&&i.setEnd(s,t.end.offset),i};var $=i(4);const H=t=>Object($.deflateRaw)(t,{level:9,raw:!0}),z=t=>Object($.inflate)(t,{raw:!0,to:"string"}),F=t=>btoa(Array.prototype.map.call(t,t=>String.fromCharCode(t)).join("")),W=t=>{const e=atob(t),i=new Uint8Array(e.length);return Array.prototype.forEach.call(e,(t,e)=>i[e]=t.charCodeAt(0)),i};class V{constructor(t){this.serializeAtomic=(t=>{return this.createAtomicRanges(t).map(t=>N(t.cloneRange(),this.options.document.body)).map(t=>JSON.stringify(t)).join("|")}),this.deserilaizeAtomic=(t=>{return t.split("|").map(t=>JSON.parse(t)).reverse().map(t=>P(t,this.options.document))}),this.serialize=(t=>{const e=N(t.cloneRange(),this.options.document.body),i=JSON.stringify(e),n=H(i);return F(n)}),this.deserialize=(t=>{const e=W(t),i=z(e),n=JSON.parse(i);return P(n,this.options.document)}),this.createAtomicRanges=(t=>{if(t.startContainer===t.endContainer&&t.startContainer.nodeType===Node.TEXT_NODE)return[t];const e=this.options.document.createTreeWalker(t.commonAncestorContainer,NodeFilter.SHOW_ALL,t=>NodeFilter.FILTER_ACCEPT,!1);let i=!1,n=!1;const s=[];let o;for(;o=e.nextNode();){if(o===t.startContainer&&(i=!0),o.nodeType===Node.TEXT_NODE&&i&&!n&&o.textContent&&o.textContent.trim().length>0){const e=this.options.document.createRange();e.setStart(o,o===t.startContainer?t.startOffset:0),e.setEnd(o,o===t.endContainer?t.endOffset:o.length),s.push(e)}o===t.endContainer&&(n=!0)}return s}),this.options=Object.assign({},t)}}var j=function(t,e,i,n){return new(i||(i=Promise))(function(s,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function r(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,r)}l((n=n.apply(t,e||[])).next())})};const U=(t,e,i)=>`\n<a rel="up" href='${t}' aria-label="${i}" style="padding: 0px"><i class="material-icons white-text show-on-large">arrow_back_ios</i></a>\n`,q=(t,e,i)=>`\n<a rel="up" href='${t}' aria-label="${i}">\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-labelledby="up-label" preserveAspectRatio="xMidYMid meet" role="img" class="icon">\n    <title id="up-label">${e}</title>\n    ${C.home}\n</svg>\n<span class="setting-text up">${e}</span>\n</a>\n`,K=`\n  <main style="overflow: hidden" tabindex=-1 id="iframe-wrapper">\n    <div class="loading" style="display:none;">\n      ${C.loading}\n    </div>\n    <div class="error" style="display:none;">\n      <span>\n        ${C.error}\n      </span>\n      <span>There was an error loading this page.</span>\n      <button class="go-back">Go back</button>\n      <button class="try-again">Try again</button>\n    </div>\n    <div class="info top">\n      <span class="book-title"></span>\n    </div>\n    <iframe allowtransparency="true" title="ePub Reader" SCROLLING="no"></iframe>\n    <div class="info bottom">\n      <span class="chapter-position"></span>\n      <span class="chapter-title"></span>\n    </div>\n  </main>\n`,Y='\n<div class="controls-trigger">\n    <button class="trigger" aria-haspopup="true" aria-expanded="true">\n    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"\n        role="img" class="icon menu open inactive-icon" aria-labelledby="menu-icon">\n        <title id="menu-icon">Show and hide navigation bar</title>\n        <path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"></path>\n    </svg>\n    </button>\n</div>\n<div class="controls">\n    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" role="img" class="svgIcon use">\n    <defs>\n        <symbol id="close-icon" viewBox="0 0 24 24">\n        <title>Close</title>\n        <path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"></path>\n        </symbol>\n    </defs>\n    </svg>\n    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" role="img" class="svgIcon use">\n    <defs>\n        <symbol id="check-icon" viewBox="0 0 24 24">\n        <title>Checked</title>\n        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"></path>\n        </symbol>\n    </defs>\n    </svg>\n    <ul class="links top active">\n    <li>\n        <button class="contents" aria-labelledby="contents-label" aria-haspopup="true" aria-expanded="false">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"\n            role="img" class="icon open" aria-labelledby="toc-icon">\n            <title id="toc-icon">Table of Contents</title>\n            <path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path>\n        </svg>\n        <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" class="icon close inactive-icon"\n            role="img" aria-labelledby="close-icon">\n            <use xlink:href="#close-icon"></use>\n        </svg>\n        <span class="setting-text contents" id="contents-label">Contents</span>\n        </button>\n        <div class="contents-view controls-view inactive" aria-hidden="true"></div>\n    </li>\n    <li>\n        <button class="landmarks" aria-labelledby="landmarks-label" aria-haspopup="true" aria-expanded="false">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"\n            role="img" class="icon open" aria-labelledby="toc-icon">\n            <title id="toc-icon">Landmarks</title>\n            <path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path>\n        </svg>\n        <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" class="icon close inactive-icon"\n            role="img" aria-labelledby="close-icon">\n            <use xlink:href="#close-icon"></use>\n        </svg>\n        <span class="setting-text landmarks" id="landmarks-label">Landmarks</span>\n        </button>\n        <div class="landmarks-view controls-view inactive" aria-hidden="true"></div>\n    </li>\n    <li>\n        <button class="pageList" aria-labelledby="pageList-label" aria-haspopup="true" aria-expanded="false">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"\n            role="img" class="icon open" aria-labelledby="toc-icon">\n            <title id="toc-icon">Page List</title>\n            <path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path>\n        </svg>\n        <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" class="icon close inactive-icon"\n            role="img" aria-labelledby="close-icon">\n            <use xlink:href="#close-icon"></use>\n        </svg>\n        <span class="setting-text pageList" id="landmarks-label">Page List</span>\n        </button>\n        <div class="pageList-view controls-view inactive" aria-hidden="true"></div>\n    </li>\n    <li>\n        <button class="notes" aria-labelledby="notes-label" aria-haspopup="true" aria-expanded="false">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"\n            role="img" class="icon open" aria-labelledby="toc-icon">\n            <title id="toc-icon">Notes</title>\n            <path d="M4,6H2v16h16v-2H4V6z"></path>\n            <path d="M22,2H6v16h16V2z M20,12l-2.5-1.5L15,12V4h5V12z"></path>\n        </svg>\n        <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" class="icon close inactive-icon"\n            role="img" aria-labelledby="close-icon">\n            <use xlink:href="#close-icon"></use>\n        </svg>\n        <span class="setting-text notes" id="notes-label">Notes</span>\n        </button>\n        <div class="notes-view controls-view inactive" aria-hidden="true"></div>\n    </li>\n    <li>\n        <button class="bookmarks" aria-labelledby="bookmarks-label" aria-haspopup="true" aria-expanded="false">\n        <i class="material-icons icon open">collections_bookmark</i>\n        <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" class="icon close inactive-icon"\n            role="img" aria-labelledby="close-icon">\n            <use xlink:href="#close-icon"></use>\n        </svg>\n        <span class="setting-text bookmarks" id="bookmarks-label">Bookmarks</span>\n        </button>\n        <div class="bookmarks-view controls-view inactive" aria-hidden="true"></div>\n    </li>\n    <li>\n        <button class="note" aria-labelledby="note-label" aria-haspopup="true" aria-expanded="false">\n        <i class="material-icons icon open">speaker_notes</i>\n        <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" class="icon close inactive-icon"\n            role="img" aria-labelledby="close-icon">\n            <use xlink:href="#close-icon"></use>\n        </svg>\n        <span class="setting-text note" id="note-label">Add Note</span>\n        </button>\n        <div class="noteInputView controls-view inactive" aria-hidden="true">\n        <ul class="note-menu" role="menu">\n            <li>\n            <textarea name="text" wrap="soft" class="note-input" name="note-input" placeholder="type your note here"></textarea><br>\n            <button id="saveNote" class="saveNote">\n                <span>save note</span>\n            </button>\n            </li>\n        </ul>\n        </div>\n    </li>\n    <li>\n        <button id="saveBookmark" class="saveBookmark" aria-labelledby="bookmark-label" aria-haspopup="true" aria-expanded="false">\n        <i class="material-icons">bookmark</i>\n        <span class="setting-text bookmark" id="bookmark-label">Add Bookmark</span>\n        </button>\n    </li>\n    <li>\n        <button id="settings-control" class="settings" aria-labelledby="settings-label" aria-expanded="false"\n        aria-haspopup="true">\n        <i class="material-icons icon open">settings</i>\n        <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" class="icon close inactive-icon"\n            role="img" aria-labelledby="close-icon">\n            <use xlink:href="#close-icon"></use>\n        </svg>\n        <span class="setting-text settings" id="settings-label">Settings</span>\n        </button>\n        <div class="settings-view controls-view inactive" aria-hidden="true"></div>\n    </li>\n    </ul>\n</div>\n',X='\n<div class="controls">\n  <ul class="links bottom active">\n    <li>\n        <a rel="prev" class="disabled" role="button" aria-labelledby="previous-label">\n            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" role="img" class="icon" aria-labelledby="previous-icon">\n            <title id="previous-icon">Previous Chapter</title>\n            <path d="M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"></path>\n            </svg>\n        <span class="chapter-control" id="previous-label">Previous Chapter</span>\n        </a>\n    </li>\n    <li aria-label="chapters">Chapters</li>\n    <li>\n        <a rel="next" class="disabled" role="button" aria-labelledby="next-label">\n        <span class="chapter-control" id="next-label">Next Chapter</span>\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" role="img" class="icon" aria-labelledby="next-icon">\n            <title id="next-icon">Next Chapter</title>\n            <path d="M6.49 20.13l1.77 1.77 9.9-9.9-9.9-9.9-1.77 1.77L14.62 12l-8.13 8.13z"></path>\n        </svg>\n        </a>\n    </li>\n  </ul>\n</div>\n';class J{constructor(t,e=null,i,n=null,s=null,o=null,a=null,r=null,l=null,h=null,d=null,c=null,u=null,p=null,f=null,m=null,g=null,y=null,_=null,w=null,k=null){this.upLink=null,this.fullscreen=null,this.canFullscreen=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled,this.sideNavExanded=!1,this.store=t,this.cacher=e,this.settings=i,this.annotator=n,this.publisher=s,this.serif=o,this.sans=a,this.day=r,this.sepia=l,this.night=h,this.paginator=d,this.scroller=c,this.eventHandler=u||new v,this.upLinkConfig=p,this.allowFullscreen=f,this.useDefaultHeader=m,this.useDefaultFooter=g,this.eventTarget=y,this.initialLastReadingPosition=_,this.initialAnnotations=w,this.enableAnnotations=k}static create(t){return j(this,void 0,void 0,function*(){const e=new this(t.store,t.cacher||null,t.settings,t.annotator||null,t.publisher||null,t.serif||null,t.sans||null,t.day||null,t.sepia||null,t.night||null,t.paginator||null,t.scroller||null,t.eventHandler||null,t.upLink||null,t.allowFullscreen||null,t.useDefaultHeader||null,t.useDefaultFooter||null,t.eventTarget||null,t.initialLastReadingPosition||null,t.initialAnnotations||null,t.enableAnnotations||null);return yield e.start(t.mainElement,t.headerMenu,t.footerMenu,t.manifestUrl),e})}start(t,e,i,n){return j(this,void 0,void 0,function*(){this.headerMenu=e,t.innerHTML=K,this.useDefaultHeader&&(e.innerHTML=Y),this.useDefaultFooter&&(i.innerHTML=X),this.manifestUrl=n;try{this.iframe=g(t,"main#iframe-wrapper iframe"),this.loadingMessage=g(t,"div[class=loading]"),this.errorMessage=g(t,"div[class=error]"),this.tryAgainButton=g(t,"button[class=try-again]"),this.goBackButton=g(t,"button[class=go-back]"),this.infoTop=g(t,"div[class='info top']"),this.infoBottom=g(t,"div[class='info bottom']"),this.useDefaultHeader?this.bookTitle=g(this.infoTop,"span[class=book-title]"):this.bookTitle=m(e,".brand-logo"),this.chapterTitle=g(this.infoBottom,"span[class=chapter-title]"),this.chapterPosition=g(this.infoBottom,"span[class=chapter-position]"),this.contentsControl=m(e,"button.contents"),this.settingsControl=m(e,"button.settings"),this.landmarksControl=m(e,"button.landmarks"),this.pageListControl=m(e,"button.pageList"),this.saveNoteButton=m(e,"#saveNote"),this.addNoteControl=m(e,"button.note"),this.noteInputView=m(e,".noteInputView"),this.saveBookmarkButton=m(e,"#saveBookmark"),this.bookmarksControl=m(e,"button.bookmarks"),this.bookmarksView=m(e,".bookmarks-view"),this.notesControl=m(e,"button.notes"),this.notesView=m(e,".notes-view"),this.links=m(e,"ul.links.top"),this.linksTopLeft=m(e,"#nav-mobile-left"),this.tocView=m(e,".contents-view"),this.landmarksView=m(e,".landmarks-view"),this.pageListView=m(e,".pageList-view"),this.settingsView=m(e,".settings-view"),this.menuControl=m(e,"button.trigger"),this.fullscreen=m(e,"#fullscreen-control"),this.linksBottom=m(i,"ul.links.bottom"),this.linksMiddle=m(i,"ul.links.middle"),this.nextChapterLink=m(i,"a[rel=next]"),this.previousChapterLink=m(i,"a[rel=prev]");var s=m(e,".editAnnotations");this.addEventListenerOptional(s,"click",this.handleEditClick.bind(this));var o=m(e,"#searchInput");if(this.addEventListenerOptional(o,"keypress",this.handleSearch.bind(this)),this.newPosition=null,this.newElementId=null,this.isBeingStyled=!0,this.isLoading=!0,this.setupEvents(),this.publisher&&(this.publisher.bookElement=this.iframe),this.serif&&(this.serif.bookElement=this.iframe),this.sans&&(this.sans.bookElement=this.iframe),this.day&&(this.day.bookElement=this.iframe),this.sepia&&(this.sepia.bookElement=this.iframe),this.night&&(this.night.bookElement=this.iframe),this.paginator&&(this.paginator.bookElement=this.iframe),this.scroller&&(this.scroller.bookElement=this.iframe),this.settingsView){if(this.settings.renderControls(this.settingsView),this.settingsControl){const t=this.settingsView.querySelectorAll("button");if(t&&t.length>0){const e=t[t.length-1];this.setupModalFocusTrap(this.settingsView,this.settingsControl,e)}}this.cacher&&(this.cacher.onStatusUpdate(this.updateOfflineCacheStatus.bind(this)),this.enableOffline())}if(this.settings.onFontChange(this.updateFont.bind(this)),this.settings.onFontSizeChange(this.updateFontSize.bind(this)),this.settings.onViewChange(this.updateBookView.bind(this)),this.initialAnnotations){var a=this.initialAnnotations.bookmarks||null,r=this.initialAnnotations.notes||null,l=this.initialAnnotations.highlights||null;a&&this.annotator.initBookmarks(a),r&&this.annotator.initNotes(r),l&&this.annotator.initAnnotations(l)}return this.initialLastReadingPosition&&this.annotator.initLastReadingPosition(this.initialLastReadingPosition),yield this.loadManifest()}catch(t){return console.log(t),new Promise((e,i)=>i(t)).catch(()=>{})}})}handleSearch(t){if("Enter"===t.key){var e=t.target,i=m(this.headerMenu,"#searchResult"),n=m(this.headerMenu,"#searchResultBook");i.innerHTML=null,n.innerHTML=null;const p=y(this.iframe.contentDocument,"html");var s=new S(p),o=[],a=0,r=50,l="current",h=e.value;function d(){if(o.length){for(var t,e=o[a],i=0;i<o.length;i++)o[i].classList.remove(l);e.className+=l,t=e.offsetTop-r,window.scrollTo(0,t)}}s.unmark({done:function(){s.mark(h,{separateWordSearch:!0,each:function(t){o.push(t)},done:function(){a=0,d()}})}}),this.manifest.readingOrder.forEach(e=>{var i=new URL(e.href,this.manifestUrl.href).href;fetch(i).then(t=>t.text()).then(e=>{var s=(new DOMParser).parseFromString(e,"text/html");console.log(s);const o=g(s,"html");console.log(o);var a=this;new S(o).mark(h,{separateWordSearch:!0,each:function(e){const s=document.createElement("a");s.className="collection-item";var o=e.previousSibling.nodeValue,r=e.nextSibling.nodeValue;r.length>30&&(r=r.substring(0,30)+"..."),o.length>30&&(o="..."+o.substring(o.length-30,o.length)),s.innerHTML=o+"<mark>"+e.innerHTML+"</mark>"+r,s.addEventListener("click",e=>{t.preventDefault(),t.stopPropagation();const n={href:i,locations:{progression:0},created:new Date,title:"title"};a.navigate(n)}),n.appendChild(s)},done:function(){}})})});for(let t=0;t<o.length;t++){const e=document.createElement("a"),n=o[t];e.className="collection-item",e.href=this.currentTocUrl;var c=n.previousSibling.nodeValue,u=n.nextSibling.nodeValue;u.length>30&&(u=u.substring(0,30)+"..."),c.length>30&&(c="..."+c.substring(c.length-30,c.length)),e.innerHTML=c+"<mark>"+n.innerHTML+"</mark>"+u,e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),a=t,d()}),i.appendChild(e)}}}handleEditClick(t){var e=t.target,i=m(this.headerMenu,".sidenav");-1===e.className.indexOf(" active")?(e.className+=" active",i.className+=" expanded",e.innerText="unfold_less",this.sideNavExanded=!0,this.showBookmarks(),this.showNotes()):(e.className=e.className.replace(" active",""),i.className=i.className.replace(" expanded",""),e.innerText="unfold_more",this.sideNavExanded=!1,this.showBookmarks(),this.showNotes()),t.preventDefault(),t.stopPropagation()}addEventListenerOptional(t,e,i){t&&t.addEventListener(e,i)}setupEvents(){this.iframe.addEventListener("load",this.handleIFrameLoad.bind(this));let t;window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(this.handleResize.bind(this),200)}),this.addEventListenerOptional(this.previousChapterLink,"click",this.handlePreviousChapterClick.bind(this)),this.addEventListenerOptional(this.nextChapterLink,"click",this.handleNextChapterClick.bind(this)),this.addEventListenerOptional(this.contentsControl,"click",this.handleControlClick.bind(this,this.tocView,this.contentsControl)),this.addEventListenerOptional(this.landmarksControl,"click",this.handleControlClick.bind(this,this.landmarksView,this.landmarksControl)),this.addEventListenerOptional(this.pageListControl,"click",this.handleControlClick.bind(this,this.pageListView,this.pageListControl)),this.addEventListenerOptional(this.settingsControl,"click",this.handleSettingsClick.bind(this)),this.addEventListenerOptional(this.settingsView,"click",this.handleToggleLinksClick.bind(this)),this.addEventListenerOptional(this.addNoteControl,"click",this.handleBookmarkClick.bind(this)),this.addEventListenerOptional(this.saveBookmarkButton,"click",this.saveBookmark.bind(this)),this.addEventListenerOptional(this.saveNoteButton,"click",this.saveNote.bind(this)),this.addEventListenerOptional(this.bookmarksControl,"click",this.handleBookmarksClick.bind(this)),this.addEventListenerOptional(this.notesControl,"click",this.handleNotesClick.bind(this)),this.addEventListenerOptional(this.fullscreen,"click",this.toggleFullscreen.bind(this)),this.tryAgainButton.addEventListener("click",this.tryAgain.bind(this)),this.goBackButton.addEventListener("click",this.goBack.bind(this)),this.addEventListenerOptional(this.menuControl,"click",this.handleToggleLinksClick.bind(this)),this.addEventListenerOptional(this.contentsControl,"keydown",this.hideTOCOnEscape.bind(this)),this.addEventListenerOptional(this.tocView,"keydown",this.hideTOCOnEscape.bind(this)),this.addEventListenerOptional(this.settingsControl,"keydown",this.hideSettingsOnEscape.bind(this)),this.addEventListenerOptional(this.settingsView,"keydown",this.hideSettingsOnEscape.bind(this)),window.addEventListener("keydown",this.handleKeyboardNavigation.bind(this)),this.allowFullscreen&&this.canFullscreen&&(document.addEventListener("fullscreenchange",this.toggleFullscreenIcon.bind(this)),document.addEventListener("webkitfullscreenchange",this.toggleFullscreenIcon.bind(this)),document.addEventListener("mozfullscreenchange",this.toggleFullscreenIcon.bind(this)),document.addEventListener("MSFullscreenChange",this.toggleFullscreenIcon.bind(this))),this.addEventListenerOptional(this.addNoteControl,"keydown",this.hideBookmarkOnEscape.bind(this)),this.addEventListenerOptional(this.bookmarksControl,"keydown",this.hideBookmarksOnEscape.bind(this))}setupModalFocusTrap(t,e,i){e.addEventListener("keydown",e=>{if(this.isDisplayed(t)){const t=9===e.keyCode,n=!!e.shiftKey;t&&n&&(i.focus(),e.preventDefault(),e.stopPropagation())}}),i.addEventListener("keydown",i=>{if(this.isDisplayed(t)){const t=9===i.keyCode,n=!!i.shiftKey;t&&!n&&(e.focus(),i.preventDefault(),i.stopPropagation())}})}handleKeyboardNavigation(t){this.settings.getSelectedView()===this.paginator&&(37===t.keyCode?this.handlePreviousPageClick(t):39===t.keyCode&&this.handleNextPageClick(t))}updateFont(){this.handleResize()}updateFontSize(){this.handleResize()}updateBookView(){const t=()=>{};this.settings.getSelectedView()===this.paginator?(document.body.onscroll=(()=>{}),this.chapterTitle.style.display="inline",this.chapterPosition.style.display="inline",this.eventHandler&&(this.eventHandler.onBackwardSwipe=this.handlePreviousPageClick.bind(this),this.eventHandler.onForwardSwipe=this.handleNextPageClick.bind(this),this.eventHandler.onLeftTap=this.handlePreviousPageClick.bind(this),this.eventHandler.onMiddleTap=this.handleToggleLinksClick.bind(this),this.eventHandler.onRightTap=this.handleNextPageClick.bind(this),this.eventHandler.onRemoveHover=this.handleRemoveHover.bind(this),this.eventHandler.onInternalLink=this.handleInternalLink.bind(this),this.eventHandler.onLeftArrow=this.handleKeyboardNavigation.bind(this),this.eventHandler.onRightArrow=this.handleKeyboardNavigation.bind(this)),this.useDefaultFooter?this.isDisplayed(this.linksBottom)&&this.toggleDisplay(this.linksBottom):this.isDisplayed(this.linksBottom)||this.toggleDisplay(this.linksBottom),this.isDisplayed(this.linksMiddle)||this.toggleDisplay(this.linksMiddle)):this.settings.getSelectedView()===this.scroller&&(document.body.onscroll=(()=>{this.saveCurrentReadingPosition(),this.scroller&&this.scroller.atBottom()?(this.isDisplayed(this.linksBottom)||this.toggleDisplay(this.linksBottom),this.isDisplayed(this.linksMiddle)||this.toggleDisplay(this.linksMiddle)):this.isDisplayed(this.linksBottom)&&!this.isDisplayed(this.links)&&this.toggleDisplay(this.linksBottom)}),this.chapterTitle.style.display="none",this.chapterPosition.style.display="none",this.eventHandler&&(this.eventHandler.onBackwardSwipe=t,this.eventHandler.onForwardSwipe=t,this.eventHandler.onLeftTap=this.handleToggleLinksClick.bind(this),this.eventHandler.onMiddleTap=this.handleToggleLinksClick.bind(this),this.eventHandler.onRightTap=this.handleToggleLinksClick.bind(this),this.eventHandler.onLeftHover=t,this.eventHandler.onRightHover=t,this.eventHandler.onRemoveHover=t,this.eventHandler.onInternalLink=t,this.eventHandler.onLeftArrow=t,this.eventHandler.onRightArrow=t,this.handleRemoveHover()),this.useDefaultFooter?this.isDisplayed(this.links)&&!this.isDisplayed(this.linksBottom)&&this.toggleDisplay(this.linksBottom):this.isDisplayed(this.linksBottom)||this.toggleDisplay(this.linksBottom),this.isDisplayed(this.linksMiddle)||this.toggleDisplay(this.linksMiddle)),setTimeout(()=>{this.updatePositionInfo()},100)}enableOffline(){this.cacher&&this.cacher.getStatus()!==s.Downloaded&&this.cacher.enable()}updateOfflineCacheStatus(t){const e=this.settings.getOfflineStatusElement();let i="";t===s.Uncached?i="":t===s.UpdateAvailable?i="A new version is available. Refresh to update.":t===s.CheckingForUpdate?i="Checking for update.":t===s.Downloading?i="Downloading...":t===s.Downloaded?i="Downloaded for : use":t===s.Error&&(i="Error downloading for offline use"),e&&(e.innerHTML=i)}loadManifest(){return j(this,void 0,void 0,function*(){try{const e=(t,i,n,s=!1)=>{var o,a;n&&(o=n,t instanceof HTMLDivElement&&(a=t));var r=document.createElement("ul");s&&(r=document.createElement("ol"));let l=null;for(const t of i){const i=document.createElement("li"),n=document.createElement("a"),s=document.createElement("span");n.style.display="block",n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.tabIndex=-1;let o="";t.href?(o=new URL(t.href,this.manifestUrl.href).href,n.href=o,n.innerHTML=t.title||"",i.appendChild(n)):(s.innerHTML=t.title||"",s.style.padding="0 16px",s.style.fontSize="14px",s.style.color="lightgray",i.appendChild(s)),t.children&&t.children.length>0&&e(i,t.children,null,!0),r.appendChild(i),l=n}l&&o&&this.setupModalFocusTrap(a,o,l),r.addEventListener("click",t=>{if(t.preventDefault(),t.stopPropagation(),t.target&&"a"===t.target.tagName.toLowerCase()){let e=t.target;if(-1!==e.className.indexOf("active"))this.hideView(a,o);else{o&&o.focus();let t={progression:0};if(-1!==e.href.indexOf("#")){const i=e.href.slice(e.href.indexOf("#")+1);null!==i&&(t={id:i})}const i={href:e.href,locations:t,created:new Date,title:e.title};this.hideView(a,o),this.navigate(i)}}}),t.appendChild(r)},i=yield l.getManifest(this.manifestUrl,this.store);this.manifest=i;const n=i.tableOfContents,s=i.landmarks,o=i.pageList;if(this.tocView&&(n.length?(this.contentsControl&&(this.contentsControl.className="contents"),e(this.tocView,n,this.contentsControl)):this.tocView.parentElement.parentElement.removeChild(this.tocView.parentElement)),this.pageListView&&(o.length?(this.pageListControl&&(this.pageListControl.className="pageList"),e(this.pageListView,o,this.pageListControl)):this.pageListView.parentElement.parentElement.removeChild(this.pageListView.parentElement)),this.landmarksView&&(s.length?(this.landmarksControl&&(this.landmarksControl.className="landmarks"),e(this.landmarksView,s,this.landmarksControl)):this.landmarksView.parentElement.parentElement.removeChild(this.landmarksView.parentElement)),this.useDefaultHeader||(this.showBookmarks(),this.showNotes()),(this.links||this.linksTopLeft)&&this.upLinkConfig&&this.upLinkConfig.url){const e=this.upLinkConfig.url,i=this.upLinkConfig.label||"",n=this.upLinkConfig.ariaLabel||i;var t=q(e.href,i,n);this.useDefaultHeader||(t=U(e.href,i,n));const s=document.createElement("li");s.classList.add("uplink-wrapper"),s.innerHTML=t,this.links?(this.links.insertBefore(s,this.links.firstChild),this.upLink=g(this.links,"a[rel=up]")):(this.linksTopLeft.insertBefore(s,this.linksTopLeft.firstChild),this.upLink=g(this.linksTopLeft,"a[rel=up]"))}if(this.links&&this.allowFullscreen&&this.canFullscreen){const t=`<button id="fullscreen-control" class="fullscreen" aria-hidden="false">${C.expand} ${C.minimize}</button>`,e=document.createElement("li");e.innerHTML=t,this.links.appendChild(e),this.fullscreen=g(this.links,"#fullscreen-control"),this.fullscreen.addEventListener("click",this.toggleFullscreen.bind(this))}let a=null;this.annotator&&(a=yield this.annotator.getLastReadingPosition());const r=i.getStartLink();let h=null;if(r&&r.href&&(h=new URL(r.href,this.manifestUrl.href).href),a)this.navigate(a);else if(h){const t={href:h,locations:{progression:0},created:new Date,title:r.title};this.navigate(t)}return new Promise(t=>t())}catch(t){return this.abortOnError(),new Promise((e,i)=>i(t)).catch(()=>{})}})}handleIFrameLoad(){return j(this,void 0,void 0,function*(){this.errorMessage.style.display="none",this.showLoadingMessageAfterDelay();try{this.useDefaultHeader&&this.hideView(this.tocView,this.contentsControl);let i=0;this.newPosition&&(i=this.newPosition.locations.progression,this.newPosition=null),this.updateFont(),this.updateFontSize(),this.updateBookView(),this.settings.getSelectedFont().start(),this.settings.getSelectedTheme().start(),this.settings.getSelectedView().start(),setTimeout(()=>{this.settings.getSelectedView().goToPosition(i),this.updatePositionInfo()},100),setTimeout(()=>{this.newElementId&&(this.settings.getSelectedView().goToElement(this.newElementId),this.newElementId=null)},100);let n=this.iframe.src;if(this.iframe.contentDocument&&this.iframe.contentDocument.location&&this.iframe.contentDocument.location.href&&(n=this.iframe.contentDocument.location.href),-1!==n.indexOf("#")){const t=n.slice(n.indexOf("#")+1);return this.newElementId=t,this.iframe.src=n.slice(0,n.indexOf("#")),new Promise(t=>t())}this.updatePositionInfo();const s=this.manifest.getPreviousSpineItem(n);s&&s.href&&(this.previousChapterUrl=new URL(s.href,this.manifestUrl.href).href),this.previousChapterLink&&(this.previousChapterUrl?(this.previousChapterLink.href=this.previousChapterUrl,this.previousChapterLink.className=""):(this.previousChapterLink.removeAttribute("href"),this.previousChapterLink.className="disabled",this.handleRemoveHover()));const o=this.manifest.getNextSpineItem(n);let a;o&&o.href&&(this.nextChapterUrl=new URL(o.href,this.manifestUrl.href).href),this.nextChapterLink&&(this.nextChapterUrl?(this.nextChapterLink.href=this.nextChapterUrl,this.nextChapterLink.className=""):(this.nextChapterLink.removeAttribute("href"),this.nextChapterLink.className="disabled",this.handleRemoveHover())),null!==this.currentTocUrl?this.setActiveTOCItem(this.currentTocUrl):this.setActiveTOCItem(n),this.manifest.metadata.title&&(this.bookTitle.innerHTML=this.manifest.metadata.title);const r=this.manifest.getSpineItem(n);if(null!==r&&(a=r.title),!a){let t=this.manifest.getTOCItem(n);null!==this.currentTocUrl&&(t=this.manifest.getTOCItem(this.currentTocUrl)),null!==t&&t.title&&(a=t.title)}this.chapterTitle.innerHTML=a?"("+a+")":"(Current Chapter)",this.eventHandler&&this.eventHandler.setupEvents(this.iframe.contentDocument),this.annotator&&(yield this.saveCurrentReadingPosition()),this.hideLoadingMessage(),this.showIframeContents();const l=y(this.iframe.contentDocument,"head");if(l){const t=m(l,'link[rel=stylesheet][href~="/viewer/readium-css/ReadiumCSS-before.css"]'),e=m(l,'link[rel=stylesheet][href~="/viewer/readium-css/ReadiumCSS-default.css"]'),i=m(l,'link[rel=stylesheet][href~="/viewer/readium-css/ReadiumCSS-after.css"]');t||l.insertBefore(this.creatCssLink("/viewer/readium-css/ReadiumCSS-before.css"),l.firstChild),e||l.insertBefore(this.creatCssLink("/viewer/readium-css/ReadiumCSS-default.css"),l.childNodes[1]),i||l.appendChild(this.creatCssLink("/viewer/readium-css/ReadiumCSS-after.css"))}if(this.enableAnnotations){const i=y(this.iframe.contentDocument,"body"),n={document:this.iframe.contentDocument},s=new V(n);var t=this,e=new D(i,{onBeforeHighlight:function(i){console.log(i);var n=["#9fa8da","#90CAF9","#A5D6A7","#80cbc4","#f48fb1","#EF9A9A","#e6ee9c"],o=n[Math.floor(Math.random()*n.length)];e.setColor(o);const a=s.serializeAtomic(i);console.log(a);var r=(new Date).valueOf().toString();return t.saveAnnotation(a,e.getColor(),i,r),!0},onAfterHighlight:function(t,e,i){console.log(t)},onRemoveHighlight:function(t){return console.log(t),window.confirm('Do you really want to remove: "'+t.innerText+'"')}});setTimeout(()=>{this.showHightlights()},100)}return new Promise(t=>t())}catch(t){return this.abortOnError(),new Promise((e,i)=>i(t)).catch(()=>{})}})}abortOnError(){this.errorMessage.style.display="block",this.isLoading&&this.hideLoadingMessage()}tryAgain(){this.iframe.src=this.iframe.src,this.enableOffline()}goBack(){window.history.back()}isDisplayed(t){return!!t&&-1!==t.className.indexOf(" active")}showElement(t,e){if(t){if(t.className=t.className.replace(" inactive",""),-1===t.className.indexOf(" active")&&(t.className+=" active"),t.setAttribute("aria-hidden","false"),e){e.setAttribute("aria-expanded","true");const t=e.querySelector(".icon.open");if(t&&-1===(t.getAttribute("class")||"").indexOf(" inactive-icon")){const e=(t.getAttribute("class")||"")+" inactive-icon";t.setAttribute("class",e)}const i=e.querySelector(".icon.close");if(i){const t=(i.getAttribute("class")||"").replace(" inactive-icon","");i.setAttribute("class",t)}}const i=Array.prototype.slice.call(t.querySelectorAll("button")),n=Array.prototype.slice.call(t.querySelectorAll("a"));for(const t of i)t.tabIndex=0;for(const t of n)t.tabIndex=0}}hideElement(t,e){if(t){if(t.className=t.className.replace(" active",""),-1===t.className.indexOf(" inactive")&&(t.className+=" inactive"),t.setAttribute("aria-hidden","true"),e){e.setAttribute("aria-expanded","false");const t=e.querySelector(".icon.open");if(t){const e=(t.getAttribute("class")||"").replace(" inactive-icon","");t.setAttribute("class",e)}const i=e.querySelector(".icon.close");if(i&&-1===(i.getAttribute("class")||"").indexOf(" inactive-icon")){const t=(i.getAttribute("class")||"")+" inactive-icon";i.setAttribute("class",t)}}const i=Array.prototype.slice.call(t.querySelectorAll("button")),n=Array.prototype.slice.call(t.querySelectorAll("a"));for(const t of i)t.tabIndex=-1;for(const t of n)t.tabIndex=-1}}showModal(t,e){this.iframe.setAttribute("aria-hidden","true"),this.upLink&&this.upLink.setAttribute("aria-hidden","true"),this.fullscreen&&this.fullscreen.setAttribute("aria-hidden","true"),this.contentsControl&&this.contentsControl.setAttribute("aria-hidden","true"),this.settingsControl&&this.settingsControl.setAttribute("aria-hidden","true"),this.linksBottom&&this.linksBottom.setAttribute("aria-hidden","true"),this.linksMiddle&&this.linksMiddle.setAttribute("aria-hidden","true"),this.loadingMessage.setAttribute("aria-hidden","true"),this.errorMessage.setAttribute("aria-hidden","true"),this.infoTop.setAttribute("aria-hidden","true"),this.infoBottom.setAttribute("aria-hidden","true"),e&&e.setAttribute("aria-hidden","false"),this.showElement(t,e)}hideModal(t,e){this.iframe.setAttribute("aria-hidden","false"),this.upLink&&this.upLink.setAttribute("aria-hidden","false"),this.fullscreen&&this.fullscreen.setAttribute("aria-hidden","false"),this.contentsControl&&this.contentsControl.setAttribute("aria-hidden","false"),this.settingsControl&&this.settingsControl.setAttribute("aria-hidden","false"),this.linksBottom&&this.linksBottom.setAttribute("aria-hidden","false"),this.linksMiddle&&this.linksMiddle.setAttribute("aria-hidden","false"),this.loadingMessage.setAttribute("aria-hidden","false"),this.errorMessage.setAttribute("aria-hidden","false"),this.infoTop.setAttribute("aria-hidden","false"),this.infoBottom.setAttribute("aria-hidden","false"),this.hideElement(t,e)}toggleFullscreenIcon(){if(this.fullscreen){const t=this.fullscreen.querySelector(".icon.active-icon"),e=this.fullscreen.querySelector(".icon.inactive-icon");if(t&&-1===(t.getAttribute("class")||"").indexOf(" inactive-icon")){const e="icon inactive-icon";t.setAttribute("class",e)}if(e){const t="icon active-icon";e.setAttribute("class",t)}}}toggleFullscreen(){if(this.fullscreen){const t=document,e=document.documentElement,i=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,n=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?n.call(t):i.call(e)}}toggleDisplay(t,e){this.isDisplayed(t)?this.hideElement(t,e):this.showElement(t,e),t===this.linksMiddle&&(this.settings.getSelectedView()===this.scroller?this.showElement(t,e):this.hideElement(t,e))}toggleModal(t,e){this.isDisplayed(t)?this.hideModal(t,e):this.showModal(t,e)}handleToggleLinksClick(t){this.useDefaultHeader&&(this.hideView(this.tocView,this.contentsControl),this.hideSettings(),this.hideBookmarks(),this.hideNotes(),this.toggleDisplay(this.links,this.menuControl),this.settings.getSelectedView()===this.scroller&&(this.scroller.atBottom()||this.toggleDisplay(this.linksBottom)),t.preventDefault(),t.stopPropagation())}handlePreviousPageClick(t){if(this.paginator){if(this.paginator.onFirstPage()){if(this.previousChapterUrl){const t={href:this.previousChapterUrl,locations:{progression:1},created:new Date,title:"previousChapterUrl.title"};this.navigate(t);var e=this.paginator;setTimeout(()=>{e.goToPosition(1),this.updatePositionInfo(),this.saveCurrentReadingPosition()},1)}}else this.paginator.goToPreviousPage(),this.updatePositionInfo(),this.saveCurrentReadingPosition();t.preventDefault(),t.stopPropagation()}}handleNextPageClick(t){if(this.paginator){if(this.paginator.onLastPage()){if(this.nextChapterUrl){const t={href:this.nextChapterUrl,locations:{progression:0},created:new Date,title:"nextChapterUrl.title"};this.navigate(t);var e=this.paginator;setTimeout(()=>{e.goToPosition(0),this.updatePositionInfo(),this.saveCurrentReadingPosition()},1)}}else this.paginator.goToNextPage(),this.updatePositionInfo(),this.saveCurrentReadingPosition();t.preventDefault(),t.stopPropagation()}}handleRemoveHover(){this.iframe.className=""}handleInternalLink(t){const e=t.target;let i=this.iframe.src.split("#")[0];if(this.iframe.contentDocument&&this.iframe.contentDocument.location&&this.iframe.contentDocument.location.href&&(i=this.iframe.contentDocument.location.href.split("#")[0]),e&&"a"===e.tagName.toLowerCase()&&e.href.split("#")[0]===i){const i=e.href.split("#")[1];this.settings.getSelectedView().goToElement(i,!0),this.updatePositionInfo(),this.saveCurrentReadingPosition(),t.preventDefault(),t.stopPropagation()}}handleResize(){const t=this.settings.getSelectedView(),e=t.getCurrentPosition(),i=this.settings.getSelectedFontSize();y(this.iframe.contentDocument,"html").style.setProperty("--USER__fontSize",i);let n=2*parseInt(i.slice(0,-2));this.paginator&&(this.paginator.sideMargin=n),this.scroller&&(this.scroller.sideMargin=n);const s=!this.isDisplayed(this.links);s&&this.toggleDisplay(this.links);var o=this.links?this.links.clientHeight:40;this.useDefaultHeader?this.infoTop.style.height=o+"px":(o=this.links?this.links.clientHeight:70,this.infoTop.style.height="10px",this.infoTop.style.minHeight="10px"),s&&this.toggleDisplay(this.links);const a=!this.isDisplayed(this.linksBottom);a&&this.toggleDisplay(this.linksBottom);const r=this.linksBottom?this.linksBottom.clientHeight:40;this.useDefaultFooter?this.infoBottom.style.height=r+"px":this.infoBottom.style.height="30px",a&&this.toggleDisplay(this.linksBottom),this.paginator&&(this.useDefaultHeader&&this.useDefaultFooter?this.paginator.height=p()-o-r-10:this.useDefaultHeader?this.paginator.height=p()-o-10-40-10:this.useDefaultFooter?this.paginator.height=p()-70-r-10:this.paginator.height=p()-70-10-40-10),this.scroller&&(this.scroller.height=p()-o-r-10),setTimeout(()=>{t.goToPosition(e),this.updatePositionInfo()},100)}updatePositionInfo(){if(this.settings.getSelectedView()===this.paginator){const t=Math.round(this.paginator.getCurrentPage()),e=Math.round(this.paginator.getPageCount());this.chapterPosition.innerHTML="Page "+t+" of "+e}else this.chapterPosition.innerHTML=""}handlePreviousChapterClick(t){if(this.settings.getSelectedView()===this.paginator)this.handlePreviousPageClick(t);else{if(this.previousChapterUrl){const t={href:this.previousChapterUrl,locations:{progression:1},created:new Date,title:"previousChapterUrl.title"};this.navigate(t)}t.preventDefault(),t.stopPropagation()}}handleNextChapterClick(t){if(this.settings.getSelectedView()===this.paginator)this.handleNextPageClick(t);else{if(this.nextChapterUrl){const t={href:this.nextChapterUrl,locations:{progression:0},created:new Date,title:"nextChapterUrl.title"};this.navigate(t)}t.preventDefault(),t.stopPropagation()}}handleControlClick(t,e,i){this.useDefaultHeader&&(this.hideSettings(),this.hideBookmarks(),this.hideNotes(),this.hideNoteInputView()),t!=this.tocView&&this.isDisplayed(this.tocView)&&this.hideModal(this.tocView,this.contentsControl),t!=this.landmarksView&&this.isDisplayed(this.landmarksView)&&this.hideModal(this.landmarksView,this.landmarksControl),t!=this.pageListView&&this.isDisplayed(this.pageListView)&&this.hideModal(this.pageListView,this.pageListControl),this.toggleModal(t,e),this.settings.getSelectedView()===this.scroller&&(this.isDisplayed(t)?document.body.style.overflow="hidden":document.body.style.overflow="auto"),i.preventDefault(),i.stopPropagation()}hideNotes(){this.hideModal(this.notesView,this.notesControl)}hideBookmarks(){this.hideModal(this.bookmarksView,this.bookmarksControl)}hideNoteInputView(){this.hideModal(this.noteInputView,this.addNoteControl)}hideBookmarksOnEscape(t){this.isDisplayed(this.bookmarksView)&&27===t.keyCode&&this.hideModal(this.bookmarksView,this.bookmarksControl)}hideBookmarkOnEscape(t){this.isDisplayed(this.noteInputView)&&27===t.keyCode&&this.hideModal(this.noteInputView,this.addNoteControl)}hideView(t,e){this.useDefaultHeader&&this.hideModal(t,e),this.settings.getSelectedView()===this.scroller&&(document.body.style.overflow="auto")}hideTOCOnEscape(t){this.isDisplayed(this.tocView)&&27===t.keyCode&&this.hideView(this.tocView,this.contentsControl)}setActiveTOCItem(t){if(this.tocView){const e=Array.prototype.slice.call(this.tocView.querySelectorAll("li > a"));for(const t of e)t.className="";const i=this.tocView.querySelector('li > a[href^="'+t+'"]');i&&(i.className="active")}}deleteNote(t){return j(this,void 0,void 0,function*(){if(this.annotator){var e=yield this.annotator.deleteNote(t);return this.eventTarget&&this.eventTarget.dispatchEvent(new CustomEvent("r2.note.deleted",{detail:e})),this.useDefaultHeader||(yield this.showNotes()),x.toast({html:"note deleted"}),e}return new Promise(t=>t())})}deleteBookmark(t){return j(this,void 0,void 0,function*(){if(this.annotator){var e=yield this.annotator.deleteBookmark(t);return this.eventTarget&&this.eventTarget.dispatchEvent(new CustomEvent("r2.bookmark.deleted",{detail:e})),this.useDefaultHeader||(yield this.showBookmarks()),x.toast({html:"bookmark deleted"}),e}return new Promise(t=>t())})}saveBookmark(){return j(this,void 0,void 0,function*(){if(this.useDefaultHeader&&(this.hideView(this.tocView,this.contentsControl),this.hideView(this.landmarksView,this.landmarksControl),this.hideView(this.pageListView,this.pageListControl),this.hideBookmarks(),this.hideNotes(),this.hideSettings(),this.hideNoteInputView()),this.annotator){let i=this.iframe.src;this.iframe.contentDocument&&this.iframe.contentDocument.location&&this.iframe.contentDocument.location.href&&(i=this.iframe.contentDocument.location.href);var t=this.manifest.getTOCItem(i);null!==this.currentTocUrl&&(t=this.manifest.getTOCItem(this.currentTocUrl)),null===t&&(t=this.manifest.getSpineItem(i));const n=new URL(t.href,this.manifestUrl.href).href,s=this.settings.getSelectedView().getCurrentPosition();let o="Bookmark";if(this.noteInputView){let t=this.noteInputView.querySelector("textarea");t&&t.value&&(o=t.value,t.value="")}x.toast({html:"bookmark added"});const a={href:n,locations:{progression:s},created:new Date,title:o};var e=yield this.annotator.saveBookmark(a);return this.eventTarget&&this.eventTarget.dispatchEvent(new CustomEvent("r2.bookmark.added",{detail:e})),this.useDefaultHeader||(yield this.showBookmarks()),e}return new Promise(t=>t())})}saveNote(){return j(this,void 0,void 0,function*(){if(this.annotator){const i=this.iframe.src;let n=this.manifest.getTOCItem(i);null!==this.currentTocUrl&&(n=this.manifest.getTOCItem(this.currentTocUrl)),null===n&&(n=this.manifest.getSpineItem(i));const s=new URL(n.href,this.manifestUrl.href).href,o=this.settings.getSelectedView().getCurrentPosition();let a="Note";if(this.noteInputView){let t=this.noteInputView.querySelector("textarea");t&&t.value&&(a=t.value,t.value="")}if("Note"===a)return new Promise(t=>t());{this.useDefaultHeader&&this.hideNoteInputView();let i=this.headerMenu.querySelectorAll(".dropdown-trigger");for(const e of i){var t=x.Dropdown.getInstance(e);"notes-input"===t.id&&(t.close(),x.toast({html:"note added"}))}const n={href:s,locations:{progression:o},created:new Date,title:a,note:a};var e=yield this.annotator.saveNote(n);return this.eventTarget&&this.eventTarget.dispatchEvent(new CustomEvent("r2.note.added",{detail:e})),this.useDefaultHeader||(yield this.showNotes()),e}}return new Promise(t=>t())})}saveAnnotation(t,e,i,n){return j(this,void 0,void 0,function*(){if(this.annotator){let o=this.iframe.src;this.iframe.contentDocument&&this.iframe.contentDocument.location&&this.iframe.contentDocument.location.href&&(o=this.iframe.contentDocument.location.href);var s=this.manifest.getTOCItem(o);null!==this.currentTocUrl&&(s=this.manifest.getTOCItem(this.currentTocUrl)),null===s&&(s=this.manifest.getSpineItem(o));const a={href:new URL(s.href,this.manifestUrl.href).href,locations:{progression:this.settings.getSelectedView().getCurrentPosition()},created:new Date,title:"Annotation",range:t,color:e,text:{hightlight:i},timestamp:n};return yield this.annotator.saveAnnotation(a)}return new Promise(t=>t())})}handleBookmarkClick(t){this.useDefaultHeader&&(this.hideSettings(),this.hideView(this.tocView,this.contentsControl),this.hideView(this.landmarksView,this.landmarksControl),this.hideView(this.pageListView,this.pageListControl),this.hideBookmarks(),this.hideNotes()),this.toggleModal(this.noteInputView,this.addNoteControl),t.preventDefault(),t.stopPropagation()}handleBookmarksClick(t){this.showBookmarks(),this.useDefaultHeader&&(this.hideNoteInputView(),this.hideSettings(),this.hideView(this.tocView,this.contentsControl),this.hideView(this.landmarksView,this.landmarksControl),this.hideView(this.pageListView,this.pageListControl),this.hideNotes()),this.toggleModal(this.bookmarksView,this.bookmarksControl),t.preventDefault(),t.stopPropagation()}handleNotesClick(t){this.showNotes(),this.useDefaultHeader&&(this.hideNoteInputView(),this.hideSettings(),this.hideView(this.tocView,this.contentsControl),this.hideView(this.landmarksView,this.landmarksControl),this.hideView(this.pageListView,this.pageListControl),this.hideBookmarks()),this.toggleModal(this.notesView,this.notesControl),t.preventDefault(),t.stopPropagation()}showBookmarks(){return j(this,void 0,void 0,function*(){let t=[];this.annotator&&(t=yield this.annotator.getBookmarks()),this.createTree(h.Bookmark,t,this.bookmarksView,this.bookmarksControl)})}showHightlights(){return j(this,void 0,void 0,function*(){let t=[];if(this.annotator&&(t=yield this.annotator.getAnnotations()),t){const i=y(this.iframe.contentDocument,"body");var e=new D(i,{});const n={document:this.iframe.contentDocument},s=new V(n);t.sort((t,e)=>t.timestamp>e.timestamp?1:t.timestamp<e.timestamp?-1:0),t.forEach(t=>{const i=t;let n=this.iframe.src;this.iframe.contentDocument&&this.iframe.contentDocument.location&&this.iframe.contentDocument.location.href&&(n=this.iframe.contentDocument.location.href);var o=this.manifest.getTOCItem(n);null!==this.currentTocUrl&&(o=this.manifest.getTOCItem(this.currentTocUrl)),null===o&&(o=this.manifest.getSpineItem(n));const a=new URL(o.href,this.manifestUrl.href).href;if(i.href===a){s.deserilaizeAtomic(i.range).forEach(t=>{e.setColor(i.color);var n=e.createWrapper();n.setAttribute("data-timestamp",i.timestamp),n.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),alert("highlight clicked")});var s=e.highlightRange(t,n);e.normalizeHighlights(s.highlights)})}})}})}showNotes(){return j(this,void 0,void 0,function*(){let t=[];this.annotator&&(t=yield this.annotator.getNotes()),this.createTree(h.Note,t,this.notesView,this.notesControl)})}createTree(t,e,i,n){if(e){const s=this,o=this.manifest.tableOfContents;if(o.length&&this.tocView){const a=(o,r)=>{let l=document.createElement("ul");l.className="chapter-list";for(const d of r){let r=document.createElement("li");r.className="chapter-header";const c=document.createElement("a"),u=document.createElement("span");c.tabIndex=-1,c.style.display="block",c.style.whiteSpace="nowrap",c.style.overflow="hidden",c.style.textOverflow="ellipsis";let p="";d.href?(p=new URL(d.href,this.manifestUrl.href).href,c.href=p,c.innerHTML=d.title||"",r.appendChild(c)):(u.innerHTML=d.title||"",u.style.padding="0 16px",u.style.fontSize="14px",u.style.color="lightgray",r.appendChild(u)),c.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.useDefaultHeader&&this.hideModal(i,n);const e={href:c.href,locations:{progression:0},created:new Date,title:c.title};this.navigate(e)});const f=document.createElement("ol");f.className="bookmarks-list",e.forEach(function(e){if(d.href&&e.href.endsWith(d.href)){let o=document.createElement("li"),a=document.createElement("a");if(a.setAttribute("href",e.href),t==h.Bookmark){let t=Math.round(100*e.locations.progression)+"% through resource";a.innerHTML="<i class='material-icons'>bookmark</i>"+t}else t==h.Note&&(a.innerHTML=e.title);if(a.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),s.handleAnnotationLinkClick(t,e,i,n)}),o.appendChild(a),s.sideNavExanded){let o=document.createElement("i");o.innerHTML="delete",o.className="material-icons",o.style.cssFloat="right",o.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),s.handleAnnotationLinkDeleteClick(t,o,e,i,n)}),a.appendChild(o)}f.appendChild(o)}}),f.children.length>0&&(l.appendChild(r),l.appendChild(f)),l.children.length>0&&o.appendChild(l),d.children&&d.children.length>0&&a(o,d.children)}};i.innerHTML="",a(i,o)}}}handleAnnotationLinkClick(t,e,i,n){this.useDefaultHeader&&this.hideModal(i,n),e?this.navigate(e):console.log("bookmark data missing: ",t)}handleAnnotationLinkDeleteClick(t,e,i,n,s){i?t==h.Bookmark?this.deleteBookmark(i):t==h.Note&&this.deleteNote(i):console.log("bookmark data missing: ",e)}handleSettingsClick(t){this.useDefaultHeader&&(this.hideView(this.tocView,this.contentsControl),this.hideView(this.landmarksView,this.landmarksControl),this.hideView(this.pageListView,this.pageListControl),this.hideBookmarks(),this.hideNotes(),this.hideNoteInputView()),this.toggleModal(this.settingsView,this.settingsControl),t.preventDefault(),t.stopPropagation()}hideSettings(){this.hideModal(this.settingsView,this.settingsControl)}hideSettingsOnEscape(t){this.isDisplayed(this.settingsView)&&27===t.keyCode&&this.hideSettings()}navigate(t){if(this.hideIframeContents(),this.showLoadingMessageAfterDelay(),this.newPosition=t,-1!==t.href.indexOf("#")){const e=t.href.slice(0,t.href.indexOf("#"));this.iframe.src=e}else this.iframe.src=t.href;void 0===t.locations.id?this.currentTocUrl=null:(this.newElementId=t.locations.id,this.currentTocUrl=this.iframe.src+"#"+this.newElementId)}showIframeContents(){this.isBeingStyled=!1,setTimeout(()=>{this.isBeingStyled||(this.iframe.style.opacity="1")},150)}showLoadingMessageAfterDelay(){this.isLoading=!0,setTimeout(()=>{this.isLoading&&(this.loadingMessage.style.display="block",this.loadingMessage.classList.add("is-loading"))},200)}hideIframeContents(){this.isBeingStyled=!0,this.iframe.style.opacity="0"}hideLoadingMessage(){this.isLoading=!1,this.loadingMessage.style.display="none",this.loadingMessage.classList.remove("is-loading")}saveCurrentReadingPosition(){return j(this,void 0,void 0,function*(){if(this.annotator){let t=this.iframe.src;null!==this.currentTocUrl&&(t=this.currentTocUrl);const e={href:t,locations:{progression:this.settings.getSelectedView().getCurrentPosition()},created:new Date,title:"Last Reading Position"};return this.eventTarget&&this.eventTarget.dispatchEvent(new CustomEvent("r2.lastreadposition.changed",{detail:e})),this.annotator.saveLastReadingPosition(e)}return new Promise(t=>t())})}creatCssLink(t){const e=document.createElement("link");return e.rel="stylesheet",e.type="text/css",e.href=t,e}}class Q{constructor(){this.name="publisher-font",this.label="Publisher"}start(){const t=y(this.bookElement.contentDocument,"html");t.style.setProperty("--USER__fontFamily","Original"),t.style.setProperty("--USER__fontOverride","readium-font-off"),_(t,"data-viewer-font","publisher")}stop(){const t=y(this.bookElement.contentDocument,"html");t.style.removeProperty("--USER__fontFamily"),t.style.removeProperty("--USER__fontOverride"),w(t,"data-viewer-font")}}class Z{constructor(){this.name="serif-font",this.label="Serif"}start(){const t=y(this.bookElement.contentDocument,"html");t.style.setProperty("--USER__fontFamily","serif"),t.style.setProperty("--USER__fontOverride","readium-font-on"),_(t,"data-viewer-font","serif")}stop(){const t=y(this.bookElement.contentDocument,"html");t.style.removeProperty("--USER__fontFamily"),t.style.removeProperty("--USER__fontOverride"),w(t,"data-viewer-font")}}class G{constructor(){this.name="sans-font",this.label="Sans-serif"}start(){const t=y(this.bookElement.contentDocument,"html");t.style.setProperty("--USER__fontFamily","sans-serif"),t.style.setProperty("--USER__fontOverride","readium-font-on"),_(t,"data-viewer-font","sans")}stop(){const t=y(this.bookElement.contentDocument,"html");t.style.removeProperty("--USER__fontFamily"),t.style.removeProperty("--USER__fontOverride"),w(t,"data-viewer-font")}}class tt{constructor(){this.name="day-theme",this.label="Day"}start(){const t=document.documentElement;_(t,"data-viewer-theme","day"),_(g(t,"body"),"data-viewer-theme","day"),y(this.bookElement.contentDocument,"html").style.setProperty("--USER__appearance","readium-default-on")}stop(){const t=document.documentElement;w(t,"data-viewer-theme"),w(g(t,"body"),"data-viewer-theme"),y(this.bookElement.contentDocument,"html").style.removeProperty("--USER__appearance")}}class et{constructor(){this.name="sepia-theme",this.label="Sepia"}start(){const t=document.documentElement;_(t,"data-viewer-theme","sepia"),_(g(t,"body"),"data-viewer-theme","sepia"),y(this.bookElement.contentDocument,"html").style.setProperty("--USER__appearance","readium-sepia-on")}stop(){const t=document.documentElement;w(t,"data-viewer-theme"),w(g(t,"body"),"data-viewer-theme"),y(this.bookElement.contentDocument,"html").style.removeProperty("--USER__appearance")}}class it{constructor(){this.name="night-theme",this.label="Night"}start(){const t=document.documentElement;_(t,"data-viewer-theme","night"),_(g(t,"body"),"data-viewer-theme","night"),y(this.bookElement.contentDocument,"html").style.setProperty("--USER__appearance","readium-night-on")}stop(){const t=document.documentElement;w(t,"data-viewer-theme"),w(g(t,"body"),"data-viewer-theme"),y(this.bookElement.contentDocument,"html").style.removeProperty("--USER__appearance")}}class nt{constructor(){this.name="columns-paginated-view",this.label="Paginated",this.sideMargin=0,this.height=0,this.hasFixedScrollWidth=!1}start(){this.setSize();const t=document.createElement("meta");t.name="viewport",t.content="width=device-width, initial-scale=1, maximum-scale=1",this.checkForFixedScrollWidth(),y(this.bookElement.contentDocument,"html").style.setProperty("--USER__scroll","readium-scroll-off")}checkForFixedScrollWidth(){const t=y(this.bookElement.contentDocument,"body"),e=t.scrollWidth;this.hasFixedScrollWidth=t.scrollWidth===e}setSize(){const t=y(this.bookElement.contentDocument,"body");this.bookElement.contentDocument.documentElement.style.height=this.height+"px",this.bookElement.style.height=this.height+"px",this.bookElement.style.width=u()+"px";const e=t.querySelectorAll("img");for(const t of e)t.style.width=t.width+"px"}stop(){}getLeftColumnsWidth(){return y(this.bookElement.contentDocument,"html").scrollLeft}getRightColumnsWidth(){let t=y(this.bookElement.contentDocument,"html").scrollWidth-this.getColumnWidth();if(this.hasFixedScrollWidth){const e=this.getLeftColumnsWidth();t=Math.max(0,t-e)}return t}getColumnWidth(){return y(this.bookElement.contentDocument,"html").offsetWidth}setLeftColumnsWidth(t){y(this.bookElement.contentDocument,"html").scrollLeft=t}getCurrentPosition(){const t=this.getColumnWidth(),e=this.getLeftColumnsWidth();return e/(e+t+this.getRightColumnsWidth())}getCurrentPage(){return this.getCurrentPosition()*this.getPageCount()+1}getPageCount(){const t=this.getColumnWidth();return y(this.bookElement.contentDocument,"html").scrollWidth/t}onFirstPage(){return this.getLeftColumnsWidth()<=0}onLastPage(){return this.getRightColumnsWidth()<=0}goToPreviousPage(){var t=this.getLeftColumnsWidth()-this.getColumnWidth();t>=0?this.setLeftColumnsWidth(t):this.setLeftColumnsWidth(0)}goToNextPage(){const t=this.getLeftColumnsWidth(),e=this.getColumnWidth(),i=y(this.bookElement.contentDocument,"html").scrollWidth;var n=t+e;n<i?this.setLeftColumnsWidth(n):this.setLeftColumnsWidth(i)}goToPosition(t){this.setSize();const e=this.getColumnWidth(),i=e+this.getRightColumnsWidth(),n=t*i;let s=Math.round(n/e)*e;s>=i&&(s-=e),this.setLeftColumnsWidth(s)}goToElement(t,e){const i=this.bookElement.contentDocument.getElementById(t);if(i){const t=i.style.height;i.style.height="0";const n=i.getBoundingClientRect().left,s=this.getColumnWidth();let o=Math.floor(n/s)*s;if(e){const t=this.getLeftColumnsWidth();o=Math.floor(n/s)*s+t}i.style.height=t,this.setLeftColumnsWidth(o)}}}class st{constructor(){this.name="scrolling-book-view",this.label="Scrolling",this.sideMargin=20,this.height=0}setIFrameSize(){this.bookElement.style.height="",this.bookElement.style.width=u()+"px";const t=y(this.bookElement.contentDocument,"body"),e=u()-2*this.sideMargin+"px",i=this.height,n=t.scrollHeight+120;this.bookElement.style.height=Math.max(i,n)+"px";const s=Array.prototype.slice.call(t.querySelectorAll("img"));for(const n of s){n.hasAttribute("width")&&(n.style.width=n.width+"px"),n.hasAttribute("height")&&(n.style.height=n.height+"px"),n.width>e&&(n.style.maxWidth=e);const s=t.scrollHeight+120;this.bookElement.style.height=Math.max(i,s)+"px"}}start(){const t=y(this.bookElement.contentDocument,"head");if(t){const e=m(t,"meta[name=viewport]");e&&e.remove()}y(this.bookElement.contentDocument,"html").style.setProperty("--USER__scroll","readium-scroll-on"),this.setIFrameSize()}stop(){this.bookElement.style.height="",this.bookElement.style.width="";const t=y(this.bookElement.contentDocument,"body"),e=Array.prototype.slice.call(t.querySelectorAll("img"));for(const t of e)t.style.maxWidth=""}getCurrentPosition(){return(document.documentElement||document.body.parentNode||document.body).scrollTop/document.body.scrollHeight}atBottom(){var t=(document.documentElement||document.body.parentNode||document.body).scrollTop;return document.body.scrollHeight-t===p()}goToPosition(t){this.setIFrameSize(),(document.documentElement||document.body.parentNode||document.body).scrollTop=document.body.scrollHeight*t}goToElement(t){this.setIFrameSize();const e=this.bookElement.contentDocument.getElementById(t);e&&(document.scrollingElement.scrollTop=e.offsetTop)}}var ot=function(t,e,i,n){return new(i||(i=Promise))(function(s,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function r(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,r)}l((n=n.apply(t,e||[])).next())})};const at=t=>`\n    <ul class="settings-menu" role="menu">\n        ${t}\n    </ul>\n`,rt=t=>`\n    <li><ul class="settings-options">\n        ${t}\n    </ul></li>\n`,lt=(t,e,i,n,s,o)=>`\n    <li class='${t}'><button id='${o}' class='${e}' role='${n}' tabindex=-1>${i}${s}</button></li>\n`;class ht{constructor(t,e,i,n,s){this.fontChangeCallback=(()=>{}),this.fontSizeChangeCallback=(()=>{}),this.themeChangeCallback=(()=>{}),this.viewChangeCallback=(()=>{}),this.store=t,this.bookFonts=e,this.fontSizes=i,this.bookThemes=n,this.bookViews=s}static create(t){return ot(this,void 0,void 0,function*(){const e=t.fontSizesInPixels.map(t=>t+"px"),i=new this(t.store,t.bookFonts,e,t.bookThemes,t.bookViews);return yield i.initializeSelections(t.defaultFontSizeInPixels?t.defaultFontSizeInPixels+"px":void 0),i})}initializeSelections(t){return ot(this,void 0,void 0,function*(){if(this.bookFonts.length>=1){let t=this.bookFonts[0];const e=yield this.store.get(ht.SELECTED_FONT_KEY);if(e)for(const i of this.bookFonts)if(i.name===e){t=i;break}this.selectedFont=t}if(this.fontSizes.length>=1){let e=yield this.store.get(ht.SELECTED_FONT_SIZE_KEY),i=e&&-1!==this.fontSizes.indexOf(e);if(e&&i||!t||(i=(e=t)&&-1!==this.fontSizes.indexOf(e)),!e||!i){const t=Math.floor(this.fontSizes.length/2);e=this.fontSizes[t]}this.selectedFontSize=e}if(this.bookThemes.length>=1){let t=this.bookThemes[0];const e=yield this.store.get(ht.SELECTED_THEME_KEY);if(e)for(const i of this.bookThemes)if(i.name===e){t=i;break}this.selectedTheme=t}if(this.bookViews.length>=1){let t=this.bookViews[0];const e=yield this.store.get(ht.SELECTED_VIEW_KEY);if(e)for(const i of this.bookViews)if(i.name===e){t=i;break}this.selectedView=t}})}renderControls(t){const e=[];if(this.bookFonts.length>1){const t=this.bookFonts.map(t=>lt("reading-style",t.name,t.label,"menuitem",C.checkDupe,t.label));e.push(rt(t.join("")))}if(this.fontSizes.length>1){const t=lt("font-setting","decrease","A-","menuitem","","decrease-font")+lt("font-setting","increase","A+","menuitem","","increase-font");e.push(rt(t))}if(this.bookThemes.length>1){const t=this.bookThemes.map(t=>lt("reading-theme",t.name,t.label,"menuitem",C.checkDupe,t.label));e.push(rt(t.join("")))}if(this.bookViews.length>1){const t=this.bookViews.map(t=>lt("reading-style",t.name,t.label,"menuitem",C.checkDupe,t.label));e.push(rt(t.join("")))}if(t.innerHTML=at(e.join("")),this.fontButtons={},this.bookFonts.length>1){for(const e of this.bookFonts)this.fontButtons[e.name]=g(t,"button[class="+e.name+"]");this.updateFontButtons()}if(this.fontSizeButtons={},this.fontSizes.length>1){for(const e of["decrease","increase"])this.fontSizeButtons[e]=g(t,"button[class="+e+"]");this.updateFontSizeButtons()}if(this.themeButtons={},this.bookThemes.length>1){for(const e of this.bookThemes)this.themeButtons[e.name]=g(t,"button[class="+e.name+"]");this.updateThemeButtons()}if(this.viewButtons={},this.bookViews.length>1){for(const e of this.bookViews)this.viewButtons[e.name]=g(t,"button[class="+e.name+"]");this.updateViewButtons()}this.offlineStatusElement=m(t,'div[class="offline-status"]'),this.setupEvents(),g(t,"ul").addEventListener("click",t=>{t.stopPropagation()})}onFontChange(t){this.fontChangeCallback=t}onFontSizeChange(t){this.fontSizeChangeCallback=t}onThemeChange(t){this.themeChangeCallback=t}onViewChange(t){this.viewChangeCallback=t}setupEvents(){for(const t of this.bookFonts){const e=this.fontButtons[t.name];e&&e.addEventListener("click",e=>{this.selectedFont.stop(),t.start(),this.selectedFont=t,this.updateFontButtons(),this.storeSelectedFont(t),this.fontChangeCallback(),e.preventDefault()})}this.fontSizes.length>1&&(this.fontSizeButtons.decrease.addEventListener("click",t=>{const e=this.fontSizes.indexOf(this.selectedFontSize);if(e>0){const t=this.fontSizes[e-1];this.selectedFontSize=t,this.fontSizeChangeCallback(),this.updateFontSizeButtons(),this.storeSelectedFontSize(t)}t.preventDefault()}),this.fontSizeButtons.increase.addEventListener("click",t=>{const e=this.fontSizes.indexOf(this.selectedFontSize);if(e<this.fontSizes.length-1){const t=this.fontSizes[e+1];this.selectedFontSize=t,this.fontSizeChangeCallback(),this.updateFontSizeButtons(),this.storeSelectedFontSize(t)}t.preventDefault()}));for(const t of this.bookThemes){const e=this.themeButtons[t.name];e&&e.addEventListener("click",e=>{this.selectedTheme.stop(),t.start(),this.selectedTheme=t,this.updateThemeButtons(),this.storeSelectedTheme(t),this.themeChangeCallback(),e.preventDefault()})}for(const t of this.bookViews){const e=this.viewButtons[t.name];e&&e.addEventListener("click",e=>{const i=this.selectedView.getCurrentPosition();this.selectedView.stop(),t.start(),t.goToPosition(i),this.selectedView=t,this.updateViewButtons(),this.storeSelectedView(t),this.viewChangeCallback(),e.preventDefault()})}}updateFontButtons(){for(const t of this.bookFonts)t===this.selectedFont?(this.fontButtons[t.name].className=t.name+" active",this.fontButtons[t.name].setAttribute("aria-label",t.label+" font enabled")):(this.fontButtons[t.name].className=t.name,this.fontButtons[t.name].setAttribute("aria-label",t.label+" font disabled"))}updateFontSizeButtons(){const t=this.fontSizes.indexOf(this.selectedFontSize);this.fontSizeButtons.decrease.className=0===t?"decrease disabled":"decrease",t===this.fontSizes.length-1?this.fontSizeButtons.increase.className="increase disabled":this.fontSizeButtons.increase.className="increase"}updateThemeButtons(){for(const t of this.bookThemes)t===this.selectedTheme?(this.themeButtons[t.name].className=t.name+" active",this.themeButtons[t.name].setAttribute("aria-label",t.label+" mode enabled")):(this.themeButtons[t.name].className=t.name,this.themeButtons[t.name].setAttribute("aria-label",t.label+" mode disabled"))}updateViewButtons(){for(const t of this.bookViews)t===this.selectedView?(this.viewButtons[t.name].className=t.name+" active",this.viewButtons[t.name].setAttribute("aria-label",t.label+" mode enabled")):(this.viewButtons[t.name].className=t.name,this.viewButtons[t.name].setAttribute("aria-label",t.label+" mode disabled"))}getSelectedFont(){return this.selectedFont}getSelectedFontSize(){return this.selectedFontSize}getSelectedTheme(){return this.selectedTheme}getSelectedView(){return this.selectedView}getOfflineStatusElement(){return this.offlineStatusElement}storeSelectedFont(t){return ot(this,void 0,void 0,function*(){return this.store.set(ht.SELECTED_FONT_KEY,t.name)})}storeSelectedFontSize(t){return ot(this,void 0,void 0,function*(){return this.store.set(ht.SELECTED_FONT_SIZE_KEY,t)})}storeSelectedTheme(t){return ot(this,void 0,void 0,function*(){return this.store.set(ht.SELECTED_THEME_KEY,t.name)})}storeSelectedView(t){return ot(this,void 0,void 0,function*(){return this.store.set(ht.SELECTED_VIEW_KEY,t.name)})}}ht.SELECTED_FONT_KEY="settings-selected-font",ht.SELECTED_FONT_SIZE_KEY="settings-selected-font-size",ht.SELECTED_THEME_KEY="settings-selected-theme",ht.SELECTED_VIEW_KEY="settings-selected-view";var dt=function(t,e,i,n){return new(i||(i=Promise))(function(s,o){function a(t){try{l(n.next(t))}catch(t){o(t)}}function r(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,r)}l((n=n.apply(t,e||[])).next())})};class ct{constructor(t){this.store=t.store}getLastReadingPosition(){return dt(this,void 0,void 0,function*(){const t=yield this.store.get(ct.LAST_READING_POSITION);if(t){const e=JSON.parse(t);return new Promise(t=>t(e))}return new Promise(t=>t())})}initLastReadingPosition(t){return dt(this,void 0,void 0,function*(){return yield this.store.set(ct.LAST_READING_POSITION,t),new Promise(t=>t())})}saveLastReadingPosition(t){return dt(this,void 0,void 0,function*(){if("string"==typeof t)yield this.store.set(ct.LAST_READING_POSITION,t);else{const e=JSON.stringify(t);yield this.store.set(ct.LAST_READING_POSITION,e)}return new Promise(t=>t())})}initBookmarks(t){return dt(this,void 0,void 0,function*(){let e=JSON.parse(t);return yield this.store.set(ct.BOOKMARKS,JSON.stringify(e)),new Promise(e=>e(t))})}saveBookmark(t){return dt(this,void 0,void 0,function*(){let e=yield this.store.get(ct.BOOKMARKS);if(e){let i=JSON.parse(e);i.push(t),yield this.store.set(ct.BOOKMARKS,JSON.stringify(i))}else{let e=new Array;e.push(t),yield this.store.set(ct.BOOKMARKS,JSON.stringify(e))}return new Promise(e=>e(t))})}deleteBookmark(t){return dt(this,void 0,void 0,function*(){let e=yield this.store.get(ct.BOOKMARKS);if(e){let i=JSON.parse(e);i=i.filter(e=>e.created!==t.created),yield this.store.set(ct.BOOKMARKS,JSON.stringify(i))}return new Promise(e=>e(t))})}getBookmarks(){return dt(this,void 0,void 0,function*(){const t=yield this.store.get(ct.BOOKMARKS);if(t){const e=JSON.parse(t);return new Promise(t=>t(e))}return new Promise(t=>t())})}initNotes(t){return dt(this,void 0,void 0,function*(){let e=JSON.parse(t);return yield this.store.set(ct.NOTES,JSON.stringify(e)),new Promise(e=>e(t))})}saveNote(t){return dt(this,void 0,void 0,function*(){let e=yield this.store.get(ct.NOTES);if(e){let i=JSON.parse(e);i.push(t),yield this.store.set(ct.NOTES,JSON.stringify(i))}else{let e=new Array;e.push(t),yield this.store.set(ct.NOTES,JSON.stringify(e))}return new Promise(e=>e(t))})}deleteNote(t){return dt(this,void 0,void 0,function*(){let e=yield this.store.get(ct.NOTES);if(e){let i=JSON.parse(e);i=i.filter(e=>e.created!==t.created),yield this.store.set(ct.NOTES,JSON.stringify(i))}return new Promise(e=>e(t))})}getNotes(){return dt(this,void 0,void 0,function*(){const t=yield this.store.get(ct.NOTES);if(t){const e=JSON.parse(t);return new Promise(t=>t(e))}return new Promise(t=>t())})}initAnnotations(t){return dt(this,void 0,void 0,function*(){let e=JSON.parse(t);return yield this.store.set(ct.ANNOTATIONS,JSON.stringify(e)),new Promise(e=>e(t))})}saveAnnotation(t){return dt(this,void 0,void 0,function*(){let e=yield this.store.get(ct.ANNOTATIONS);if(e){let i=JSON.parse(e);i.push(t),yield this.store.set(ct.ANNOTATIONS,JSON.stringify(i))}else{let e=new Array;e.push(t),yield this.store.set(ct.ANNOTATIONS,JSON.stringify(e))}return new Promise(e=>e(t))})}deleteAnnotation(t){return dt(this,void 0,void 0,function*(){let e=yield this.store.get(ct.ANNOTATIONS);if(e){let i=JSON.parse(e);i=i.filter(e=>e.created!==t.created),yield this.store.set(ct.ANNOTATIONS,JSON.stringify(i))}return new Promise(e=>e(t))})}getAnnotations(){return dt(this,void 0,void 0,function*(){const t=yield this.store.get(ct.ANNOTATIONS);if(t){const e=JSON.parse(t);return new Promise(t=>t(e))}return new Promise(t=>t())})}}function ut(t){var e=document.getElementById("R2Reader-Container"),i=document.getElementById("headerMenu"),n=document.getElementById("footerMenu"),s=t.url,o=new a({prefix:s.href}),r=[new URL(window.location.href),new URL("index.html",window.location.href),new URL("fetch.js",window.location.href),new URL("r2-reader.css",window.location.href),new URL("r2-reader.js",window.location.href)];t.customHeader&&(r=[new URL(window.location.href),new URL("index.html",window.location.href),new URL("fetch.js",window.location.href),new URL("r2-reader.css",window.location.href),new URL("r2-reader.js",window.location.href),new URL("material.css",window.location.href),new URL("material.js",window.location.href)]);var l=new URL("/viewer/sw.js",window.location.href);t.serviceWorkerUrl&&(l=t.serviceWorkerUrl);var h=new c({store:o,manifestUrl:s,serviceWorkerUrl:l,staticFileUrls:r,fallbackBookCacheUrl:t.bookCacheUrl}),d=new Q,u=new Z,p=new G,f=new tt,v=new et,m=new it,g=new nt,y=new st,_=new ct({store:o}),w=new a({prefix:"r2-reader"}),k={url:new URL(window.location.origin),label:"Catalog",ariaLabel:"Go back to the Catalog"};t.upLinkUrl&&(k=t.upLinkUrl),ht.create({store:w,bookFonts:[d,u,p],fontSizesInPixels:[12,14,16,18,20,22,24,26,28,30,32],defaultFontSizeInPixels:18,bookThemes:[f,v,m],bookViews:[y,g]}).then(function(a){J.create({eventTarget:t.eventTarget,mainElement:e,headerMenu:i,footerMenu:n,manifestUrl:s,store:o,cacher:h,settings:a,annotator:_,publisher:d,serif:u,sans:p,day:f,sepia:v,night:m,paginator:g,scroller:y,upLink:k,allowFullscreen:!1,useDefaultHeader:!t.customHeader,useDefaultFooter:!t.customFooter,initialAnnotations:t.annotations,initialLastReadingPosition:t.lastReadingPosition})})}ct.LAST_READING_POSITION="last-reading-position",ct.BOOKMARKS="bookmarks",ct.NOTES="notes",ct.ANNOTATIONS="annotations",i.d(e,"load",function(){return ut}),exports.load=function(t){ut(t)}}]);
//# sourceMappingURL=r2-reader.js.map